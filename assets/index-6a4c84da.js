import{r as L,R as H2,g as N_,j as X,c as V2,a as Rt,b as Ne,d as W2,F as j2,e as J2}from"./react-three-c420b93a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Bc.apply(this,arguments)}var _o;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(_o||(_o={}));const DA="popstate";function X2(i){i===void 0&&(i={});function e(n,r){let{pathname:s,search:o,hash:a}=n.location;return _g("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Wd(r)}return Q2(e,t,null,i)}function Xi(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Y2(){return Math.random().toString(36).substr(2,8)}function FA(i,e){return{usr:i.state,key:i.key,idx:e}}function _g(i,e,t,n){return t===void 0&&(t=null),Bc({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ph(e):e,{state:t,key:e&&e.key||n||Y2()})}function Wd(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ph(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function Q2(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,a=_o.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Bc({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=_o.Pop;let x=f(),w=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:w})}function p(x,w){a=_o.Push;let _=_g(y.location,x,w);t&&t(_,x),c=f()+1;let b=FA(_,c),S=y.createHref(_);try{o.pushState(b,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,w){a=_o.Replace;let _=_g(y.location,x,w);t&&t(_,x),c=f();let b=FA(_,c),S=y.createHref(_);o.replaceState(b,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let w=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:Wd(x);return _=_.replace(/ $/,"%20"),Xi(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return i(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(DA,h),l=x,()=>{r.removeEventListener(DA,h),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let w=v(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return o.go(x)}};return y}var OA;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(OA||(OA={}));function k_(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function K2(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?ph(i):i;return{pathname:t?t.startsWith("/")?t:q2(t,e):e,search:$2(n),hash:eP(r)}}function q2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function tm(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G_(i,e){let t=Z2(i);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function z_(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=ph(i):(r=Bc({},i),Xi(!r.pathname||!r.pathname.includes("?"),tm("?","pathname","search",r)),Xi(!r.pathname||!r.pathname.includes("#"),tm("#","pathname","hash",r)),Xi(!r.search||!r.search.includes("#"),tm("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=K2(r,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const U_=i=>i.join("/").replace(/\/\/+/g,"/"),$2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eP=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,H_=["post","put","patch","delete"];new Set(H_);const tP=["get",...H_];new Set(tP);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},jd.apply(this,arguments)}const V_=L.createContext(null),hl=L.createContext(null),fv=L.createContext(null),mh=L.createContext({outlet:null,matches:[],isDataRoute:!1});function nP(i,e){let{relative:t}=e===void 0?{}:e;gh()||Xi(!1);let{basename:n,navigator:r}=L.useContext(hl),{hash:s,pathname:o,search:a}=j_(i,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:U_([n,o])),r.createHref({pathname:l,search:a,hash:s})}function gh(){return L.useContext(fv)!=null}function dv(){return gh()||Xi(!1),L.useContext(fv).location}function W_(i){L.useContext(hl).static||L.useLayoutEffect(i)}function iP(){let{isDataRoute:i}=L.useContext(mh);return i?lP():rP()}function rP(){gh()||Xi(!1);let i=L.useContext(V_),{basename:e,future:t,navigator:n}=L.useContext(hl),{matches:r}=L.useContext(mh),{pathname:s}=dv(),o=JSON.stringify(G_(r,t.v7_relativeSplatPath)),a=L.useRef(!1);return W_(()=>{a.current=!0}),L.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=z_(c,JSON.parse(o),s,f.relative==="path");i==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:U_([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,s,i])}function j_(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=L.useContext(hl),{matches:r}=L.useContext(mh),{pathname:s}=dv(),o=JSON.stringify(G_(r,n.v7_relativeSplatPath));return L.useMemo(()=>z_(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}var J_=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(J_||{}),X_=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(X_||{});function sP(i){let e=L.useContext(V_);return e||Xi(!1),e}function oP(i){let e=L.useContext(mh);return e||Xi(!1),e}function aP(i){let e=oP(),t=e.matches[e.matches.length-1];return t.route.id||Xi(!1),t.route.id}function lP(){let{router:i}=sP(J_.UseNavigateStable),e=aP(X_.UseNavigateStable),t=L.useRef(!1);return W_(()=>{t.current=!0}),L.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,jd({fromRouteId:e},s)))},[i,e])}function cP(i,e){i==null||i.v7_startTransition,(i==null?void 0:i.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function uP(i){let{basename:e="/",children:t=null,location:n,navigationType:r=_o.Pop,navigator:s,static:o=!1,future:a}=i;gh()&&Xi(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:o,future:jd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=ph(n));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:v="default"}=n,y=L.useMemo(()=>{let x=k_(f,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:v},navigationType:r}},[l,f,h,p,m,v,r]);return y==null?null:L.createElement(hl.Provider,{value:c},L.createElement(fv.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(){return Sg=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Sg.apply(this,arguments)}function fP(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function dP(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function hP(i,e){return i.button===0&&(!e||e==="_self")&&!dP(i)}const pP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mP="6";try{window.__reactRouterVersion=mP}catch{}const gP="startTransition",NA=H2[gP];function vP(i){let{basename:e,children:t,future:n,window:r}=i,s=L.useRef();s.current==null&&(s.current=X2({window:r,v5Compat:!0}));let o=s.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},f=L.useCallback(h=>{c&&NA?NA(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>o.listen(f),[o,f]),L.useEffect(()=>cP(n),[n]),L.createElement(uP,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AP=L.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h}=e,p=fP(e,pP),{basename:m}=L.useContext(hl),v,y=!1;if(typeof c=="string"&&xP.test(c)&&(v=c,yP))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=k_(S.pathname,m);S.origin===b.origin&&C!=null?c=C+S.search+S.hash:y=!0}catch{}let x=nP(c,{relative:r}),w=wP(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:r,viewTransition:h});function _(b){n&&n(b),b.defaultPrevented||w(b)}return L.createElement("a",Sg({},p,{href:v||x,onClick:y||s?n:_,ref:t,target:l}))});var kA;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(kA||(kA={}));var GA;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(GA||(GA={}));function wP(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=iP(),c=dv(),f=j_(i,{relative:o});return L.useCallback(h=>{if(hP(h,t)){h.preventDefault();let p=n!==void 0?n:Wd(c)===Wd(f);l(i,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,f,n,r,t,i,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const pl="149",go={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vo={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Y_=0,Mg=1,Q_=2,bP=3,K_=0,vh=1,mc=2,So=3,mr=0,ni=1,Ji=2,_P=2,jr=0,Do=1,Cg=2,Eg=3,Tg=4,q_=5,wo=100,Z_=101,$_=102,Pg=103,Bg=104,eS=200,tS=201,nS=202,iS=203,hv=204,pv=205,rS=206,sS=207,oS=208,aS=209,lS=210,cS=0,uS=1,fS=2,Jd=3,dS=4,hS=5,pS=6,mS=7,Zc=0,gS=1,vS=2,Yi=0,yS=1,xS=2,AS=3,mv=4,wS=5,yh=300,Bs=301,Is=302,Ic=303,Rc=304,ml=306,Rs=1e3,In=1001,il=1002,on=1003,Lc=1004,SP=1004,qa=1005,MP=1005,qt=1006,xh=1007,CP=1007,gr=1008,EP=1008,Qr=1009,bS=1010,_S=1011,gv=1012,SS=1013,Ms=1014,zr=1015,rl=1016,MS=1017,CS=1018,Fo=1020,ES=1021,ti=1023,TS=1024,PS=1025,Es=1026,Uo=1027,BS=1028,IS=1029,RS=1030,LS=1031,DS=1033,Ed=33776,Td=33777,Pd=33778,Bd=33779,Ig=35840,Rg=35841,Lg=35842,Dg=35843,FS=36196,Fg=37492,Og=37496,Ng=37808,kg=37809,Gg=37810,zg=37811,Ug=37812,Hg=37813,Vg=37814,Wg=37815,jg=37816,Jg=37817,Xg=37818,Yg=37819,Qg=37820,Kg=37821,Id=36492,OS=36283,qg=36284,Zg=36285,$g=36286,NS=2200,kS=2201,GS=2202,sl=2300,Ho=2301,Rd=2302,Mo=2400,Co=2401,Dc=2402,Ah=2500,vv=2501,zS=0,yv=1,Xd=2,Ls=3e3,Vt=3001,US=3200,HS=3201,Us=0,VS=1,TP="",Wi="srgb",ol="srgb-linear",PP=0,Ld=7680,BP=7681,IP=7682,RP=7683,LP=34055,DP=34056,FP=5386,OP=512,NP=513,kP=514,GP=515,zP=516,UP=517,HP=518,WS=519,Fc=35044,Oo=35048,VP=35040,WP=35045,jP=35049,JP=35041,XP=35046,YP=35050,QP=35042,KP="100",e0="300 es",Yd=1035;let ts=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Nn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zA=1234567;const No=Math.PI/180,Oc=180/Math.PI;function hi(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Nn[i&255]+Nn[i>>8&255]+Nn[i>>16&255]+Nn[i>>24&255]+"-"+Nn[e&255]+Nn[e>>8&255]+"-"+Nn[e>>16&15|64]+Nn[e>>24&255]+"-"+Nn[t&63|128]+Nn[t>>8&255]+"-"+Nn[t>>16&255]+Nn[t>>24&255]+Nn[n&255]+Nn[n>>8&255]+Nn[n>>16&255]+Nn[n>>24&255]).toLowerCase()}function cn(i,e,t){return Math.max(e,Math.min(t,i))}function xv(i,e){return(i%e+e)%e}function qP(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function ZP(i,e,t){return i!==e?(t-i)/(e-i):0}function gc(i,e,t){return(1-t)*i+t*e}function $P(i,e,t,n){return gc(i,e,1-Math.exp(-t*n))}function eB(i,e=1){return e-Math.abs(xv(i,e*2)-e)}function tB(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function nB(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function iB(i,e){return i+Math.floor(Math.random()*(e-i+1))}function rB(i,e){return i+Math.random()*(e-i)}function sB(i){return i*(.5-Math.random())}function oB(i){i!==void 0&&(zA=i);let e=zA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function aB(i){return i*No}function lB(i){return i*Oc}function t0(i){return(i&i-1)===0&&i!==0}function jS(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Qd(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function cB(i,e,t,n,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+n)/2),f=o((e+n)/2),h=s((e-n)/2),p=o((e-n)/2),m=s((n-e)/2),v=o((n-e)/2);switch(r){case"XYX":i.set(a*f,l*h,l*p,a*c);break;case"YZY":i.set(l*p,a*f,l*h,a*c);break;case"ZXZ":i.set(l*h,l*p,a*f,a*c);break;case"XZX":i.set(a*f,l*v,l*m,a*c);break;case"YXY":i.set(l*m,a*f,l*v,a*c);break;case"ZYZ":i.set(l*v,l*m,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ur(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Ht(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}var JS=Object.freeze({__proto__:null,DEG2RAD:No,RAD2DEG:Oc,ceilPowerOfTwo:jS,clamp:cn,damp:$P,degToRad:aB,denormalize:Ur,euclideanModulo:xv,floorPowerOfTwo:Qd,generateUUID:hi,inverseLerp:ZP,isPowerOfTwo:t0,lerp:gc,mapLinear:qP,normalize:Ht,pingpong:eB,radToDeg:lB,randFloat:rB,randFloatSpread:sB,randInt:iB,seededRandom:oB,setQuaternionFromProperEuler:cB,smootherstep:nB,smoothstep:tB});class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yn{constructor(){Yn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=n,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],f=n[4],h=n[7],p=n[2],m=n[5],v=n[8],y=r[0],x=r[3],w=r[6],_=r[1],b=r[4],S=r[7],C=r[2],P=r[5],R=r[8];return s[0]=o*y+a*_+l*C,s[3]=o*x+a*b+l*P,s[6]=o*w+a*S+l*R,s[1]=c*y+f*_+h*C,s[4]=c*x+f*b+h*P,s[7]=c*w+f*S+h*R,s[2]=p*y+m*_+v*C,s[5]=p*x+m*b+v*P,s[8]=p*w+m*S+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return t*o*f-t*a*c-n*s*f+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*l-f*s,m=c*s-o*l,v=t*h+n*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(r*c-f*n)*y,e[2]=(a*n-r*o)*y,e[3]=p*y,e[4]=(f*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(n*l-c*t)*y,e[8]=(o*t-n*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(nm.makeScale(e,t)),this}rotate(e){return this.premultiply(nm.makeRotation(-e)),this}translate(e,t){return this.premultiply(nm.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const nm=new Yn;function XS(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const uB={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ua(i,e){return new uB[i](e)}function Nc(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function ko(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Dd(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}const im={[Wi]:{[ol]:ko},[ol]:{[Wi]:Dd}},kn={legacyMode:!0,get workingColorSpace(){return ol},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.legacyMode||e===t||!e||!t)return i;if(im[e]&&im[e][t]!==void 0){const n=im[e][t];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}},YS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gn={r:0,g:0,b:0},Ui={h:0,s:0,l:0},Ef={h:0,s:0,l:0};function rm(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}function Tf(i,e){return e.r=i.r,e.g=i.g,e.b=i.b,e}class De{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=kn.workingColorSpace){return this.r=e,this.g=t,this.b=n,kn.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=kn.workingColorSpace){if(e=xv(e,1),t=cn(t,0,1),n=cn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=rm(o,s,e+1/3),this.g=rm(o,s,e),this.b=rm(o,s,e-1/3)}return kn.toWorkingColorSpace(this,r),this}setStyle(e,t=Wi){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,kn.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,kn.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return n(s[4]),this.setHSL(l,c,f,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,kn.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,kn.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Wi){const n=YS[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ko(e.r),this.g=ko(e.g),this.b=ko(e.b),this}copyLinearToSRGB(e){return this.r=Dd(e.r),this.g=Dd(e.g),this.b=Dd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wi){return kn.fromWorkingColorSpace(Tf(this,gn),e),cn(gn.r*255,0,255)<<16^cn(gn.g*255,0,255)<<8^cn(gn.b*255,0,255)<<0}getHexString(e=Wi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=kn.workingColorSpace){kn.fromWorkingColorSpace(Tf(this,gn),t);const n=gn.r,r=gn.g,s=gn.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case n:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-n)/h+2;break;case s:l=(n-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=kn.workingColorSpace){return kn.fromWorkingColorSpace(Tf(this,gn),t),e.r=gn.r,e.g=gn.g,e.b=gn.b,e}getStyle(e=Wi){return kn.fromWorkingColorSpace(Tf(this,gn),e),e!==Wi?`color(${e} ${gn.r} ${gn.g} ${gn.b})`:`rgb(${gn.r*255|0},${gn.g*255|0},${gn.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(Ui),Ui.h+=e,Ui.s+=t,Ui.l+=n,this.setHSL(Ui.h,Ui.s,Ui.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ui),e.getHSL(Ef);const n=gc(Ui.h,Ef.h,t),r=gc(Ui.s,Ef.s,t),s=gc(Ui.l,Ef.l,t);return this.setHSL(n,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}De.NAMES=YS;let ya;class Av{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ya===void 0&&(ya=Nc("canvas")),ya.width=e.width,ya.height=e.height;const n=ya.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ya}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Nc("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ko(s[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ko(t[n]/255)*255):t[n]=ko(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Eo{constructor(e=null){this.isSource=!0,this.uuid=hi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(sm(r[o].image)):s.push(sm(r[o]))}else s=sm(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function sm(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?Av.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fB=0;class en extends ts{constructor(e=en.DEFAULT_IMAGE,t=en.DEFAULT_MAPPING,n=In,r=In,s=qt,o=gr,a=ti,l=Qr,c=en.DEFAULT_ANISOTROPY,f=Ls){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fB++}),this.uuid=hi(),this.name="",this.source=new Eo(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Rs:e.x=e.x-Math.floor(e.x);break;case In:e.x=e.x<0?0:1;break;case il:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Rs:e.y=e.y-Math.floor(e.y);break;case In:e.y=e.y<0?0:1;break;case il:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}en.DEFAULT_IMAGE=null;en.DEFAULT_MAPPING=yh;en.DEFAULT_ANISOTROPY=1;class Gt{constructor(e=0,t=0,n=0,r=1){Gt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],f=l[4],h=l[8],p=l[1],m=l[5],v=l[9],y=l[2],x=l[6],w=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,S=(m+1)/2,C=(w+1)/2,P=(f+p)/4,R=(h+y)/4,E=(v+x)/4;return b>S&&b>C?b<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(b),r=P/n,s=R/n):S>C?S<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),n=P/r,s=E/r):C<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),n=R/s,r=E/s),this.set(n,r,s,t),this}let _=Math.sqrt((x-v)*(x-v)+(h-y)*(h-y)+(p-f)*(p-f));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(h-y)/_,this.z=(p-f)/_,this.w=Math.acos((c+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ki extends ts{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gt(0,0,e,t),this.scissorTest=!1,this.viewport=new Gt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new en(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:qt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Eo(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wh extends en{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=on,this.minFilter=on,this.wrapR=In,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dB extends Ki{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new wh(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class wv extends en{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=on,this.minFilter=on,this.wrapR=In,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hB extends Ki{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new wv(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class pB extends Ki{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Tn{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],f=n[r+2],h=n[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(h!==y||l!==p||c!==m||f!==v){let x=1-a;const w=l*p+c*m+f*v+h*y,_=w>=0?1:-1,b=1-w*w;if(b>Number.EPSILON){const C=Math.sqrt(b),P=Math.atan2(C,w*_);x=Math.sin(x*P)/C,a=Math.sin(a*P)/C}const S=a*_;if(l=l*x+p*S,c=c*x+m*S,f=f*x+v*S,h=h*x+y*S,x===1-a){const C=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=C,c*=C,f*=C,h*=C}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],f=n[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+f*h+l*m-c*p,e[t+1]=l*v+f*p+c*h-a*m,e[t+2]=c*v+f*m+a*p-l*h,e[t+3]=f*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),f=a(r/2),h=a(s/2),p=l(n/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"YXZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"ZXY":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"ZYX":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"YZX":this._x=p*f*h+c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h-p*m*v;break;case"XZY":this._x=p*f*h-c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],f=t[6],h=t[10],p=n+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(n>a&&n>h){const m=2*Math.sqrt(1+n-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-n-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-n-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(cn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,f=t._w;return this._x=n*f+o*a+r*c-s*l,this._y=r*f+o*l+s*a-n*c,this._z=s*f+o*c+n*l-r*a,this._w=o*f-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*n+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),h=Math.sin((1-t)*f)/c,p=Math.sin(t*f)/c;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,n=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UA.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*n,f=l*n+a*t-s*r,h=l*r+s*n-o*t,p=-s*t-o*n-a*r;return this.x=c*l+p*-s+f*-a-h*-o,this.y=f*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return om.copy(this).projectOnVector(e),this.sub(om)}reflect(e){return this.sub(om.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(cn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const om=new F,UA=new Tn;class Hs{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const f=e[l],h=e[l+1],p=e[l+2];f<t&&(t=f),h<n&&(n=h),p<r&&(r=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const f=e.getX(l),h=e.getY(l),p=e.getZ(l);f<t&&(t=f),h<n&&(n=h),p<r&&(r=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ro.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)ro.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ro)}else n.boundingBox===null&&n.computeBoundingBox(),am.copy(n.boundingBox),am.applyMatrix4(e.matrixWorld),this.union(am);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ro),ro.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jl),Pf.subVectors(this.max,jl),xa.subVectors(e.a,jl),Aa.subVectors(e.b,jl),wa.subVectors(e.c,jl),ds.subVectors(Aa,xa),hs.subVectors(wa,Aa),so.subVectors(xa,wa);let t=[0,-ds.z,ds.y,0,-hs.z,hs.y,0,-so.z,so.y,ds.z,0,-ds.x,hs.z,0,-hs.x,so.z,0,-so.x,-ds.y,ds.x,0,-hs.y,hs.x,0,-so.y,so.x,0];return!lm(t,xa,Aa,wa,Pf)||(t=[1,0,0,0,1,0,0,0,1],!lm(t,xa,Aa,wa,Pf))?!1:(Bf.crossVectors(ds,hs),t=[Bf.x,Bf.y,Bf.z],lm(t,xa,Aa,wa,Pf))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ro.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ro).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Tr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Tr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Tr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Tr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Tr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Tr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Tr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Tr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Tr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Tr=[new F,new F,new F,new F,new F,new F,new F,new F],ro=new F,am=new Hs,xa=new F,Aa=new F,wa=new F,ds=new F,hs=new F,so=new F,jl=new F,Pf=new F,Bf=new F,oo=new F;function lm(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){oo.fromArray(i,s);const a=r.x*Math.abs(oo.x)+r.y*Math.abs(oo.y)+r.z*Math.abs(oo.z),l=e.dot(oo),c=t.dot(oo),f=n.dot(oo);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const mB=new Hs,Jl=new F,cm=new F;class Vs{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):mB.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jl.subVectors(e,this.center);const t=Jl.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Jl,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jl.copy(e.center).add(cm)),this.expandByPoint(Jl.copy(e.center).sub(cm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Pr=new F,um=new F,If=new F,ps=new F,fm=new F,Rf=new F,dm=new F;class gl{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Pr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Pr.copy(this.direction).multiplyScalar(t).add(this.origin),Pr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){um.copy(e).add(t).multiplyScalar(.5),If.copy(t).sub(e).normalize(),ps.copy(this.origin).sub(um);const s=e.distanceTo(t)*.5,o=-this.direction.dot(If),a=ps.dot(this.direction),l=-ps.dot(If),c=ps.lengthSq(),f=Math.abs(1-o*o);let h,p,m,v;if(f>0)if(h=o*l-a,p=o*a-l,v=s*f,h>=0)if(p>=-v)if(p<=v){const y=1/f;h*=y,p*=y,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(If).multiplyScalar(p).add(um),m}intersectSphere(e,t){Pr.subVectors(e.center,this.origin);const n=Pr.dot(this.direction),r=Pr.dot(Pr)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(n=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(n=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),n>o||s>r||((s>n||isNaN(n))&&(n=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Pr)!==null}intersectTriangle(e,t,n,r,s){fm.subVectors(t,e),Rf.subVectors(n,e),dm.crossVectors(fm,Rf);let o=this.direction.dot(dm),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ps.subVectors(this.origin,e);const l=a*this.direction.dot(Rf.crossVectors(ps,Rf));if(l<0)return null;const c=a*this.direction.dot(fm.cross(ps));if(c<0||l+c>o)return null;const f=-a*ps.dot(dm);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class at{constructor(){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,s,o,a,l,c,f,h,p,m,v,y,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=n,w[12]=r,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=c,w[6]=f,w[10]=h,w[14]=p,w[3]=m,w[7]=v,w[11]=y,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new at().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/ba.setFromMatrixColumn(e,0).length(),s=1/ba.setFromMatrixColumn(e,1).length(),o=1/ba.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,v=a*f,y=a*h;t[0]=l*f,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,v=c*f,y=c*h;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,v=c*f,y=c*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*f,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,v=a*f,y=a*h;t[0]=l*f,t[4]=v*c-m,t[8]=p*c+y,t[1]=l*h,t[5]=y*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*f,t[4]=y-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-c*f,t[6]=m*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*f,t[4]=-h,t[8]=c*f,t[1]=p*h+y,t[5]=o*f,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*f,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gB,e,vB)}lookAt(e,t,n){const r=this.elements;return li.subVectors(e,t),li.lengthSq()===0&&(li.z=1),li.normalize(),ms.crossVectors(n,li),ms.lengthSq()===0&&(Math.abs(n.z)===1?li.x+=1e-4:li.z+=1e-4,li.normalize(),ms.crossVectors(n,li)),ms.normalize(),Lf.crossVectors(li,ms),r[0]=ms.x,r[4]=Lf.x,r[8]=li.x,r[1]=ms.y,r[5]=Lf.y,r[9]=li.y,r[2]=ms.z,r[6]=Lf.z,r[10]=li.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],f=n[1],h=n[5],p=n[9],m=n[13],v=n[2],y=n[6],x=n[10],w=n[14],_=n[3],b=n[7],S=n[11],C=n[15],P=r[0],R=r[4],E=r[8],B=r[12],I=r[1],O=r[5],W=r[9],V=r[13],H=r[2],q=r[6],Z=r[10],re=r[14],z=r[3],K=r[7],J=r[11],de=r[15];return s[0]=o*P+a*I+l*H+c*z,s[4]=o*R+a*O+l*q+c*K,s[8]=o*E+a*W+l*Z+c*J,s[12]=o*B+a*V+l*re+c*de,s[1]=f*P+h*I+p*H+m*z,s[5]=f*R+h*O+p*q+m*K,s[9]=f*E+h*W+p*Z+m*J,s[13]=f*B+h*V+p*re+m*de,s[2]=v*P+y*I+x*H+w*z,s[6]=v*R+y*O+x*q+w*K,s[10]=v*E+y*W+x*Z+w*J,s[14]=v*B+y*V+x*re+w*de,s[3]=_*P+b*I+S*H+C*z,s[7]=_*R+b*O+S*q+C*K,s[11]=_*E+b*W+S*Z+C*J,s[15]=_*B+b*V+S*re+C*de,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],w=e[15];return v*(+s*l*h-r*c*h-s*a*p+n*c*p+r*a*m-n*l*m)+y*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*f-s*l*f)+x*(+t*c*h-t*a*m-s*o*h+n*o*m+s*a*f-n*c*f)+w*(-r*a*f-t*l*h+t*a*p+r*o*h-n*o*p+n*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],w=e[15],_=h*x*c-y*p*c+y*l*m-a*x*m-h*l*w+a*p*w,b=v*p*c-f*x*c-v*l*m+o*x*m+f*l*w-o*p*w,S=f*y*c-v*h*c+v*a*m-o*y*m-f*a*w+o*h*w,C=v*h*l-f*y*l-v*a*p+o*y*p+f*a*x-o*h*x,P=t*_+n*b+r*S+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(y*p*s-h*x*s-y*r*m+n*x*m+h*r*w-n*p*w)*R,e[2]=(a*x*s-y*l*s+y*r*c-n*x*c-a*r*w+n*l*w)*R,e[3]=(h*l*s-a*p*s-h*r*c+n*p*c+a*r*m-n*l*m)*R,e[4]=b*R,e[5]=(f*x*s-v*p*s+v*r*m-t*x*m-f*r*w+t*p*w)*R,e[6]=(v*l*s-o*x*s-v*r*c+t*x*c+o*r*w-t*l*w)*R,e[7]=(o*p*s-f*l*s+f*r*c-t*p*c-o*r*m+t*l*m)*R,e[8]=S*R,e[9]=(v*h*s-f*y*s-v*n*m+t*y*m+f*n*w-t*h*w)*R,e[10]=(o*y*s-v*a*s+v*n*c-t*y*c-o*n*w+t*a*w)*R,e[11]=(f*a*s-o*h*s-f*n*c+t*h*c+o*n*m-t*a*m)*R,e[12]=C*R,e[13]=(f*y*r-v*h*r+v*n*p-t*y*p-f*n*x+t*h*x)*R,e[14]=(v*a*r-o*y*r-v*n*l+t*y*l+o*n*x-t*a*x)*R,e[15]=(o*h*r-f*a*r+f*n*l-t*h*l-o*n*p+t*a*p)*R,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,f*a+n,f*l-r*o,0,c*l-r*a,f*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,f=o+o,h=a+a,p=s*c,m=s*f,v=s*h,y=o*f,x=o*h,w=a*h,_=l*c,b=l*f,S=l*h,C=n.x,P=n.y,R=n.z;return r[0]=(1-(y+w))*C,r[1]=(m+S)*C,r[2]=(v-b)*C,r[3]=0,r[4]=(m-S)*P,r[5]=(1-(p+w))*P,r[6]=(x+_)*P,r[7]=0,r[8]=(v+b)*R,r[9]=(x-_)*R,r[10]=(1-(p+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=ba.set(r[0],r[1],r[2]).length();const o=ba.set(r[4],r[5],r[6]).length(),a=ba.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Hi.copy(this);const c=1/s,f=1/o,h=1/a;return Hi.elements[0]*=c,Hi.elements[1]*=c,Hi.elements[2]*=c,Hi.elements[4]*=f,Hi.elements[5]*=f,Hi.elements[6]*=f,Hi.elements[8]*=h,Hi.elements[9]*=h,Hi.elements[10]*=h,t.setFromRotationMatrix(Hi),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(n-r),f=(t+e)/(t-e),h=(n+r)/(n-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,s,o){const a=this.elements,l=1/(t-e),c=1/(n-r),f=1/(o-s),h=(t+e)*l,p=(n+r)*c,m=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ba=new F,Hi=new at,gB=new F(0,0,0),vB=new F(1,1,1),ms=new F,Lf=new F,li=new F,HA=new at,VA=new Tn;class $c{constructor(e=0,t=0,n=0,r=$c.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],f=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-cn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(cn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-cn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return HA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HA,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return VA.setFromEuler(this),this.setFromQuaternion(VA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$c.DEFAULT_ORDER="XYZ";let Go=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},yB=0;const WA=new F,_a=new Tn,Br=new at,Df=new F,Xl=new F,xB=new F,AB=new Tn,jA=new F(1,0,0),JA=new F(0,1,0),XA=new F(0,0,1),wB={type:"added"},YA={type:"removed"};class Bt extends ts{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:yB++}),this.uuid=hi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new F,t=new $c,n=new Tn,r=new F(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new at},normalMatrix:{value:new Yn}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Go,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _a.setFromAxisAngle(e,t),this.quaternion.multiply(_a),this}rotateOnWorldAxis(e,t){return _a.setFromAxisAngle(e,t),this.quaternion.premultiply(_a),this}rotateX(e){return this.rotateOnAxis(jA,e)}rotateY(e){return this.rotateOnAxis(JA,e)}rotateZ(e){return this.rotateOnAxis(XA,e)}translateOnAxis(e,t){return WA.copy(e).applyQuaternion(this.quaternion),this.position.add(WA.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jA,e)}translateY(e){return this.translateOnAxis(JA,e)}translateZ(e){return this.translateOnAxis(XA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Br.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Df.copy(e):Df.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Xl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Br.lookAt(Xl,Df,this.up):Br.lookAt(Df,Xl,this.up),this.quaternion.setFromRotationMatrix(Br),r&&(Br.extractRotation(r.matrixWorld),_a.setFromRotationMatrix(Br),this.quaternion.premultiply(_a.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wB)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(YA)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(YA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Br.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Br.multiply(e.parent.matrixWorld)),e.applyMatrix4(Br),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xl,e,xB),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xl,AB,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),f.length>0&&(n.images=f),h.length>0&&(n.shapes=h),p.length>0&&(n.skeletons=p),m.length>0&&(n.animations=m),v.length>0&&(n.nodes=v)}return n.object=r,n;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Bt.DEFAULT_UP=new F(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Vi=new F,Ir=new F,hm=new F,Rr=new F,Sa=new F,Ma=new F,QA=new F,pm=new F,mm=new F,gm=new F;class Di{constructor(e=new F,t=new F,n=new F){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Vi.subVectors(e,t),r.cross(Vi);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Vi.subVectors(r,t),Ir.subVectors(n,t),hm.subVectors(e,t);const o=Vi.dot(Vi),a=Vi.dot(Ir),l=Vi.dot(hm),c=Ir.dot(Ir),f=Ir.dot(hm),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Rr),Rr.x>=0&&Rr.y>=0&&Rr.x+Rr.y<=1}static getUV(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,Rr),l.set(0,0),l.addScaledVector(s,Rr.x),l.addScaledVector(o,Rr.y),l.addScaledVector(a,Rr.z),l}static isFrontFacing(e,t,n,r){return Vi.subVectors(n,t),Ir.subVectors(e,t),Vi.cross(Ir).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vi.subVectors(this.c,this.b),Ir.subVectors(this.a,this.b),Vi.cross(Ir).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Di.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Di.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return Di.getUV(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Di.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Di.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;Sa.subVectors(r,n),Ma.subVectors(s,n),pm.subVectors(e,n);const l=Sa.dot(pm),c=Ma.dot(pm);if(l<=0&&c<=0)return t.copy(n);mm.subVectors(e,r);const f=Sa.dot(mm),h=Ma.dot(mm);if(f>=0&&h<=f)return t.copy(r);const p=l*h-f*c;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(Sa,o);gm.subVectors(e,s);const m=Sa.dot(gm),v=Ma.dot(gm);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(n).addScaledVector(Ma,a);const x=f*v-m*h;if(x<=0&&h-f>=0&&m-v>=0)return QA.subVectors(s,r),a=(h-f)/(h-f+(m-v)),t.copy(r).addScaledVector(QA,a);const w=1/(x+y+p);return o=y*w,a=p*w,t.copy(n).addScaledVector(Sa,o).addScaledVector(Ma,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let bB=0;class vn extends ts{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bB++}),this.uuid=hi(),this.name="",this.type="Material",this.blending=Do,this.side=mr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=hv,this.blendDst=pv,this.blendEquation=wo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Jd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=WS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ld,this.stencilZFail=Ld,this.stencilZPass=Ld,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Do&&(n.blending=this.blending),this.side!==mr&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class di extends vn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dn=new F,Ff=new pe;class Ot{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Fc,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Ff.fromBufferAttribute(this,t),Ff.applyMatrix3(e),this.setXY(t,Ff.x,Ff.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)dn.fromBufferAttribute(this,t),dn.applyMatrix3(e),this.setXYZ(t,dn.x,dn.y,dn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)dn.fromBufferAttribute(this,t),dn.applyMatrix4(e),this.setXYZ(t,dn.x,dn.y,dn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)dn.fromBufferAttribute(this,t),dn.applyNormalMatrix(e),this.setXYZ(t,dn.x,dn.y,dn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)dn.fromBufferAttribute(this,t),dn.transformDirection(e),this.setXYZ(t,dn.x,dn.y,dn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ur(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ht(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ur(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ht(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ur(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ht(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ur(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ht(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array),r=Ht(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array),r=Ht(r,this.array),s=Ht(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Fc&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class _B extends Ot{constructor(e,t,n){super(new Int8Array(e),t,n)}}class SB extends Ot{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class MB extends Ot{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class CB extends Ot{constructor(e,t,n){super(new Int16Array(e),t,n)}}class bv extends Ot{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class EB extends Ot{constructor(e,t,n){super(new Int32Array(e),t,n)}}class _v extends Ot{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class TB extends Ot{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class je extends Ot{constructor(e,t,n){super(new Float32Array(e),t,n)}}class PB extends Ot{constructor(e,t,n){super(new Float64Array(e),t,n)}}let BB=0;const Ti=new at,vm=new Bt,Ca=new F,ci=new Hs,Yl=new Hs,Cn=new F;class dt extends ts{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:BB++}),this.uuid=hi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(XS(e)?_v:bv)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Yn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ti.makeRotationFromQuaternion(e),this.applyMatrix4(Ti),this}rotateX(e){return Ti.makeRotationX(e),this.applyMatrix4(Ti),this}rotateY(e){return Ti.makeRotationY(e),this.applyMatrix4(Ti),this}rotateZ(e){return Ti.makeRotationZ(e),this.applyMatrix4(Ti),this}translate(e,t,n){return Ti.makeTranslation(e,t,n),this.applyMatrix4(Ti),this}scale(e,t,n){return Ti.makeScale(e,t,n),this.applyMatrix4(Ti),this}lookAt(e){return vm.lookAt(e),vm.updateMatrix(),this.applyMatrix4(vm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ca).negate(),this.translate(Ca.x,Ca.y,Ca.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];ci.setFromBufferAttribute(s),this.morphTargetsRelative?(Cn.addVectors(this.boundingBox.min,ci.min),this.boundingBox.expandByPoint(Cn),Cn.addVectors(this.boundingBox.max,ci.max),this.boundingBox.expandByPoint(Cn)):(this.boundingBox.expandByPoint(ci.min),this.boundingBox.expandByPoint(ci.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const n=this.boundingSphere.center;if(ci.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Yl.setFromBufferAttribute(a),this.morphTargetsRelative?(Cn.addVectors(ci.min,Yl.min),ci.expandByPoint(Cn),Cn.addVectors(ci.max,Yl.max),ci.expandByPoint(Cn)):(ci.expandByPoint(Yl.min),ci.expandByPoint(Yl.max))}ci.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Cn.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Cn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)Cn.fromBufferAttribute(a,c),l&&(Ca.fromBufferAttribute(e,c),Cn.add(Ca)),r=Math.max(r,n.distanceToSquared(Cn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ot(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],f=[];for(let I=0;I<a;I++)c[I]=new F,f[I]=new F;const h=new F,p=new F,m=new F,v=new pe,y=new pe,x=new pe,w=new F,_=new F;function b(I,O,W){h.fromArray(r,I*3),p.fromArray(r,O*3),m.fromArray(r,W*3),v.fromArray(o,I*2),y.fromArray(o,O*2),x.fromArray(o,W*2),p.sub(h),m.sub(h),y.sub(v),x.sub(v);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(w.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(V),_.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(V),c[I].add(w),c[O].add(w),c[W].add(w),f[I].add(_),f[O].add(_),f[W].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:n.length}]);for(let I=0,O=S.length;I<O;++I){const W=S[I],V=W.start,H=W.count;for(let q=V,Z=V+H;q<Z;q+=3)b(n[q+0],n[q+1],n[q+2])}const C=new F,P=new F,R=new F,E=new F;function B(I){R.fromArray(s,I*3),E.copy(R);const O=c[I];C.copy(O),C.sub(R.multiplyScalar(R.dot(O))).normalize(),P.crossVectors(E,O);const V=P.dot(f[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=V}for(let I=0,O=S.length;I<O;++I){const W=S[I],V=W.start,H=W.count;for(let q=V,Z=V+H;q<Z;q+=3)B(n[q+0]),B(n[q+1]),B(n[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ot(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let p=0,m=n.count;p<m;p++)n.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,c=new F,f=new F,h=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),a.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),c.fromBufferAttribute(n,x),a.add(f),l.add(f),c.add(f),n.setXYZ(v,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),n.setXYZ(p+0,f.x,f.y,f.z),n.setXYZ(p+1,f.x,f.y,f.z),n.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Cn.fromBufferAttribute(e,t),Cn.normalize(),e.setXYZ(t,Cn.x,Cn.y,Cn.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(l.length*f);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*f;for(let w=0;w<f;w++)p[v++]=c[m++]}return new Ot(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dt,n=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],m=e(p,n);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const KA=new at,Ea=new gl,ym=new Vs,Ql=new F,Kl=new F,ql=new F,xm=new F,Of=new F,Nf=new pe,kf=new pe,Gf=new pe,Am=new F,zf=new F;class En extends Bt{constructor(e=new dt,t=new di){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Of.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],h=s[l];f!==0&&(xm.fromBufferAttribute(h,e),o?Of.addScaledVector(xm,f):Of.addScaledVector(xm.sub(t),f))}t.add(Of)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),ym.copy(n.boundingSphere),ym.applyMatrix4(s),e.ray.intersectsSphere(ym)===!1)||(KA.copy(s).invert(),Ea.copy(e.ray).applyMatrix4(KA),n.boundingBox!==null&&Ea.intersectsBox(n.boundingBox)===!1))return;let o;const a=n.index,l=n.attributes.position,c=n.attributes.uv,f=n.attributes.uv2,h=n.groups,p=n.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],x=r[y.materialIndex],w=Math.max(y.start,p.start),_=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let b=w,S=_;b<S;b+=3){const C=a.getX(b),P=a.getX(b+1),R=a.getX(b+2);o=Uf(this,x,e,Ea,c,f,C,P,R),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=m,x=v;y<x;y+=3){const w=a.getX(y),_=a.getX(y+1),b=a.getX(y+2);o=Uf(this,r,e,Ea,c,f,w,_,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],x=r[y.materialIndex],w=Math.max(y.start,p.start),_=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let b=w,S=_;b<S;b+=3){const C=b,P=b+1,R=b+2;o=Uf(this,x,e,Ea,c,f,C,P,R),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let y=m,x=v;y<x;y+=3){const w=y,_=y+1,b=y+2;o=Uf(this,r,e,Ea,c,f,w,_,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function IB(i,e,t,n,r,s,o,a){let l;if(e.side===ni?l=n.intersectTriangle(o,s,r,!0,a):l=n.intersectTriangle(r,s,o,e.side===mr,a),l===null)return null;zf.copy(a),zf.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(zf);return c<t.near||c>t.far?null:{distance:c,point:zf.clone(),object:i}}function Uf(i,e,t,n,r,s,o,a,l){i.getVertexPosition(o,Ql),i.getVertexPosition(a,Kl),i.getVertexPosition(l,ql);const c=IB(i,e,t,n,Ql,Kl,ql,Am);if(c){r&&(Nf.fromBufferAttribute(r,o),kf.fromBufferAttribute(r,a),Gf.fromBufferAttribute(r,l),c.uv=Di.getUV(Am,Ql,Kl,ql,Nf,kf,Gf,new pe)),s&&(Nf.fromBufferAttribute(s,o),kf.fromBufferAttribute(s,a),Gf.fromBufferAttribute(s,l),c.uv2=Di.getUV(Am,Ql,Kl,ql,Nf,kf,Gf,new pe));const f={a:o,b:a,c:l,normal:new F,materialIndex:0};Di.getNormal(Ql,Kl,ql,f.normal),c.face=f}return c}class Ws extends dt{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,n,t,e,o,s,0),v("z","y","x",1,-1,n,t,-e,o,s,1),v("x","z","y",1,1,e,n,t,r,o,2),v("x","z","y",1,-1,e,n,-t,r,o,3),v("x","y","z",1,-1,e,t,n,r,s,4),v("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new je(c,3)),this.setAttribute("normal",new je(f,3)),this.setAttribute("uv",new je(h,2));function v(y,x,w,_,b,S,C,P,R,E,B){const I=S/R,O=C/E,W=S/2,V=C/2,H=P/2,q=R+1,Z=E+1;let re=0,z=0;const K=new F;for(let J=0;J<Z;J++){const de=J*O-V;for(let Y=0;Y<q;Y++){const ae=Y*I-W;K[y]=ae*_,K[x]=de*b,K[w]=H,c.push(K.x,K.y,K.z),K[y]=0,K[x]=0,K[w]=P>0?1:-1,f.push(K.x,K.y,K.z),h.push(Y/R),h.push(1-J/E),re+=1}}for(let J=0;J<E;J++)for(let de=0;de<R;de++){const Y=p+de+q*J,ae=p+de+q*(J+1),xe=p+(de+1)+q*(J+1),Ae=p+(de+1)+q*J;l.push(Y,ae,Ae),l.push(ae,xe,Ae),z+=6}a.addGroup(m,z,B),m+=z,p+=re}}static fromJSON(e){return new Ws(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function al(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Jn(i){const e={};for(let t=0;t<i.length;t++){const n=al(i[t]);for(const r in n)e[r]=n[r]}return e}function RB(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function QS(i){return i.getRenderTarget()===null&&i.outputEncoding===Vt?Wi:ol}const KS={clone:al,merge:Jn};var LB=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DB=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class vr extends vn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=LB,this.fragmentShader=DB,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=al(e.uniforms),this.uniformsGroups=RB(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class eu extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Qt extends eu{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Oc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(No*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Oc*2*Math.atan(Math.tan(No*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(No*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Ta=-90,Pa=1;class Sv extends Bt{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Qt(Ta,Pa,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Qt(Ta,Pa,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Qt(Ta,Pa,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Qt(Ta,Pa,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Qt(Ta,Pa,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Qt(Ta,Pa,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,o,a,l,c]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Yi,e.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=m,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class tu extends en{constructor(e,t,n,r,s,o,a,l,c,f){e=e!==void 0?e:[],t=t!==void 0?t:Bs,super(e,t,n,r,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Mv extends Ki{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new tu(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:qt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ws(5,5,5),s=new vr({name:"CubemapFromEquirect",uniforms:al(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ni,blending:jr});s.uniforms.tEquirect.value=t;const o=new En(r,s),a=t.minFilter;return t.minFilter===gr&&(t.minFilter=qt),new Sv(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}const wm=new F,FB=new F,OB=new Yn;class kr{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=wm.subVectors(n,t).cross(FB.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(wm),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||OB.getNormalMatrix(e),r=this.coplanarPoint(wm).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ba=new Vs,Hf=new F;class bh{constructor(e=new kr,t=new kr,n=new kr,r=new kr,s=new kr,o=new kr){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],f=n[6],h=n[7],p=n[8],m=n[9],v=n[10],y=n[11],x=n[12],w=n[13],_=n[14],b=n[15];return t[0].setComponents(a-r,h-l,y-p,b-x).normalize(),t[1].setComponents(a+r,h+l,y+p,b+x).normalize(),t[2].setComponents(a+s,h+c,y+m,b+w).normalize(),t[3].setComponents(a-s,h-c,y-m,b-w).normalize(),t[4].setComponents(a-o,h-f,y-v,b-_).normalize(),t[5].setComponents(a+o,h+f,y+v,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ba.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSprite(e){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Hf.x=r.normal.x>0?e.max.x:e.min.x,Hf.y=r.normal.y>0?e.max.y:e.min.y,Hf.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Hf)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qS(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function NB(i,e){const t=e.isWebGL2,n=new WeakMap;function r(c,f){const h=c.array,p=c.usage,m=i.createBuffer();i.bindBuffer(f,m),i.bufferData(f,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,f,h){const p=f.array,m=f.updateRange;i.bindBuffer(h,c),m.count===-1?i.bufferSubData(h,0,p):(t?i.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):i.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=n.get(c);f&&(i.deleteBuffer(f.buffer),n.delete(c))}function l(c,f){if(c.isGLBufferAttribute){const p=n.get(c);(!p||p.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=n.get(c);h===void 0?n.set(c,r(c,f)):h.version<c.version&&(s(h.buffer,c,f),h.version=c.version)}return{get:o,remove:a,update:l}}class vl extends dt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,f=l+1,h=e/a,p=t/l,m=[],v=[],y=[],x=[];for(let w=0;w<f;w++){const _=w*p-o;for(let b=0;b<c;b++){const S=b*h-s;v.push(S,-_,0),y.push(0,0,1),x.push(b/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let _=0;_<a;_++){const b=_+c*w,S=_+c*(w+1),C=_+1+c*(w+1),P=_+1+c*w;m.push(b,S,P),m.push(S,C,P)}this.setIndex(m),this.setAttribute("position",new je(v,3)),this.setAttribute("normal",new je(y,3)),this.setAttribute("uv",new je(x,2))}static fromJSON(e){return new vl(e.width,e.height,e.widthSegments,e.heightSegments)}}var kB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,GB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zB=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,UB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,HB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,WB="vec3 transformed = vec3( position );",jB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,JB=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,XB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,YB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,QB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,KB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ZB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$B=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,nI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,iI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,rI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sI=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oI=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aI=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,lI=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cI=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uI="gl_FragColor = linearToOutputTexel( gl_FragColor );",fI=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hI=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pI=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mI=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vI=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yI=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xI=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,AI=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wI=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bI=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_I=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,SI=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,MI=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,CI=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EI=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,TI=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,PI=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,BI=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,II=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,RI=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,LI=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,DI=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,FI=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,OI=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,NI=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kI=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,GI=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,zI=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,UI=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,HI=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,VI=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,WI=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jI=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JI=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XI=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,YI=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,QI=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,KI=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,qI=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,ZI=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$I=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tR=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nR=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,iR=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,rR=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,sR=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,oR=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,aR=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lR=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,cR=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,uR=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fR=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dR=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hR=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pR=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mR=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,gR=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vR=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yR=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xR=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,AR=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,wR=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bR=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_R=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SR=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,MR=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,CR=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ER=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,TR=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,PR=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,BR=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,IR=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,RR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,LR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,DR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,FR=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const OR=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,NR=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,kR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GR=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UR=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,HR=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,VR=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,WR=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jR=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,JR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,XR=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YR=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QR=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,KR=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,qR=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZR=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$R=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e3=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,t3=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n3=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,i3=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,r3=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,s3=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o3=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a3=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l3=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c3=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,f3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,d3=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h3=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,p3=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:kB,alphamap_pars_fragment:GB,alphatest_fragment:zB,alphatest_pars_fragment:UB,aomap_fragment:HB,aomap_pars_fragment:VB,begin_vertex:WB,beginnormal_vertex:jB,bsdfs:JB,iridescence_fragment:XB,bumpmap_pars_fragment:YB,clipping_planes_fragment:QB,clipping_planes_pars_fragment:KB,clipping_planes_pars_vertex:qB,clipping_planes_vertex:ZB,color_fragment:$B,color_pars_fragment:eI,color_pars_vertex:tI,color_vertex:nI,common:iI,cube_uv_reflection_fragment:rI,defaultnormal_vertex:sI,displacementmap_pars_vertex:oI,displacementmap_vertex:aI,emissivemap_fragment:lI,emissivemap_pars_fragment:cI,encodings_fragment:uI,encodings_pars_fragment:fI,envmap_fragment:dI,envmap_common_pars_fragment:hI,envmap_pars_fragment:pI,envmap_pars_vertex:mI,envmap_physical_pars_fragment:EI,envmap_vertex:gI,fog_vertex:vI,fog_pars_vertex:yI,fog_fragment:xI,fog_pars_fragment:AI,gradientmap_pars_fragment:wI,lightmap_fragment:bI,lightmap_pars_fragment:_I,lights_lambert_fragment:SI,lights_lambert_pars_fragment:MI,lights_pars_begin:CI,lights_toon_fragment:TI,lights_toon_pars_fragment:PI,lights_phong_fragment:BI,lights_phong_pars_fragment:II,lights_physical_fragment:RI,lights_physical_pars_fragment:LI,lights_fragment_begin:DI,lights_fragment_maps:FI,lights_fragment_end:OI,logdepthbuf_fragment:NI,logdepthbuf_pars_fragment:kI,logdepthbuf_pars_vertex:GI,logdepthbuf_vertex:zI,map_fragment:UI,map_pars_fragment:HI,map_particle_fragment:VI,map_particle_pars_fragment:WI,metalnessmap_fragment:jI,metalnessmap_pars_fragment:JI,morphcolor_vertex:XI,morphnormal_vertex:YI,morphtarget_pars_vertex:QI,morphtarget_vertex:KI,normal_fragment_begin:qI,normal_fragment_maps:ZI,normal_pars_fragment:$I,normal_pars_vertex:eR,normal_vertex:tR,normalmap_pars_fragment:nR,clearcoat_normal_fragment_begin:iR,clearcoat_normal_fragment_maps:rR,clearcoat_pars_fragment:sR,iridescence_pars_fragment:oR,output_fragment:aR,packing:lR,premultiplied_alpha_fragment:cR,project_vertex:uR,dithering_fragment:fR,dithering_pars_fragment:dR,roughnessmap_fragment:hR,roughnessmap_pars_fragment:pR,shadowmap_pars_fragment:mR,shadowmap_pars_vertex:gR,shadowmap_vertex:vR,shadowmask_pars_fragment:yR,skinbase_vertex:xR,skinning_pars_vertex:AR,skinning_vertex:wR,skinnormal_vertex:bR,specularmap_fragment:_R,specularmap_pars_fragment:SR,tonemapping_fragment:MR,tonemapping_pars_fragment:CR,transmission_fragment:ER,transmission_pars_fragment:TR,uv_pars_fragment:PR,uv_pars_vertex:BR,uv_vertex:IR,uv2_pars_fragment:RR,uv2_pars_vertex:LR,uv2_vertex:DR,worldpos_vertex:FR,background_vert:OR,background_frag:NR,backgroundCube_vert:kR,backgroundCube_frag:GR,cube_vert:zR,cube_frag:UR,depth_vert:HR,depth_frag:VR,distanceRGBA_vert:WR,distanceRGBA_frag:jR,equirect_vert:JR,equirect_frag:XR,linedashed_vert:YR,linedashed_frag:QR,meshbasic_vert:KR,meshbasic_frag:qR,meshlambert_vert:ZR,meshlambert_frag:$R,meshmatcap_vert:e3,meshmatcap_frag:t3,meshnormal_vert:n3,meshnormal_frag:i3,meshphong_vert:r3,meshphong_frag:s3,meshphysical_vert:o3,meshphysical_frag:a3,meshtoon_vert:l3,meshtoon_frag:c3,points_vert:u3,points_frag:f3,shadow_vert:d3,shadow_frag:h3,sprite_vert:p3,sprite_frag:m3},Pe={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yn},uv2Transform:{value:new Yn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yn}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yn}}},ji={basic:{uniforms:Jn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:Jn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new De(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:Jn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:Jn([Pe.common,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.roughnessmap,Pe.metalnessmap,Pe.fog,Pe.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:Jn([Pe.common,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.gradientmap,Pe.fog,Pe.lights,{emissive:{value:new De(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:Jn([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:Jn([Pe.points,Pe.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:Jn([Pe.common,Pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:Jn([Pe.common,Pe.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:Jn([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:Jn([Pe.sprite,Pe.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new Yn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:Jn([Pe.common,Pe.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:Jn([Pe.lights,Pe.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};ji.physical={uniforms:Jn([ji.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const Vf={r:0,b:0,g:0};function g3(i,e,t,n,r,s,o){const a=new De(0);let l=s===!0?0:1,c,f,h=null,p=0,m=null;function v(x,w){let _=!1,b=w.isScene===!0?w.background:null;b&&b.isTexture&&(b=(w.backgroundBlurriness>0?t:e).get(b));const S=i.xr,C=S.getSession&&S.getSession();C&&C.environmentBlendMode==="additive"&&(b=null),b===null?y(a,l):b&&b.isColor&&(y(b,1),_=!0),(i.autoClear||_)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),b&&(b.isCubeTexture||b.mapping===ml)?(f===void 0&&(f=new En(new Ws(1,1,1),new vr({name:"BackgroundCubeMaterial",uniforms:al(ji.backgroundCube.uniforms),vertexShader:ji.backgroundCube.vertexShader,fragmentShader:ji.backgroundCube.fragmentShader,side:ni,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=b,f.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.toneMapped=b.encoding!==Vt,(h!==b||p!==b.version||m!==i.toneMapping)&&(f.material.needsUpdate=!0,h=b,p=b.version,m=i.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new En(new vl(2,2),new vr({name:"BackgroundMaterial",uniforms:al(ji.background.uniforms),vertexShader:ji.background.vertexShader,fragmentShader:ji.background.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=b.encoding!==Vt,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||m!==i.toneMapping)&&(c.material.needsUpdate=!0,h=b,p=b.version,m=i.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,w){x.getRGB(Vf,QS(i)),n.buffers.color.setClear(Vf.r,Vf.g,Vf.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(x,w=1){a.set(x),l=w,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function v3(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,a={},l=x(null);let c=l,f=!1;function h(H,q,Z,re,z){let K=!1;if(o){const J=y(re,Z,q);c!==J&&(c=J,m(c.object)),K=w(H,re,Z,z),K&&_(H,re,Z,z)}else{const J=q.wireframe===!0;(c.geometry!==re.id||c.program!==Z.id||c.wireframe!==J)&&(c.geometry=re.id,c.program=Z.id,c.wireframe=J,K=!0)}z!==null&&t.update(z,34963),(K||f)&&(f=!1,E(H,q,Z,re),z!==null&&i.bindBuffer(34963,t.get(z).buffer))}function p(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}function m(H){return n.isWebGL2?i.bindVertexArray(H):s.bindVertexArrayOES(H)}function v(H){return n.isWebGL2?i.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function y(H,q,Z){const re=Z.wireframe===!0;let z=a[H.id];z===void 0&&(z={},a[H.id]=z);let K=z[q.id];K===void 0&&(K={},z[q.id]=K);let J=K[re];return J===void 0&&(J=x(p()),K[re]=J),J}function x(H){const q=[],Z=[],re=[];for(let z=0;z<r;z++)q[z]=0,Z[z]=0,re[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:Z,attributeDivisors:re,object:H,attributes:{},index:null}}function w(H,q,Z,re){const z=c.attributes,K=q.attributes;let J=0;const de=Z.getAttributes();for(const Y in de)if(de[Y].location>=0){const xe=z[Y];let Ae=K[Y];if(Ae===void 0&&(Y==="instanceMatrix"&&H.instanceMatrix&&(Ae=H.instanceMatrix),Y==="instanceColor"&&H.instanceColor&&(Ae=H.instanceColor)),xe===void 0||xe.attribute!==Ae||Ae&&xe.data!==Ae.data)return!0;J++}return c.attributesNum!==J||c.index!==re}function _(H,q,Z,re){const z={},K=q.attributes;let J=0;const de=Z.getAttributes();for(const Y in de)if(de[Y].location>=0){let xe=K[Y];xe===void 0&&(Y==="instanceMatrix"&&H.instanceMatrix&&(xe=H.instanceMatrix),Y==="instanceColor"&&H.instanceColor&&(xe=H.instanceColor));const Ae={};Ae.attribute=xe,xe&&xe.data&&(Ae.data=xe.data),z[Y]=Ae,J++}c.attributes=z,c.attributesNum=J,c.index=re}function b(){const H=c.newAttributes;for(let q=0,Z=H.length;q<Z;q++)H[q]=0}function S(H){C(H,0)}function C(H,q){const Z=c.newAttributes,re=c.enabledAttributes,z=c.attributeDivisors;Z[H]=1,re[H]===0&&(i.enableVertexAttribArray(H),re[H]=1),z[H]!==q&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,q),z[H]=q)}function P(){const H=c.newAttributes,q=c.enabledAttributes;for(let Z=0,re=q.length;Z<re;Z++)q[Z]!==H[Z]&&(i.disableVertexAttribArray(Z),q[Z]=0)}function R(H,q,Z,re,z,K){n.isWebGL2===!0&&(Z===5124||Z===5125)?i.vertexAttribIPointer(H,q,Z,z,K):i.vertexAttribPointer(H,q,Z,re,z,K)}function E(H,q,Z,re){if(n.isWebGL2===!1&&(H.isInstancedMesh||re.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const z=re.attributes,K=Z.getAttributes(),J=q.defaultAttributeValues;for(const de in K){const Y=K[de];if(Y.location>=0){let ae=z[de];if(ae===void 0&&(de==="instanceMatrix"&&H.instanceMatrix&&(ae=H.instanceMatrix),de==="instanceColor"&&H.instanceColor&&(ae=H.instanceColor)),ae!==void 0){const xe=ae.normalized,Ae=ae.itemSize,ne=t.get(ae);if(ne===void 0)continue;const Ue=ne.buffer,Oe=ne.type,He=ne.bytesPerElement;if(ae.isInterleavedBufferAttribute){const we=ae.data,Ie=we.stride,fe=ae.offset;if(we.isInstancedInterleavedBuffer){for(let le=0;le<Y.locationSize;le++)C(Y.location+le,we.meshPerAttribute);H.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let le=0;le<Y.locationSize;le++)S(Y.location+le);i.bindBuffer(34962,Ue);for(let le=0;le<Y.locationSize;le++)R(Y.location+le,Ae/Y.locationSize,Oe,xe,Ie*He,(fe+Ae/Y.locationSize*le)*He)}else{if(ae.isInstancedBufferAttribute){for(let we=0;we<Y.locationSize;we++)C(Y.location+we,ae.meshPerAttribute);H.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let we=0;we<Y.locationSize;we++)S(Y.location+we);i.bindBuffer(34962,Ue);for(let we=0;we<Y.locationSize;we++)R(Y.location+we,Ae/Y.locationSize,Oe,xe,Ae*He,Ae/Y.locationSize*we*He)}}else if(J!==void 0){const xe=J[de];if(xe!==void 0)switch(xe.length){case 2:i.vertexAttrib2fv(Y.location,xe);break;case 3:i.vertexAttrib3fv(Y.location,xe);break;case 4:i.vertexAttrib4fv(Y.location,xe);break;default:i.vertexAttrib1fv(Y.location,xe)}}}}P()}function B(){W();for(const H in a){const q=a[H];for(const Z in q){const re=q[Z];for(const z in re)v(re[z].object),delete re[z];delete q[Z]}delete a[H]}}function I(H){if(a[H.id]===void 0)return;const q=a[H.id];for(const Z in q){const re=q[Z];for(const z in re)v(re[z].object),delete re[z];delete q[Z]}delete a[H.id]}function O(H){for(const q in a){const Z=a[q];if(Z[H.id]===void 0)continue;const re=Z[H.id];for(const z in re)v(re[z].object),delete re[z];delete Z[H.id]}}function W(){V(),f=!0,c!==l&&(c=l,m(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:W,resetDefaultState:V,dispose:B,releaseStatesOfGeometry:I,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:S,disableUnusedAttributes:P}}function y3(i,e,t,n){const r=n.isWebGL2;let s;function o(c){s=c}function a(c,f){i.drawArrays(s,c,f),t.update(f,s,1)}function l(c,f,h){if(h===0)return;let p,m;if(r)p=i,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,f,h),t.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function x3(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(R){if(R==="highp"){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&i instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,h=i.getParameter(34930),p=i.getParameter(35660),m=i.getParameter(3379),v=i.getParameter(34076),y=i.getParameter(34921),x=i.getParameter(36347),w=i.getParameter(36348),_=i.getParameter(36349),b=p>0,S=o||e.has("OES_texture_float"),C=b&&S,P=o?i.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:C,maxSamples:P}}function A3(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new kr,a=new Yn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||n!==0||r;return r=p,n=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=f(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,y=h.clipIntersection,x=h.clipShadows,w=i.get(h);if(!r||v===null||v.length===0||s&&!x)s?f(null):c();else{const _=s?0:n,b=_*4;let S=w.clippingState||null;l.value=S,S=f(v,p,b,m);for(let C=0;C!==b;++C)S[C]=t[C];w.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function f(h,p,m,v){const y=h!==null?h.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const w=m+y*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<w)&&(x=new Float32Array(w));for(let b=0,S=m;b!==y;++b,S+=4)o.copy(h[b]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function w3(i){let e=new WeakMap;function t(o,a){return a===Ic?o.mapping=Bs:a===Rc&&(o.mapping=Is),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Ic||a===Rc)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Mv(l.height/2);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Qi extends eu{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ha=4,qA=[.125,.215,.35,.446,.526,.582],bo=20,bm=new Qi,ZA=new De;let _m=null;const yo=(1+Math.sqrt(5))/2,Ia=1/yo,$A=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,yo,Ia),new F(0,yo,-Ia),new F(Ia,0,yo),new F(-Ia,0,yo),new F(yo,Ia,0),new F(-yo,Ia,0)];class n0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){_m=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=n1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=t1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_m),e.scissorTest=!1,Wf(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Bs||e.mapping===Is?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_m=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:qt,minFilter:qt,generateMipmaps:!1,type:rl,format:ti,encoding:Ls,depthBuffer:!1},r=e1(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=e1(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=b3(s)),this._blurMaterial=_3(s,e,t)}return r}_compileMaterial(e){const t=new En(this._lodPlanes[0],e);this._renderer.compile(t,bm)}_sceneToCubeUV(e,t,n,r){const a=new Qt(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(ZA),f.toneMapping=Yi,f.autoClear=!1;const m=new di({name:"PMREM.Background",side:ni,depthWrite:!1,depthTest:!1}),v=new En(new Ws,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(ZA),y=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(a.up.set(0,l[w],0),a.lookAt(c[w],0,0)):_===1?(a.up.set(0,0,l[w]),a.lookAt(0,c[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,c[w]));const b=this._cubeSize;Wf(r,_*b,w>2?b:0,b,b),f.setRenderTarget(r),y&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Bs||e.mapping===Is;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=n1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=t1());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new En(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Wf(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,bm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=$A[(r-1)%$A.length];this._blur(e,r-1,r,s,o)}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new En(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[n]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*bo-1),y=s/v,x=isFinite(s)?1+Math.floor(f*y):bo;x>bo&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${bo}`);const w=[];let _=0;for(let R=0;R<bo;++R){const E=R/y,B=Math.exp(-E*E/2);w.push(B),R===0?_+=B:R<x&&(_+=2*B)}for(let R=0;R<w.length;R++)w[R]=w[R]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-n;const S=this._sizeLods[r],C=3*S*(r>b-Ha?r-b+Ha:0),P=4*(this._cubeSize-S);Wf(t,C,P,3*S,2*S),l.setRenderTarget(t),l.render(h,bm)}}function b3(i){const e=[],t=[],n=[];let r=i;const s=i-Ha+1+qA.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>i-Ha?l=qA[o-i+Ha-1]:o===0&&(l=0),n.push(l);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,v=6,y=3,x=2,w=1,_=new Float32Array(y*v*m),b=new Float32Array(x*v*m),S=new Float32Array(w*v*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,E=P>2?0:-1,B=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];_.set(B,y*v*P),b.set(p,x*v*P);const I=[P,P,P,P,P,P];S.set(I,w*v*P)}const C=new dt;C.setAttribute("position",new Ot(_,y)),C.setAttribute("uv",new Ot(b,x)),C.setAttribute("faceIndex",new Ot(S,w)),e.push(C),r>Ha&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function e1(i,e,t){const n=new Ki(i,e,t);return n.texture.mapping=ml,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Wf(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function _3(i,e,t){const n=new Float32Array(bo),r=new F(0,1,0);return new vr({name:"SphericalGaussianBlur",defines:{n:bo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function t1(){return new vr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function n1(){return new vr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function Cv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function S3(i){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const l=a.mapping,c=l===Ic||l===Rc,f=l===Bs||l===Is;if(c||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new n0(i)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||f&&h&&r(h)){t===null&&(t=new n0(i));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function M3(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function C3(i,e,t,n){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),n.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const y=m[v];for(let x=0,w=y.length;x<w;x++)e.update(y[x],34962)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let b=0,S=_.length;b<S;b+=3){const C=_[b+0],P=_[b+1],R=_[b+2];p.push(C,P,P,R,R,C)}}else{const _=v.array;y=v.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const C=b+0,P=b+1,R=b+2;p.push(C,P,P,R,R,C)}}const x=new(XS(p)?_v:bv)(p,1);x.version=y;const w=s.get(h);w&&e.remove(w),s.set(h,x)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function E3(i,e,t,n){const r=n.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function f(p,m){i.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let y,x;if(r)y=i,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=f,this.renderInstances=h}function T3(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function P3(i,e){return i[0]-e[0]}function B3(i,e){return Math.abs(e[1])-Math.abs(i[1])}function I3(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,o=new Gt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,f,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(f);if(x===void 0||x.count!==y){let q=function(){V.dispose(),s.delete(f),f.removeEventListener("dispose",q)};x!==void 0&&x.texture.dispose();const b=f.morphAttributes.position!==void 0,S=f.morphAttributes.normal!==void 0,C=f.morphAttributes.color!==void 0,P=f.morphAttributes.position||[],R=f.morphAttributes.normal||[],E=f.morphAttributes.color||[];let B=0;b===!0&&(B=1),S===!0&&(B=2),C===!0&&(B=3);let I=f.attributes.position.count*B,O=1;I>e.maxTextureSize&&(O=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const W=new Float32Array(I*O*4*y),V=new wh(W,I,O,y);V.type=zr,V.needsUpdate=!0;const H=B*4;for(let Z=0;Z<y;Z++){const re=P[Z],z=R[Z],K=E[Z],J=I*O*4*Z;for(let de=0;de<re.count;de++){const Y=de*H;b===!0&&(o.fromBufferAttribute(re,de),W[J+Y+0]=o.x,W[J+Y+1]=o.y,W[J+Y+2]=o.z,W[J+Y+3]=0),S===!0&&(o.fromBufferAttribute(z,de),W[J+Y+4]=o.x,W[J+Y+5]=o.y,W[J+Y+6]=o.z,W[J+Y+7]=0),C===!0&&(o.fromBufferAttribute(K,de),W[J+Y+8]=o.x,W[J+Y+9]=o.y,W[J+Y+10]=o.z,W[J+Y+11]=K.itemSize===4?o.w:1)}}x={count:y,texture:V,size:new pe(I,O)},s.set(f,x),f.addEventListener("dispose",q)}let w=0;for(let b=0;b<m.length;b++)w+=m[b];const _=f.morphTargetsRelative?1:1-w;p.getUniforms().setValue(i,"morphTargetBaseInfluence",_),p.getUniforms().setValue(i,"morphTargetInfluences",m),p.getUniforms().setValue(i,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(i,"morphTargetsTextureSize",x.size)}else{const v=m===void 0?0:m.length;let y=n[f.id];if(y===void 0||y.length!==v){y=[];for(let S=0;S<v;S++)y[S]=[S,0];n[f.id]=y}for(let S=0;S<v;S++){const C=y[S];C[0]=S,C[1]=m[S]}y.sort(B3);for(let S=0;S<8;S++)S<v&&y[S][1]?(a[S][0]=y[S][0],a[S][1]=y[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(P3);const x=f.morphAttributes.position,w=f.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const C=a[S],P=C[0],R=C[1];P!==Number.MAX_SAFE_INTEGER&&R?(x&&f.getAttribute("morphTarget"+S)!==x[P]&&f.setAttribute("morphTarget"+S,x[P]),w&&f.getAttribute("morphNormal"+S)!==w[P]&&f.setAttribute("morphNormal"+S,w[P]),r[S]=R,_+=R):(x&&f.hasAttribute("morphTarget"+S)===!0&&f.deleteAttribute("morphTarget"+S),w&&f.hasAttribute("morphNormal"+S)===!0&&f.deleteAttribute("morphNormal"+S),r[S]=0)}const b=f.morphTargetsRelative?1:1-_;p.getUniforms().setValue(i,"morphTargetBaseInfluence",b),p.getUniforms().setValue(i,"morphTargetInfluences",r)}}return{update:l}}function R3(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,f=l.geometry,h=e.get(l,f);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const ZS=new en,$S=new wh,eM=new wv,tM=new tu,i1=[],r1=[],s1=new Float32Array(16),o1=new Float32Array(9),a1=new Float32Array(4);function yl(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=i1[r];if(s===void 0&&(s=new Float32Array(r),i1[r]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function xn(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function An(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function _h(i,e){let t=r1[e];t===void 0&&(t=new Int32Array(e),r1[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function L3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function D3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xn(t,e))return;i.uniform2fv(this.addr,e),An(t,e)}}function F3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(xn(t,e))return;i.uniform3fv(this.addr,e),An(t,e)}}function O3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xn(t,e))return;i.uniform4fv(this.addr,e),An(t,e)}}function N3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xn(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),An(t,e)}else{if(xn(t,n))return;a1.set(n),i.uniformMatrix2fv(this.addr,!1,a1),An(t,n)}}function k3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xn(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),An(t,e)}else{if(xn(t,n))return;o1.set(n),i.uniformMatrix3fv(this.addr,!1,o1),An(t,n)}}function G3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xn(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),An(t,e)}else{if(xn(t,n))return;s1.set(n),i.uniformMatrix4fv(this.addr,!1,s1),An(t,n)}}function z3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function U3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xn(t,e))return;i.uniform2iv(this.addr,e),An(t,e)}}function H3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xn(t,e))return;i.uniform3iv(this.addr,e),An(t,e)}}function V3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xn(t,e))return;i.uniform4iv(this.addr,e),An(t,e)}}function W3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function j3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xn(t,e))return;i.uniform2uiv(this.addr,e),An(t,e)}}function J3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xn(t,e))return;i.uniform3uiv(this.addr,e),An(t,e)}}function X3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xn(t,e))return;i.uniform4uiv(this.addr,e),An(t,e)}}function Y3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||ZS,r)}function Q3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||eM,r)}function K3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||tM,r)}function q3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||$S,r)}function Z3(i){switch(i){case 5126:return L3;case 35664:return D3;case 35665:return F3;case 35666:return O3;case 35674:return N3;case 35675:return k3;case 35676:return G3;case 5124:case 35670:return z3;case 35667:case 35671:return U3;case 35668:case 35672:return H3;case 35669:case 35673:return V3;case 5125:return W3;case 36294:return j3;case 36295:return J3;case 36296:return X3;case 35678:case 36198:case 36298:case 36306:case 35682:return Y3;case 35679:case 36299:case 36307:return Q3;case 35680:case 36300:case 36308:case 36293:return K3;case 36289:case 36303:case 36311:case 36292:return q3}}function $3(i,e){i.uniform1fv(this.addr,e)}function eL(i,e){const t=yl(e,this.size,2);i.uniform2fv(this.addr,t)}function tL(i,e){const t=yl(e,this.size,3);i.uniform3fv(this.addr,t)}function nL(i,e){const t=yl(e,this.size,4);i.uniform4fv(this.addr,t)}function iL(i,e){const t=yl(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function rL(i,e){const t=yl(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function sL(i,e){const t=yl(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function oL(i,e){i.uniform1iv(this.addr,e)}function aL(i,e){i.uniform2iv(this.addr,e)}function lL(i,e){i.uniform3iv(this.addr,e)}function cL(i,e){i.uniform4iv(this.addr,e)}function uL(i,e){i.uniform1uiv(this.addr,e)}function fL(i,e){i.uniform2uiv(this.addr,e)}function dL(i,e){i.uniform3uiv(this.addr,e)}function hL(i,e){i.uniform4uiv(this.addr,e)}function pL(i,e,t){const n=this.cache,r=e.length,s=_h(t,r);xn(n,s)||(i.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||ZS,s[o])}function mL(i,e,t){const n=this.cache,r=e.length,s=_h(t,r);xn(n,s)||(i.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||eM,s[o])}function gL(i,e,t){const n=this.cache,r=e.length,s=_h(t,r);xn(n,s)||(i.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||tM,s[o])}function vL(i,e,t){const n=this.cache,r=e.length,s=_h(t,r);xn(n,s)||(i.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||$S,s[o])}function yL(i){switch(i){case 5126:return $3;case 35664:return eL;case 35665:return tL;case 35666:return nL;case 35674:return iL;case 35675:return rL;case 35676:return sL;case 5124:case 35670:return oL;case 35667:case 35671:return aL;case 35668:case 35672:return lL;case 35669:case 35673:return cL;case 5125:return uL;case 36294:return fL;case 36295:return dL;case 36296:return hL;case 35678:case 36198:case 36298:case 36306:case 35682:return pL;case 35679:case 36299:case 36307:return mL;case 35680:case 36300:case 36308:case 36293:return gL;case 36289:case 36303:case 36311:case 36292:return vL}}class xL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Z3(t.type)}}class AL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=yL(t.type)}}class wL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],n)}}}const Sm=/(\w+)(\])?(\[|\.)?/g;function l1(i,e){i.seq.push(e),i.map[e.id]=e}function bL(i,e,t){const n=i.name,r=n.length;for(Sm.lastIndex=0;;){const s=Sm.exec(n),o=Sm.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){l1(t,c===void 0?new xL(a,i,e):new AL(a,i,e));break}else{let h=t.map[a];h===void 0&&(h=new wL(a),l1(t,h)),t=h}}}class Fd{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);bL(s,o,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function c1(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}let _L=0;function SL(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function ML(i){switch(i){case Ls:return["Linear","( value )"];case Vt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}function u1(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+SL(i.getShaderSource(e),o)}else return r}function CL(i,e){const t=ML(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function EL(i,e){let t;switch(e){case yS:t="Linear";break;case xS:t="Reinhard";break;case AS:t="OptimizedCineon";break;case mv:t="ACESFilmic";break;case wS:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function TL(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(dc).join(`
`)}function PL(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function BL(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}function dc(i){return i!==""}function f1(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function d1(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const IL=/^[ \t]*#include +<([\w\d./]+)>/gm;function i0(i){return i.replace(IL,RL)}function RL(i,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return i0(t)}const LL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function h1(i){return i.replace(LL,DL)}function DL(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function p1(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function FL(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===vh?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===mc?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===So&&(e="SHADOWMAP_TYPE_VSM"),e}function OL(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Bs:case Is:e="ENVMAP_TYPE_CUBE";break;case ml:e="ENVMAP_TYPE_CUBE_UV";break}return e}function NL(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Is:e="ENVMAP_MODE_REFRACTION";break}return e}function kL(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Zc:e="ENVMAP_BLENDING_MULTIPLY";break;case gS:e="ENVMAP_BLENDING_MIX";break;case vS:e="ENVMAP_BLENDING_ADD";break}return e}function GL(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function zL(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=FL(t),c=OL(t),f=NL(t),h=kL(t),p=GL(t),m=t.isWebGL2?"":TL(t),v=PL(s),y=r.createProgram();let x,w,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(dc).join(`
`),x.length>0&&(x+=`
`),w=[m,v].filter(dc).join(`
`),w.length>0&&(w+=`
`)):(x=[p1(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(dc).join(`
`),w=[m,p1(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yi?"#define TONE_MAPPING":"",t.toneMapping!==Yi?gt.tonemapping_pars_fragment:"",t.toneMapping!==Yi?EL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.encodings_pars_fragment,CL("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(dc).join(`
`)),o=i0(o),o=f1(o,t),o=d1(o,t),a=i0(a),a=f1(a,t),a=d1(a,t),o=h1(o),a=h1(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===e0?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===e0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const b=_+x+o,S=_+w+a,C=c1(r,35633,b),P=c1(r,35632,S);if(r.attachShader(y,C),r.attachShader(y,P),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),i.debug.checkShaderErrors){const B=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(C).trim(),O=r.getShaderInfoLog(P).trim();let W=!0,V=!0;if(r.getProgramParameter(y,35714)===!1){W=!1;const H=u1(r,C,"vertex"),q=u1(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+B+`
`+H+`
`+q)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(I===""||O==="")&&(V=!1);V&&(this.diagnostics={runnable:W,programLog:B,vertexShader:{log:I,prefix:x},fragmentShader:{log:O,prefix:w}})}r.deleteShader(C),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Fd(r,y)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=BL(r,y)),E},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=_L++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let UL=0;class HL{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new VL(e),t.set(e,n)),n}}class VL{constructor(e){this.id=UL++,this.code=e,this.usedTimes=0}}function WL(i,e,t,n,r,s,o){const a=new Go,l=new HL,c=[],f=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(E,B,I,O,W){const V=O.fog,H=W.geometry,q=E.isMeshStandardMaterial?O.environment:null,Z=(E.isMeshStandardMaterial?t:e).get(E.envMap||q),re=Z&&Z.mapping===ml?Z.image.height:null,z=v[E.type];E.precision!==null&&(m=r.getMaxPrecision(E.precision),m!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));const K=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,J=K!==void 0?K.length:0;let de=0;H.morphAttributes.position!==void 0&&(de=1),H.morphAttributes.normal!==void 0&&(de=2),H.morphAttributes.color!==void 0&&(de=3);let Y,ae,xe,Ae;if(z){const Ie=ji[z];Y=Ie.vertexShader,ae=Ie.fragmentShader}else Y=E.vertexShader,ae=E.fragmentShader,l.update(E),xe=l.getVertexShaderID(E),Ae=l.getFragmentShaderID(E);const ne=i.getRenderTarget(),Ue=E.alphaTest>0,Oe=E.clearcoat>0,He=E.iridescence>0;return{isWebGL2:f,shaderID:z,shaderName:E.type,vertexShader:Y,fragmentShader:ae,defines:E.defines,customVertexShaderID:xe,customFragmentShaderID:Ae,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,instancing:W.isInstancedMesh===!0,instancingColor:W.isInstancedMesh===!0&&W.instanceColor!==null,supportsVertexTextures:p,outputEncoding:ne===null?i.outputEncoding:ne.isXRRenderTarget===!0?ne.texture.encoding:Ls,map:!!E.map,matcap:!!E.matcap,envMap:!!Z,envMapMode:Z&&Z.mapping,envMapCubeUVHeight:re,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===VS,tangentSpaceNormalMap:E.normalMapType===Us,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===Vt,clearcoat:Oe,clearcoatMap:Oe&&!!E.clearcoatMap,clearcoatRoughnessMap:Oe&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:Oe&&!!E.clearcoatNormalMap,iridescence:He,iridescenceMap:He&&!!E.iridescenceMap,iridescenceThicknessMap:He&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===Do,alphaMap:!!E.alphaMap,alphaTest:Ue,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!H.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!V,useFog:E.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:h,skinning:W.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:de,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:i.shadowMap.enabled&&I.length>0,shadowMapType:i.shadowMap.type,toneMapping:E.toneMapped?i.toneMapping:Yi,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Ji,flipSided:E.side===ni,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||n.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function x(E){const B=[];if(E.shaderID?B.push(E.shaderID):(B.push(E.customVertexShaderID),B.push(E.customFragmentShaderID)),E.defines!==void 0)for(const I in E.defines)B.push(I),B.push(E.defines[I]);return E.isRawShaderMaterial===!1&&(w(B,E),_(B,E),B.push(i.outputEncoding)),B.push(E.customProgramCacheKey),B.join()}function w(E,B){E.push(B.precision),E.push(B.outputEncoding),E.push(B.envMapMode),E.push(B.envMapCubeUVHeight),E.push(B.combine),E.push(B.vertexUvs),E.push(B.fogExp2),E.push(B.sizeAttenuation),E.push(B.morphTargetsCount),E.push(B.morphAttributeCount),E.push(B.numDirLights),E.push(B.numPointLights),E.push(B.numSpotLights),E.push(B.numSpotLightMaps),E.push(B.numHemiLights),E.push(B.numRectAreaLights),E.push(B.numDirLightShadows),E.push(B.numPointLightShadows),E.push(B.numSpotLightShadows),E.push(B.numSpotLightShadowsWithMaps),E.push(B.shadowMapType),E.push(B.toneMapping),E.push(B.numClippingPlanes),E.push(B.numClipIntersection),E.push(B.depthPacking)}function _(E,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),E.push(a.mask)}function b(E){const B=v[E.type];let I;if(B){const O=ji[B];I=KS.clone(O.uniforms)}else I=E.uniforms;return I}function S(E,B){let I;for(let O=0,W=c.length;O<W;O++){const V=c[O];if(V.cacheKey===B){I=V,++I.usedTimes;break}}return I===void 0&&(I=new zL(i,B,E,s),c.push(I)),I}function C(E){if(--E.usedTimes===0){const B=c.indexOf(E);c[B]=c[c.length-1],c.pop(),E.destroy()}}function P(E){l.remove(E)}function R(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:b,acquireProgram:S,releaseProgram:C,releaseShaderCache:P,programs:c,dispose:R}}function jL(){let i=new WeakMap;function e(s){let o=i.get(s);return o===void 0&&(o={},i.set(s,o)),o}function t(s){i.delete(s)}function n(s,o,a){i.get(s)[o]=a}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function JL(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function m1(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function g1(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function o(h,p,m,v,y,x){let w=i[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:y,group:x},i[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=v,w.renderOrder=h.renderOrder,w.z=y,w.group=x),e++,w}function a(h,p,m,v,y,x){const w=o(h,p,m,v,y,x);m.transmission>0?n.push(w):m.transparent===!0?r.push(w):t.push(w)}function l(h,p,m,v,y,x){const w=o(h,p,m,v,y,x);m.transmission>0?n.unshift(w):m.transparent===!0?r.unshift(w):t.unshift(w)}function c(h,p){t.length>1&&t.sort(h||JL),n.length>1&&n.sort(p||m1),r.length>1&&r.sort(p||m1)}function f(){for(let h=e,p=i.length;h<p;h++){const m=i[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:a,unshift:l,finish:f,sort:c}}function XL(){let i=new WeakMap;function e(n,r){const s=i.get(n);let o;return s===void 0?(o=new g1,i.set(n,[o])):r>=s.length?(o=new g1,s.push(o)):o=s[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function YL(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new De};break;case"SpotLight":t={position:new F,direction:new F,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new F,halfWidth:new F,halfHeight:new F};break}return i[e.id]=t,t}}}function QL(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let KL=0;function qL(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function ZL(i,e){const t=new YL,n=QL(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)r.probe.push(new F);const s=new F,o=new at,a=new at;function l(f,h){let p=0,m=0,v=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let y=0,x=0,w=0,_=0,b=0,S=0,C=0,P=0,R=0,E=0;f.sort(qL);const B=h!==!0?Math.PI:1;for(let O=0,W=f.length;O<W;O++){const V=f[O],H=V.color,q=V.intensity,Z=V.distance,re=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=H.r*q*B,m+=H.g*q*B,v+=H.b*q*B;else if(V.isLightProbe)for(let z=0;z<9;z++)r.probe[z].addScaledVector(V.sh.coefficients[z],q);else if(V.isDirectionalLight){const z=t.get(V);if(z.color.copy(V.color).multiplyScalar(V.intensity*B),V.castShadow){const K=V.shadow,J=n.get(V);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,r.directionalShadow[y]=J,r.directionalShadowMap[y]=re,r.directionalShadowMatrix[y]=V.shadow.matrix,S++}r.directional[y]=z,y++}else if(V.isSpotLight){const z=t.get(V);z.position.setFromMatrixPosition(V.matrixWorld),z.color.copy(H).multiplyScalar(q*B),z.distance=Z,z.coneCos=Math.cos(V.angle),z.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),z.decay=V.decay,r.spot[w]=z;const K=V.shadow;if(V.map&&(r.spotLightMap[R]=V.map,R++,K.updateMatrices(V),V.castShadow&&E++),r.spotLightMatrix[w]=K.matrix,V.castShadow){const J=n.get(V);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,r.spotShadow[w]=J,r.spotShadowMap[w]=re,P++}w++}else if(V.isRectAreaLight){const z=t.get(V);z.color.copy(H).multiplyScalar(q),z.halfWidth.set(V.width*.5,0,0),z.halfHeight.set(0,V.height*.5,0),r.rectArea[_]=z,_++}else if(V.isPointLight){const z=t.get(V);if(z.color.copy(V.color).multiplyScalar(V.intensity*B),z.distance=V.distance,z.decay=V.decay,V.castShadow){const K=V.shadow,J=n.get(V);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,J.shadowCameraNear=K.camera.near,J.shadowCameraFar=K.camera.far,r.pointShadow[x]=J,r.pointShadowMap[x]=re,r.pointShadowMatrix[x]=V.shadow.matrix,C++}r.point[x]=z,x++}else if(V.isHemisphereLight){const z=t.get(V);z.skyColor.copy(V.color).multiplyScalar(q*B),z.groundColor.copy(V.groundColor).multiplyScalar(q*B),r.hemi[b]=z,b++}}_>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Pe.LTC_FLOAT_1,r.rectAreaLTC2=Pe.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Pe.LTC_HALF_1,r.rectAreaLTC2=Pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const I=r.hash;(I.directionalLength!==y||I.pointLength!==x||I.spotLength!==w||I.rectAreaLength!==_||I.hemiLength!==b||I.numDirectionalShadows!==S||I.numPointShadows!==C||I.numSpotShadows!==P||I.numSpotMaps!==R)&&(r.directional.length=y,r.spot.length=w,r.rectArea.length=_,r.point.length=x,r.hemi.length=b,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=P+R-E,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=E,I.directionalLength=y,I.pointLength=x,I.spotLength=w,I.rectAreaLength=_,I.hemiLength=b,I.numDirectionalShadows=S,I.numPointShadows=C,I.numSpotShadows=P,I.numSpotMaps=R,r.version=KL++)}function c(f,h){let p=0,m=0,v=0,y=0,x=0;const w=h.matrixWorldInverse;for(let _=0,b=f.length;_<b;_++){const S=f[_];if(S.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),p++}else if(S.isSpotLight){const C=r.spot[v];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(w),C.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),v++}else if(S.isRectAreaLight){const C=r.rectArea[y];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(w),a.identity(),o.copy(S.matrixWorld),o.premultiply(w),a.extractRotation(o),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(S.isPointLight){const C=r.point[m];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(w),m++}else if(S.isHemisphereLight){const C=r.hemi[x];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(w),x++}}}return{setup:l,setupView:c,state:r}}function v1(i,e){const t=new ZL(i,e),n=[],r=[];function s(){n.length=0,r.length=0}function o(h){n.push(h)}function a(h){r.push(h)}function l(h){t.setup(n,h)}function c(h){t.setupView(n,h)}return{init:s,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function $L(i,e){let t=new WeakMap;function n(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new v1(i,e),t.set(s,[l])):o>=a.length?(l=new v1(i,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:n,dispose:r}}class Ev extends vn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=US,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Tv extends vn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const eD=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tD=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nD(i,e,t){let n=new bh;const r=new pe,s=new pe,o=new Gt,a=new Ev({depthPacking:HS}),l=new Tv,c={},f=t.maxTextureSize,h={[mr]:ni,[ni]:mr,[Ji]:Ji},p=new vr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:eD,fragmentShader:tD}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new dt;v.setAttribute("position",new Ot(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new En(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vh,this.render=function(S,C,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const R=i.getRenderTarget(),E=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),I=i.state;I.setBlending(jr),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let O=0,W=S.length;O<W;O++){const V=S[O],H=V.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);const q=H.getFrameExtents();if(r.multiply(q),s.copy(H.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/q.x),r.x=s.x*q.x,H.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/q.y),r.y=s.y*q.y,H.mapSize.y=s.y)),H.map===null){const re=this.type!==So?{minFilter:on,magFilter:on}:{};H.map=new Ki(r.x,r.y,re),H.map.texture.name=V.name+".shadowMap",H.camera.updateProjectionMatrix()}i.setRenderTarget(H.map),i.clear();const Z=H.getViewportCount();for(let re=0;re<Z;re++){const z=H.getViewport(re);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),I.viewport(o),H.updateMatrices(V,re),n=H.getFrustum(),b(C,P,H.camera,V,this.type)}H.isPointLightShadow!==!0&&this.type===So&&w(H,P),H.needsUpdate=!1}x.needsUpdate=!1,i.setRenderTarget(R,E,B)};function w(S,C){const P=e.update(y);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Ki(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,i.setRenderTarget(S.mapPass),i.clear(),i.renderBufferDirect(C,null,P,p,y,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,i.setRenderTarget(S.map),i.clear(),i.renderBufferDirect(C,null,P,m,y,null)}function _(S,C,P,R,E,B){let I=null;const O=P.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(O!==void 0)I=O;else if(I=P.isPointLight===!0?l:a,i.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const W=I.uuid,V=C.uuid;let H=c[W];H===void 0&&(H={},c[W]=H);let q=H[V];q===void 0&&(q=I.clone(),H[V]=q),I=q}return I.visible=C.visible,I.wireframe=C.wireframe,B===So?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:h[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.map=C.map,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,P.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(P.matrixWorld),I.nearDistance=R,I.farDistance=E),I}function b(S,C,P,R,E){if(S.visible===!1)return;if(S.layers.test(C.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&E===So)&&(!S.frustumCulled||n.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,S.matrixWorld);const O=e.update(S),W=S.material;if(Array.isArray(W)){const V=O.groups;for(let H=0,q=V.length;H<q;H++){const Z=V[H],re=W[Z.materialIndex];if(re&&re.visible){const z=_(S,re,R,P.near,P.far,E);i.renderBufferDirect(P,null,O,z,S,Z)}}}else if(W.visible){const V=_(S,W,R,P.near,P.far,E);i.renderBufferDirect(P,null,O,V,S,null)}}const I=S.children;for(let O=0,W=I.length;O<W;O++)b(I[O],C,P,R,E)}}function iD(i,e,t){const n=t.isWebGL2;function r(){let U=!1;const oe=new Gt;let ye=null;const Be=new Gt(0,0,0,0);return{setMask:function(Xe){ye!==Xe&&!U&&(i.colorMask(Xe,Xe,Xe,Xe),ye=Xe)},setLocked:function(Xe){U=Xe},setClear:function(Xe,_t,Nt,zt,Rn){Rn===!0&&(Xe*=zt,_t*=zt,Nt*=zt),oe.set(Xe,_t,Nt,zt),Be.equals(oe)===!1&&(i.clearColor(Xe,_t,Nt,zt),Be.copy(oe))},reset:function(){U=!1,ye=null,Be.set(-1,0,0,0)}}}function s(){let U=!1,oe=null,ye=null,Be=null;return{setTest:function(Xe){Xe?Ue(2929):Oe(2929)},setMask:function(Xe){oe!==Xe&&!U&&(i.depthMask(Xe),oe=Xe)},setFunc:function(Xe){if(ye!==Xe){switch(Xe){case cS:i.depthFunc(512);break;case uS:i.depthFunc(519);break;case fS:i.depthFunc(513);break;case Jd:i.depthFunc(515);break;case dS:i.depthFunc(514);break;case hS:i.depthFunc(518);break;case pS:i.depthFunc(516);break;case mS:i.depthFunc(517);break;default:i.depthFunc(515)}ye=Xe}},setLocked:function(Xe){U=Xe},setClear:function(Xe){Be!==Xe&&(i.clearDepth(Xe),Be=Xe)},reset:function(){U=!1,oe=null,ye=null,Be=null}}}function o(){let U=!1,oe=null,ye=null,Be=null,Xe=null,_t=null,Nt=null,zt=null,Rn=null;return{setTest:function(It){U||(It?Ue(2960):Oe(2960))},setMask:function(It){oe!==It&&!U&&(i.stencilMask(It),oe=It)},setFunc:function(It,wn,pn){(ye!==It||Be!==wn||Xe!==pn)&&(i.stencilFunc(It,wn,pn),ye=It,Be=wn,Xe=pn)},setOp:function(It,wn,pn){(_t!==It||Nt!==wn||zt!==pn)&&(i.stencilOp(It,wn,pn),_t=It,Nt=wn,zt=pn)},setLocked:function(It){U=It},setClear:function(It){Rn!==It&&(i.clearStencil(It),Rn=It)},reset:function(){U=!1,oe=null,ye=null,Be=null,Xe=null,_t=null,Nt=null,zt=null,Rn=null}}}const a=new r,l=new s,c=new o,f=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,y=[],x=null,w=!1,_=null,b=null,S=null,C=null,P=null,R=null,E=null,B=!1,I=null,O=null,W=null,V=null,H=null;const q=i.getParameter(35661);let Z=!1,re=0;const z=i.getParameter(7938);z.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(z)[1]),Z=re>=1):z.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),Z=re>=2);let K=null,J={};const de=i.getParameter(3088),Y=i.getParameter(2978),ae=new Gt().fromArray(de),xe=new Gt().fromArray(Y);function Ae(U,oe,ye){const Be=new Uint8Array(4),Xe=i.createTexture();i.bindTexture(U,Xe),i.texParameteri(U,10241,9728),i.texParameteri(U,10240,9728);for(let _t=0;_t<ye;_t++)i.texImage2D(oe+_t,0,6408,1,1,0,6408,5121,Be);return Xe}const ne={};ne[3553]=Ae(3553,3553,1),ne[34067]=Ae(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ue(2929),l.setFunc(Jd),Te(!1),$e(Mg),Ue(2884),Se(jr);function Ue(U){p[U]!==!0&&(i.enable(U),p[U]=!0)}function Oe(U){p[U]!==!1&&(i.disable(U),p[U]=!1)}function He(U,oe){return m[U]!==oe?(i.bindFramebuffer(U,oe),m[U]=oe,n&&(U===36009&&(m[36160]=oe),U===36160&&(m[36009]=oe)),!0):!1}function we(U,oe){let ye=y,Be=!1;if(U)if(ye=v.get(oe),ye===void 0&&(ye=[],v.set(oe,ye)),U.isWebGLMultipleRenderTargets){const Xe=U.texture;if(ye.length!==Xe.length||ye[0]!==36064){for(let _t=0,Nt=Xe.length;_t<Nt;_t++)ye[_t]=36064+_t;ye.length=Xe.length,Be=!0}}else ye[0]!==36064&&(ye[0]=36064,Be=!0);else ye[0]!==1029&&(ye[0]=1029,Be=!0);Be&&(t.isWebGL2?i.drawBuffers(ye):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ye))}function Ie(U){return x!==U?(i.useProgram(U),x=U,!0):!1}const fe={[wo]:32774,[Z_]:32778,[$_]:32779};if(n)fe[Pg]=32775,fe[Bg]=32776;else{const U=e.get("EXT_blend_minmax");U!==null&&(fe[Pg]=U.MIN_EXT,fe[Bg]=U.MAX_EXT)}const le={[eS]:0,[tS]:1,[nS]:768,[hv]:770,[lS]:776,[oS]:774,[rS]:772,[iS]:769,[pv]:771,[aS]:775,[sS]:773};function Se(U,oe,ye,Be,Xe,_t,Nt,zt){if(U===jr){w===!0&&(Oe(3042),w=!1);return}if(w===!1&&(Ue(3042),w=!0),U!==q_){if(U!==_||zt!==B){if((b!==wo||P!==wo)&&(i.blendEquation(32774),b=wo,P=wo),zt)switch(U){case Do:i.blendFuncSeparate(1,771,1,771);break;case Cg:i.blendFunc(1,1);break;case Eg:i.blendFuncSeparate(0,769,0,1);break;case Tg:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}else switch(U){case Do:i.blendFuncSeparate(770,771,1,771);break;case Cg:i.blendFunc(770,1);break;case Eg:i.blendFuncSeparate(0,769,0,1);break;case Tg:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}S=null,C=null,R=null,E=null,_=U,B=zt}return}Xe=Xe||oe,_t=_t||ye,Nt=Nt||Be,(oe!==b||Xe!==P)&&(i.blendEquationSeparate(fe[oe],fe[Xe]),b=oe,P=Xe),(ye!==S||Be!==C||_t!==R||Nt!==E)&&(i.blendFuncSeparate(le[ye],le[Be],le[_t],le[Nt]),S=ye,C=Be,R=_t,E=Nt),_=U,B=!1}function Ge(U,oe){U.side===Ji?Oe(2884):Ue(2884);let ye=U.side===ni;oe&&(ye=!ye),Te(ye),U.blending===Do&&U.transparent===!1?Se(jr):Se(U.blending,U.blendEquation,U.blendSrc,U.blendDst,U.blendEquationAlpha,U.blendSrcAlpha,U.blendDstAlpha,U.premultipliedAlpha),l.setFunc(U.depthFunc),l.setTest(U.depthTest),l.setMask(U.depthWrite),a.setMask(U.colorWrite);const Be=U.stencilWrite;c.setTest(Be),Be&&(c.setMask(U.stencilWriteMask),c.setFunc(U.stencilFunc,U.stencilRef,U.stencilFuncMask),c.setOp(U.stencilFail,U.stencilZFail,U.stencilZPass)),Ve(U.polygonOffset,U.polygonOffsetFactor,U.polygonOffsetUnits),U.alphaToCoverage===!0?Ue(32926):Oe(32926)}function Te(U){I!==U&&(U?i.frontFace(2304):i.frontFace(2305),I=U)}function $e(U){U!==Y_?(Ue(2884),U!==O&&(U===Mg?i.cullFace(1029):U===Q_?i.cullFace(1028):i.cullFace(1032))):Oe(2884),O=U}function Ke(U){U!==W&&(Z&&i.lineWidth(U),W=U)}function Ve(U,oe,ye){U?(Ue(32823),(V!==oe||H!==ye)&&(i.polygonOffset(oe,ye),V=oe,H=ye)):Oe(32823)}function bt(U){U?Ue(3089):Oe(3089)}function Ct(U){U===void 0&&(U=33984+q-1),K!==U&&(i.activeTexture(U),K=U)}function G(U,oe,ye){ye===void 0&&(K===null?ye=33984+q-1:ye=K);let Be=J[ye];Be===void 0&&(Be={type:void 0,texture:void 0},J[ye]=Be),(Be.type!==U||Be.texture!==oe)&&(K!==ye&&(i.activeTexture(ye),K=ye),i.bindTexture(U,oe||ne[U]),Be.type=U,Be.texture=oe)}function D(){const U=J[K];U!==void 0&&U.type!==void 0&&(i.bindTexture(U.type,null),U.type=void 0,U.texture=void 0)}function se(){try{i.compressedTexImage2D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function be(){try{i.compressedTexImage3D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Me(){try{i.texSubImage2D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Ee(){try{i.texSubImage3D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function rt(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Le(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function ge(){try{i.texStorage2D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function qe(){try{i.texStorage3D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function st(){try{i.texImage2D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function We(){try{i.texImage3D.apply(i,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function et(U){ae.equals(U)===!1&&(i.scissor(U.x,U.y,U.z,U.w),ae.copy(U))}function Je(U){xe.equals(U)===!1&&(i.viewport(U.x,U.y,U.z,U.w),xe.copy(U))}function j(U,oe){let ye=h.get(oe);ye===void 0&&(ye=new WeakMap,h.set(oe,ye));let Be=ye.get(U);Be===void 0&&(Be=i.getUniformBlockIndex(oe,U.name),ye.set(U,Be))}function ve(U,oe){const Be=h.get(oe).get(U);f.get(oe)!==Be&&(i.uniformBlockBinding(oe,Be,U.__bindingPointIndex),f.set(oe,Be))}function ke(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),n===!0&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},K=null,J={},m={},v=new WeakMap,y=[],x=null,w=!1,_=null,b=null,S=null,C=null,P=null,R=null,E=null,B=!1,I=null,O=null,W=null,V=null,H=null,ae.set(0,0,i.canvas.width,i.canvas.height),xe.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ue,disable:Oe,bindFramebuffer:He,drawBuffers:we,useProgram:Ie,setBlending:Se,setMaterial:Ge,setFlipSided:Te,setCullFace:$e,setLineWidth:Ke,setPolygonOffset:Ve,setScissorTest:bt,activeTexture:Ct,bindTexture:G,unbindTexture:D,compressedTexImage2D:se,compressedTexImage3D:be,texImage2D:st,texImage3D:We,updateUBOMapping:j,uniformBlockBinding:ve,texStorage2D:ge,texStorage3D:qe,texSubImage2D:Me,texSubImage3D:Ee,compressedTexSubImage2D:rt,compressedTexSubImage3D:Le,scissor:et,viewport:Je,reset:ke}}function rD(i,e,t,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,f=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(G,D){return w?new OffscreenCanvas(G,D):Nc("canvas")}function b(G,D,se,be){let Me=1;if((G.width>be||G.height>be)&&(Me=be/Math.max(G.width,G.height)),Me<1||D===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const Ee=D?Qd:Math.floor,rt=Ee(Me*G.width),Le=Ee(Me*G.height);y===void 0&&(y=_(rt,Le));const ge=se?_(rt,Le):y;return ge.width=rt,ge.height=Le,ge.getContext("2d").drawImage(G,0,0,rt,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+rt+"x"+Le+")."),ge}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function S(G){return t0(G.width)&&t0(G.height)}function C(G){return a?!1:G.wrapS!==In||G.wrapT!==In||G.minFilter!==on&&G.minFilter!==qt}function P(G,D){return G.generateMipmaps&&D&&G.minFilter!==on&&G.minFilter!==qt}function R(G){i.generateMipmap(G)}function E(G,D,se,be,Me=!1){if(a===!1)return D;if(G!==null){if(i[G]!==void 0)return i[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Ee=D;return D===6403&&(se===5126&&(Ee=33326),se===5131&&(Ee=33325),se===5121&&(Ee=33321)),D===33319&&(se===5126&&(Ee=33328),se===5131&&(Ee=33327),se===5121&&(Ee=33323)),D===6408&&(se===5126&&(Ee=34836),se===5131&&(Ee=34842),se===5121&&(Ee=be===Vt&&Me===!1?35907:32856),se===32819&&(Ee=32854),se===32820&&(Ee=32855)),(Ee===33325||Ee===33326||Ee===33327||Ee===33328||Ee===34842||Ee===34836)&&e.get("EXT_color_buffer_float"),Ee}function B(G,D,se){return P(G,se)===!0||G.isFramebufferTexture&&G.minFilter!==on&&G.minFilter!==qt?Math.log2(Math.max(D.width,D.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?D.mipmaps.length:1}function I(G){return G===on||G===Lc||G===qa?9728:9729}function O(G){const D=G.target;D.removeEventListener("dispose",O),V(D),D.isVideoTexture&&v.delete(D)}function W(G){const D=G.target;D.removeEventListener("dispose",W),q(D)}function V(G){const D=n.get(G);if(D.__webglInit===void 0)return;const se=G.source,be=x.get(se);if(be){const Me=be[D.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&H(G),Object.keys(be).length===0&&x.delete(se)}n.remove(G)}function H(G){const D=n.get(G);i.deleteTexture(D.__webglTexture);const se=G.source,be=x.get(se);delete be[D.__cacheKey],o.memory.textures--}function q(G){const D=G.texture,se=n.get(G),be=n.get(D);if(be.__webglTexture!==void 0&&(i.deleteTexture(be.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++)i.deleteFramebuffer(se.__webglFramebuffer[Me]),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer[Me]);else{if(i.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&i.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let Me=0;Me<se.__webglColorRenderbuffer.length;Me++)se.__webglColorRenderbuffer[Me]&&i.deleteRenderbuffer(se.__webglColorRenderbuffer[Me]);se.__webglDepthRenderbuffer&&i.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let Me=0,Ee=D.length;Me<Ee;Me++){const rt=n.get(D[Me]);rt.__webglTexture&&(i.deleteTexture(rt.__webglTexture),o.memory.textures--),n.remove(D[Me])}n.remove(D),n.remove(G)}let Z=0;function re(){Z=0}function z(){const G=Z;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),Z+=1,G}function K(G){const D=[];return D.push(G.wrapS),D.push(G.wrapT),D.push(G.wrapR||0),D.push(G.magFilter),D.push(G.minFilter),D.push(G.anisotropy),D.push(G.internalFormat),D.push(G.format),D.push(G.type),D.push(G.generateMipmaps),D.push(G.premultiplyAlpha),D.push(G.flipY),D.push(G.unpackAlignment),D.push(G.encoding),D.join()}function J(G,D){const se=n.get(G);if(G.isVideoTexture&&bt(G),G.isRenderTargetTexture===!1&&G.version>0&&se.__version!==G.version){const be=G.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(se,G,D);return}}t.bindTexture(3553,se.__webglTexture,33984+D)}function de(G,D){const se=n.get(G);if(G.version>0&&se.__version!==G.version){Oe(se,G,D);return}t.bindTexture(35866,se.__webglTexture,33984+D)}function Y(G,D){const se=n.get(G);if(G.version>0&&se.__version!==G.version){Oe(se,G,D);return}t.bindTexture(32879,se.__webglTexture,33984+D)}function ae(G,D){const se=n.get(G);if(G.version>0&&se.__version!==G.version){He(se,G,D);return}t.bindTexture(34067,se.__webglTexture,33984+D)}const xe={[Rs]:10497,[In]:33071,[il]:33648},Ae={[on]:9728,[Lc]:9984,[qa]:9986,[qt]:9729,[xh]:9985,[gr]:9987};function ne(G,D,se){if(se?(i.texParameteri(G,10242,xe[D.wrapS]),i.texParameteri(G,10243,xe[D.wrapT]),(G===32879||G===35866)&&i.texParameteri(G,32882,xe[D.wrapR]),i.texParameteri(G,10240,Ae[D.magFilter]),i.texParameteri(G,10241,Ae[D.minFilter])):(i.texParameteri(G,10242,33071),i.texParameteri(G,10243,33071),(G===32879||G===35866)&&i.texParameteri(G,32882,33071),(D.wrapS!==In||D.wrapT!==In)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(G,10240,I(D.magFilter)),i.texParameteri(G,10241,I(D.minFilter)),D.minFilter!==on&&D.minFilter!==qt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===on||D.minFilter!==qa&&D.minFilter!==gr||D.type===zr&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===rl&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||n.get(D).__currentAnisotropy)&&(i.texParameterf(G,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),n.get(D).__currentAnisotropy=D.anisotropy)}}function Ue(G,D){let se=!1;G.__webglInit===void 0&&(G.__webglInit=!0,D.addEventListener("dispose",O));const be=D.source;let Me=x.get(be);Me===void 0&&(Me={},x.set(be,Me));const Ee=K(D);if(Ee!==G.__cacheKey){Me[Ee]===void 0&&(Me[Ee]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Me[Ee].usedTimes++;const rt=Me[G.__cacheKey];rt!==void 0&&(Me[G.__cacheKey].usedTimes--,rt.usedTimes===0&&H(D)),G.__cacheKey=Ee,G.__webglTexture=Me[Ee].texture}return se}function Oe(G,D,se){let be=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(be=35866),D.isData3DTexture&&(be=32879);const Me=Ue(G,D),Ee=D.source;t.bindTexture(be,G.__webglTexture,33984+se);const rt=n.get(Ee);if(Ee.version!==rt.__version||Me===!0){t.activeTexture(33984+se),i.pixelStorei(37440,D.flipY),i.pixelStorei(37441,D.premultiplyAlpha),i.pixelStorei(3317,D.unpackAlignment),i.pixelStorei(37443,0);const Le=C(D)&&S(D.image)===!1;let ge=b(D.image,Le,!1,f);ge=Ct(D,ge);const qe=S(ge)||a,st=s.convert(D.format,D.encoding);let We=s.convert(D.type),et=E(D.internalFormat,st,We,D.encoding,D.isVideoTexture);ne(be,D,qe);let Je;const j=D.mipmaps,ve=a&&D.isVideoTexture!==!0,ke=rt.__version===void 0||Me===!0,U=B(D,ge,qe);if(D.isDepthTexture)et=6402,a?D.type===zr?et=36012:D.type===Ms?et=33190:D.type===Fo?et=35056:et=33189:D.type===zr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Es&&et===6402&&D.type!==gv&&D.type!==Ms&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Ms,We=s.convert(D.type)),D.format===Uo&&et===6402&&(et=34041,D.type!==Fo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Fo,We=s.convert(D.type))),ke&&(ve?t.texStorage2D(3553,1,et,ge.width,ge.height):t.texImage2D(3553,0,et,ge.width,ge.height,0,st,We,null));else if(D.isDataTexture)if(j.length>0&&qe){ve&&ke&&t.texStorage2D(3553,U,et,j[0].width,j[0].height);for(let oe=0,ye=j.length;oe<ye;oe++)Je=j[oe],ve?t.texSubImage2D(3553,oe,0,0,Je.width,Je.height,st,We,Je.data):t.texImage2D(3553,oe,et,Je.width,Je.height,0,st,We,Je.data);D.generateMipmaps=!1}else ve?(ke&&t.texStorage2D(3553,U,et,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,st,We,ge.data)):t.texImage2D(3553,0,et,ge.width,ge.height,0,st,We,ge.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ve&&ke&&t.texStorage3D(35866,U,et,j[0].width,j[0].height,ge.depth);for(let oe=0,ye=j.length;oe<ye;oe++)Je=j[oe],D.format!==ti?st!==null?ve?t.compressedTexSubImage3D(35866,oe,0,0,0,Je.width,Je.height,ge.depth,st,Je.data,0,0):t.compressedTexImage3D(35866,oe,et,Je.width,Je.height,ge.depth,0,Je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?t.texSubImage3D(35866,oe,0,0,0,Je.width,Je.height,ge.depth,st,We,Je.data):t.texImage3D(35866,oe,et,Je.width,Je.height,ge.depth,0,st,We,Je.data)}else{ve&&ke&&t.texStorage2D(3553,U,et,j[0].width,j[0].height);for(let oe=0,ye=j.length;oe<ye;oe++)Je=j[oe],D.format!==ti?st!==null?ve?t.compressedTexSubImage2D(3553,oe,0,0,Je.width,Je.height,st,Je.data):t.compressedTexImage2D(3553,oe,et,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?t.texSubImage2D(3553,oe,0,0,Je.width,Je.height,st,We,Je.data):t.texImage2D(3553,oe,et,Je.width,Je.height,0,st,We,Je.data)}else if(D.isDataArrayTexture)ve?(ke&&t.texStorage3D(35866,U,et,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,st,We,ge.data)):t.texImage3D(35866,0,et,ge.width,ge.height,ge.depth,0,st,We,ge.data);else if(D.isData3DTexture)ve?(ke&&t.texStorage3D(32879,U,et,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,st,We,ge.data)):t.texImage3D(32879,0,et,ge.width,ge.height,ge.depth,0,st,We,ge.data);else if(D.isFramebufferTexture){if(ke)if(ve)t.texStorage2D(3553,U,et,ge.width,ge.height);else{let oe=ge.width,ye=ge.height;for(let Be=0;Be<U;Be++)t.texImage2D(3553,Be,et,oe,ye,0,st,We,null),oe>>=1,ye>>=1}}else if(j.length>0&&qe){ve&&ke&&t.texStorage2D(3553,U,et,j[0].width,j[0].height);for(let oe=0,ye=j.length;oe<ye;oe++)Je=j[oe],ve?t.texSubImage2D(3553,oe,0,0,st,We,Je):t.texImage2D(3553,oe,et,st,We,Je);D.generateMipmaps=!1}else ve?(ke&&t.texStorage2D(3553,U,et,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,st,We,ge)):t.texImage2D(3553,0,et,st,We,ge);P(D,qe)&&R(be),rt.__version=Ee.version,D.onUpdate&&D.onUpdate(D)}G.__version=D.version}function He(G,D,se){if(D.image.length!==6)return;const be=Ue(G,D),Me=D.source;t.bindTexture(34067,G.__webglTexture,33984+se);const Ee=n.get(Me);if(Me.version!==Ee.__version||be===!0){t.activeTexture(33984+se),i.pixelStorei(37440,D.flipY),i.pixelStorei(37441,D.premultiplyAlpha),i.pixelStorei(3317,D.unpackAlignment),i.pixelStorei(37443,0);const rt=D.isCompressedTexture||D.image[0].isCompressedTexture,Le=D.image[0]&&D.image[0].isDataTexture,ge=[];for(let oe=0;oe<6;oe++)!rt&&!Le?ge[oe]=b(D.image[oe],!1,!0,c):ge[oe]=Le?D.image[oe].image:D.image[oe],ge[oe]=Ct(D,ge[oe]);const qe=ge[0],st=S(qe)||a,We=s.convert(D.format,D.encoding),et=s.convert(D.type),Je=E(D.internalFormat,We,et,D.encoding),j=a&&D.isVideoTexture!==!0,ve=Ee.__version===void 0||be===!0;let ke=B(D,qe,st);ne(34067,D,st);let U;if(rt){j&&ve&&t.texStorage2D(34067,ke,Je,qe.width,qe.height);for(let oe=0;oe<6;oe++){U=ge[oe].mipmaps;for(let ye=0;ye<U.length;ye++){const Be=U[ye];D.format!==ti?We!==null?j?t.compressedTexSubImage2D(34069+oe,ye,0,0,Be.width,Be.height,We,Be.data):t.compressedTexImage2D(34069+oe,ye,Je,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):j?t.texSubImage2D(34069+oe,ye,0,0,Be.width,Be.height,We,et,Be.data):t.texImage2D(34069+oe,ye,Je,Be.width,Be.height,0,We,et,Be.data)}}}else{U=D.mipmaps,j&&ve&&(U.length>0&&ke++,t.texStorage2D(34067,ke,Je,ge[0].width,ge[0].height));for(let oe=0;oe<6;oe++)if(Le){j?t.texSubImage2D(34069+oe,0,0,0,ge[oe].width,ge[oe].height,We,et,ge[oe].data):t.texImage2D(34069+oe,0,Je,ge[oe].width,ge[oe].height,0,We,et,ge[oe].data);for(let ye=0;ye<U.length;ye++){const Xe=U[ye].image[oe].image;j?t.texSubImage2D(34069+oe,ye+1,0,0,Xe.width,Xe.height,We,et,Xe.data):t.texImage2D(34069+oe,ye+1,Je,Xe.width,Xe.height,0,We,et,Xe.data)}}else{j?t.texSubImage2D(34069+oe,0,0,0,We,et,ge[oe]):t.texImage2D(34069+oe,0,Je,We,et,ge[oe]);for(let ye=0;ye<U.length;ye++){const Be=U[ye];j?t.texSubImage2D(34069+oe,ye+1,0,0,We,et,Be.image[oe]):t.texImage2D(34069+oe,ye+1,Je,We,et,Be.image[oe])}}}P(D,st)&&R(34067),Ee.__version=Me.version,D.onUpdate&&D.onUpdate(D)}G.__version=D.version}function we(G,D,se,be,Me){const Ee=s.convert(se.format,se.encoding),rt=s.convert(se.type),Le=E(se.internalFormat,Ee,rt,se.encoding);n.get(D).__hasExternalTextures||(Me===32879||Me===35866?t.texImage3D(Me,0,Le,D.width,D.height,D.depth,0,Ee,rt,null):t.texImage2D(Me,0,Le,D.width,D.height,0,Ee,rt,null)),t.bindFramebuffer(36160,G),Ve(D)?p.framebufferTexture2DMultisampleEXT(36160,be,Me,n.get(se).__webglTexture,0,Ke(D)):(Me===3553||Me>=34069&&Me<=34074)&&i.framebufferTexture2D(36160,be,Me,n.get(se).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ie(G,D,se){if(i.bindRenderbuffer(36161,G),D.depthBuffer&&!D.stencilBuffer){let be=33189;if(se||Ve(D)){const Me=D.depthTexture;Me&&Me.isDepthTexture&&(Me.type===zr?be=36012:Me.type===Ms&&(be=33190));const Ee=Ke(D);Ve(D)?p.renderbufferStorageMultisampleEXT(36161,Ee,be,D.width,D.height):i.renderbufferStorageMultisample(36161,Ee,be,D.width,D.height)}else i.renderbufferStorage(36161,be,D.width,D.height);i.framebufferRenderbuffer(36160,36096,36161,G)}else if(D.depthBuffer&&D.stencilBuffer){const be=Ke(D);se&&Ve(D)===!1?i.renderbufferStorageMultisample(36161,be,35056,D.width,D.height):Ve(D)?p.renderbufferStorageMultisampleEXT(36161,be,35056,D.width,D.height):i.renderbufferStorage(36161,34041,D.width,D.height),i.framebufferRenderbuffer(36160,33306,36161,G)}else{const be=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Me=0;Me<be.length;Me++){const Ee=be[Me],rt=s.convert(Ee.format,Ee.encoding),Le=s.convert(Ee.type),ge=E(Ee.internalFormat,rt,Le,Ee.encoding),qe=Ke(D);se&&Ve(D)===!1?i.renderbufferStorageMultisample(36161,qe,ge,D.width,D.height):Ve(D)?p.renderbufferStorageMultisampleEXT(36161,qe,ge,D.width,D.height):i.renderbufferStorage(36161,ge,D.width,D.height)}}i.bindRenderbuffer(36161,null)}function fe(G,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,G),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),J(D.depthTexture,0);const be=n.get(D.depthTexture).__webglTexture,Me=Ke(D);if(D.depthTexture.format===Es)Ve(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,be,0,Me):i.framebufferTexture2D(36160,36096,3553,be,0);else if(D.depthTexture.format===Uo)Ve(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,be,0,Me):i.framebufferTexture2D(36160,33306,3553,be,0);else throw new Error("Unknown depthTexture format")}function le(G){const D=n.get(G),se=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!D.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");fe(D.__webglFramebuffer,G)}else if(se){D.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(36160,D.__webglFramebuffer[be]),D.__webglDepthbuffer[be]=i.createRenderbuffer(),Ie(D.__webglDepthbuffer[be],G,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=i.createRenderbuffer(),Ie(D.__webglDepthbuffer,G,!1);t.bindFramebuffer(36160,null)}function Se(G,D,se){const be=n.get(G);D!==void 0&&we(be.__webglFramebuffer,G,G.texture,36064,3553),se!==void 0&&le(G)}function Ge(G){const D=G.texture,se=n.get(G),be=n.get(D);G.addEventListener("dispose",W),G.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=i.createTexture()),be.__version=D.version,o.memory.textures++);const Me=G.isWebGLCubeRenderTarget===!0,Ee=G.isWebGLMultipleRenderTargets===!0,rt=S(G)||a;if(Me){se.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)se.__webglFramebuffer[Le]=i.createFramebuffer()}else{if(se.__webglFramebuffer=i.createFramebuffer(),Ee)if(r.drawBuffers){const Le=G.texture;for(let ge=0,qe=Le.length;ge<qe;ge++){const st=n.get(Le[ge]);st.__webglTexture===void 0&&(st.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&G.samples>0&&Ve(G)===!1){const Le=Ee?D:[D];se.__webglMultisampledFramebuffer=i.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,se.__webglMultisampledFramebuffer);for(let ge=0;ge<Le.length;ge++){const qe=Le[ge];se.__webglColorRenderbuffer[ge]=i.createRenderbuffer(),i.bindRenderbuffer(36161,se.__webglColorRenderbuffer[ge]);const st=s.convert(qe.format,qe.encoding),We=s.convert(qe.type),et=E(qe.internalFormat,st,We,qe.encoding,G.isXRRenderTarget===!0),Je=Ke(G);i.renderbufferStorageMultisample(36161,Je,et,G.width,G.height),i.framebufferRenderbuffer(36160,36064+ge,36161,se.__webglColorRenderbuffer[ge])}i.bindRenderbuffer(36161,null),G.depthBuffer&&(se.__webglDepthRenderbuffer=i.createRenderbuffer(),Ie(se.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(36160,null)}}if(Me){t.bindTexture(34067,be.__webglTexture),ne(34067,D,rt);for(let Le=0;Le<6;Le++)we(se.__webglFramebuffer[Le],G,D,36064,34069+Le);P(D,rt)&&R(34067),t.unbindTexture()}else if(Ee){const Le=G.texture;for(let ge=0,qe=Le.length;ge<qe;ge++){const st=Le[ge],We=n.get(st);t.bindTexture(3553,We.__webglTexture),ne(3553,st,rt),we(se.__webglFramebuffer,G,st,36064+ge,3553),P(st,rt)&&R(3553)}t.unbindTexture()}else{let Le=3553;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?Le=G.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Le,be.__webglTexture),ne(Le,D,rt),we(se.__webglFramebuffer,G,D,36064,Le),P(D,rt)&&R(Le),t.unbindTexture()}G.depthBuffer&&le(G)}function Te(G){const D=S(G)||a,se=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let be=0,Me=se.length;be<Me;be++){const Ee=se[be];if(P(Ee,D)){const rt=G.isWebGLCubeRenderTarget?34067:3553,Le=n.get(Ee).__webglTexture;t.bindTexture(rt,Le),R(rt),t.unbindTexture()}}}function $e(G){if(a&&G.samples>0&&Ve(G)===!1){const D=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],se=G.width,be=G.height;let Me=16384;const Ee=[],rt=G.stencilBuffer?33306:36096,Le=n.get(G),ge=G.isWebGLMultipleRenderTargets===!0;if(ge)for(let qe=0;qe<D.length;qe++)t.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+qe,36161,null),t.bindFramebuffer(36160,Le.__webglFramebuffer),i.framebufferTexture2D(36009,36064+qe,3553,null,0);t.bindFramebuffer(36008,Le.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Le.__webglFramebuffer);for(let qe=0;qe<D.length;qe++){Ee.push(36064+qe),G.depthBuffer&&Ee.push(rt);const st=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(st===!1&&(G.depthBuffer&&(Me|=256),G.stencilBuffer&&(Me|=1024)),ge&&i.framebufferRenderbuffer(36008,36064,36161,Le.__webglColorRenderbuffer[qe]),st===!0&&(i.invalidateFramebuffer(36008,[rt]),i.invalidateFramebuffer(36009,[rt])),ge){const We=n.get(D[qe]).__webglTexture;i.framebufferTexture2D(36009,36064,3553,We,0)}i.blitFramebuffer(0,0,se,be,0,0,se,be,Me,9728),m&&i.invalidateFramebuffer(36008,Ee)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let qe=0;qe<D.length;qe++){t.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+qe,36161,Le.__webglColorRenderbuffer[qe]);const st=n.get(D[qe]).__webglTexture;t.bindFramebuffer(36160,Le.__webglFramebuffer),i.framebufferTexture2D(36009,36064+qe,3553,st,0)}t.bindFramebuffer(36009,Le.__webglMultisampledFramebuffer)}}function Ke(G){return Math.min(h,G.samples)}function Ve(G){const D=n.get(G);return a&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function bt(G){const D=o.render.frame;v.get(G)!==D&&(v.set(G,D),G.update())}function Ct(G,D){const se=G.encoding,be=G.format,Me=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===Yd||se!==Ls&&(se===Vt?a===!1?e.has("EXT_sRGB")===!0&&be===ti?(G.format=Yd,G.minFilter=qt,G.generateMipmaps=!1):D=Av.sRGBToLinear(D):(be!==ti||Me!==Qr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),D}this.allocateTextureUnit=z,this.resetTextureUnits=re,this.setTexture2D=J,this.setTexture2DArray=de,this.setTexture3D=Y,this.setTextureCube=ae,this.rebindTextures=Se,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Ve}function nM(i,e,t){const n=t.isWebGL2;function r(s,o=null){let a;if(s===Qr)return 5121;if(s===MS)return 32819;if(s===CS)return 32820;if(s===bS)return 5120;if(s===_S)return 5122;if(s===gv)return 5123;if(s===SS)return 5124;if(s===Ms)return 5125;if(s===zr)return 5126;if(s===rl)return n?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===ES)return 6406;if(s===ti)return 6408;if(s===TS)return 6409;if(s===PS)return 6410;if(s===Es)return 6402;if(s===Uo)return 34041;if(s===Yd)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===BS)return 6403;if(s===IS)return 36244;if(s===RS)return 33319;if(s===LS)return 33320;if(s===DS)return 36249;if(s===Ed||s===Td||s===Pd||s===Bd)if(o===Vt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Ed)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Td)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Pd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Bd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Ed)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Td)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Pd)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Bd)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ig||s===Rg||s===Lg||s===Dg)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Ig)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Rg)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Lg)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Dg)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===FS)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Fg||s===Og)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Fg)return o===Vt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Og)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Ng||s===kg||s===Gg||s===zg||s===Ug||s===Hg||s===Vg||s===Wg||s===jg||s===Jg||s===Xg||s===Yg||s===Qg||s===Kg)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Ng)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Gg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===zg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Ug)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Hg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Vg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Wg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===jg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Jg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Xg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Yg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Qg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Kg)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Id)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Id)return o===Vt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===OS||s===qg||s===Zg||s===$g)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Id)return a.COMPRESSED_RED_RGTC1_EXT;if(s===qg)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Zg)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===$g)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Fo?n?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):i[s]!==void 0?i[s]:null}return{convert:r}}class iM extends Qt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Hr extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const sD={type:"move"};class Mm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Hr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Hr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Hr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,n),w=this._getHandJoint(c,y);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(sD)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Hr;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class rM extends en{constructor(e,t,n,r,s,o,a,l,c,f){if(f=f!==void 0?f:Es,f!==Es&&f!==Uo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&f===Es&&(n=Ms),n===void 0&&f===Uo&&(n=Fo),super(null,r,s,o,a,l,f,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:on,this.minFilter=l!==void 0?l:on,this.flipY=!1,this.generateMipmaps=!1}}class oD extends ts{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,h=null,p=null,m=null,v=null;const y=t.getContextAttributes();let x=null,w=null;const _=[],b=[],S=new Set,C=new Map,P=new Qt;P.layers.enable(1),P.viewport=new Gt;const R=new Qt;R.layers.enable(2),R.viewport=new Gt;const E=[P,R],B=new iM;B.layers.enable(1),B.layers.enable(2);let I=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let ae=_[Y];return ae===void 0&&(ae=new Mm,_[Y]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(Y){let ae=_[Y];return ae===void 0&&(ae=new Mm,_[Y]=ae),ae.getGripSpace()},this.getHand=function(Y){let ae=_[Y];return ae===void 0&&(ae=new Mm,_[Y]=ae),ae.getHandSpace()};function W(Y){const ae=b.indexOf(Y.inputSource);if(ae===-1)return;const xe=_[ae];xe!==void 0&&xe.dispatchEvent({type:Y.type,data:Y.inputSource})}function V(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",V),r.removeEventListener("inputsourceschange",H);for(let Y=0;Y<_.length;Y++){const ae=b[Y];ae!==null&&(b[Y]=null,_[Y].disconnect(ae))}I=null,O=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,w=null,de.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(Y){if(r=Y,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",V),r.addEventListener("inputsourceschange",H),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ae={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ae),r.updateRenderState({baseLayer:m}),w=new Ki(m.framebufferWidth,m.framebufferHeight,{format:ti,type:Qr,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let ae=null,xe=null,Ae=null;y.depth&&(Ae=y.stencil?35056:33190,ae=y.stencil?Uo:Es,xe=y.stencil?Fo:Ms);const ne={colorFormat:32856,depthFormat:Ae,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(ne),r.updateRenderState({layers:[p]}),w=new Ki(p.textureWidth,p.textureHeight,{format:ti,type:Qr,depthTexture:new rM(p.textureWidth,p.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Ue=e.properties.get(w);Ue.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),de.setContext(r),de.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function H(Y){for(let ae=0;ae<Y.removed.length;ae++){const xe=Y.removed[ae],Ae=b.indexOf(xe);Ae>=0&&(b[Ae]=null,_[Ae].disconnect(xe))}for(let ae=0;ae<Y.added.length;ae++){const xe=Y.added[ae];let Ae=b.indexOf(xe);if(Ae===-1){for(let Ue=0;Ue<_.length;Ue++)if(Ue>=b.length){b.push(xe),Ae=Ue;break}else if(b[Ue]===null){b[Ue]=xe,Ae=Ue;break}if(Ae===-1)break}const ne=_[Ae];ne&&ne.connect(xe)}}const q=new F,Z=new F;function re(Y,ae,xe){q.setFromMatrixPosition(ae.matrixWorld),Z.setFromMatrixPosition(xe.matrixWorld);const Ae=q.distanceTo(Z),ne=ae.projectionMatrix.elements,Ue=xe.projectionMatrix.elements,Oe=ne[14]/(ne[10]-1),He=ne[14]/(ne[10]+1),we=(ne[9]+1)/ne[5],Ie=(ne[9]-1)/ne[5],fe=(ne[8]-1)/ne[0],le=(Ue[8]+1)/Ue[0],Se=Oe*fe,Ge=Oe*le,Te=Ae/(-fe+le),$e=Te*-fe;ae.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX($e),Y.translateZ(Te),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Ke=Oe+Te,Ve=He+Te,bt=Se-$e,Ct=Ge+(Ae-$e),G=we*He/Ve*Ke,D=Ie*He/Ve*Ke;Y.projectionMatrix.makePerspective(bt,Ct,G,D,Ke,Ve)}function z(Y,ae){ae===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(ae.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(r===null)return;B.near=R.near=P.near=Y.near,B.far=R.far=P.far=Y.far,(I!==B.near||O!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),I=B.near,O=B.far);const ae=Y.parent,xe=B.cameras;z(B,ae);for(let ne=0;ne<xe.length;ne++)z(xe[ne],ae);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),Y.matrix.copy(B.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale);const Ae=Y.children;for(let ne=0,Ue=Ae.length;ne<Ue;ne++)Ae[ne].updateMatrixWorld(!0);xe.length===2?re(B,P,R):B.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return B},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Y){l=Y,p!==null&&(p.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)},this.getPlanes=function(){return S};let K=null;function J(Y,ae){if(f=ae.getViewerPose(c||o),v=ae,f!==null){const xe=f.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let Ae=!1;xe.length!==B.cameras.length&&(B.cameras.length=0,Ae=!0);for(let ne=0;ne<xe.length;ne++){const Ue=xe[ne];let Oe=null;if(m!==null)Oe=m.getViewport(Ue);else{const we=h.getViewSubImage(p,Ue);Oe=we.viewport,ne===0&&(e.setRenderTargetTextures(w,we.colorTexture,p.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(w))}let He=E[ne];He===void 0&&(He=new Qt,He.layers.enable(ne),He.viewport=new Gt,E[ne]=He),He.matrix.fromArray(Ue.transform.matrix),He.projectionMatrix.fromArray(Ue.projectionMatrix),He.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),ne===0&&B.matrix.copy(He.matrix),Ae===!0&&B.cameras.push(He)}}for(let xe=0;xe<_.length;xe++){const Ae=b[xe],ne=_[xe];Ae!==null&&ne!==void 0&&ne.update(Ae,ae,c||o)}if(K&&K(Y,ae),ae.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:ae.detectedPlanes});let xe=null;for(const Ae of S)ae.detectedPlanes.has(Ae)||(xe===null&&(xe=[]),xe.push(Ae));if(xe!==null)for(const Ae of xe)S.delete(Ae),C.delete(Ae),n.dispatchEvent({type:"planeremoved",data:Ae});for(const Ae of ae.detectedPlanes)if(!S.has(Ae))S.add(Ae),C.set(Ae,ae.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Ae});else{const ne=C.get(Ae);Ae.lastChangedTime>ne&&(C.set(Ae,Ae.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Ae}))}}v=null}const de=new qS;de.setAnimationLoop(J),this.setAnimationLoop=function(Y){K=Y},this.dispose=function(){}}}function aD(i,e){function t(y,x){x.color.getRGB(y.fogColor.value,QS(i)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function n(y,x,w,_,b){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(y,x):x.isMeshToonMaterial?(r(y,x),f(y,x)):x.isMeshPhongMaterial?(r(y,x),c(y,x)):x.isMeshStandardMaterial?(r(y,x),h(y,x),x.isMeshPhysicalMaterial&&p(y,x,b)):x.isMeshMatcapMaterial?(r(y,x),m(y,x)):x.isMeshDepthMaterial?r(y,x):x.isMeshDistanceMaterial?(r(y,x),v(y,x)):x.isMeshNormalMaterial?r(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,w,_):x.isSpriteMaterial?l(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===ni&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===ni&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const S=i.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix));let b;x.aoMap?b=x.aoMap:x.lightMap&&(b=x.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uv2Transform.value.copy(b.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,w,_){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*w,y.scale.value=_*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let b;x.map?b=x.map:x.alphaMap&&(b=x.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uvTransform.value.copy(b.matrix))}function l(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function f(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function p(y,x,w){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===ni&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function m(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function lD(i,e,t,n){let r={},s={},o=[];const a=t.isWebGL2?i.getParameter(35375):0;function l(_,b){const S=b.program;n.uniformBlockBinding(_,S)}function c(_,b){let S=r[_.id];S===void 0&&(v(_),S=f(_),r[_.id]=S,_.addEventListener("dispose",x));const C=b.program;n.updateUBOMapping(_,C);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function f(_){const b=h();_.__bindingPointIndex=b;const S=i.createBuffer(),C=_.__size,P=_.usage;return i.bindBuffer(35345,S),i.bufferData(35345,C,P),i.bindBuffer(35345,null),i.bindBufferBase(35345,b,S),S}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const b=r[_.id],S=_.uniforms,C=_.__cache;i.bindBuffer(35345,b);for(let P=0,R=S.length;P<R;P++){const E=S[P];if(m(E,P,C)===!0){const B=E.__offset,I=Array.isArray(E.value)?E.value:[E.value];let O=0;for(let W=0;W<I.length;W++){const V=I[W],H=y(V);typeof V=="number"?(E.__data[0]=V,i.bufferSubData(35345,B+O,E.__data)):V.isMatrix3?(E.__data[0]=V.elements[0],E.__data[1]=V.elements[1],E.__data[2]=V.elements[2],E.__data[3]=V.elements[0],E.__data[4]=V.elements[3],E.__data[5]=V.elements[4],E.__data[6]=V.elements[5],E.__data[7]=V.elements[0],E.__data[8]=V.elements[6],E.__data[9]=V.elements[7],E.__data[10]=V.elements[8],E.__data[11]=V.elements[0]):(V.toArray(E.__data,O),O+=H.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(35345,B,E.__data)}}i.bindBuffer(35345,null)}function m(_,b,S){const C=_.value;if(S[b]===void 0){if(typeof C=="number")S[b]=C;else{const P=Array.isArray(C)?C:[C],R=[];for(let E=0;E<P.length;E++)R.push(P[E].clone());S[b]=R}return!0}else if(typeof C=="number"){if(S[b]!==C)return S[b]=C,!0}else{const P=Array.isArray(S[b])?S[b]:[S[b]],R=Array.isArray(C)?C:[C];for(let E=0;E<P.length;E++){const B=P[E];if(B.equals(R[E])===!1)return B.copy(R[E]),!0}}return!1}function v(_){const b=_.uniforms;let S=0;const C=16;let P=0;for(let R=0,E=b.length;R<E;R++){const B=b[R],I={boundary:0,storage:0},O=Array.isArray(B.value)?B.value:[B.value];for(let W=0,V=O.length;W<V;W++){const H=O[W],q=y(H);I.boundary+=q.boundary,I.storage+=q.storage}if(B.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=S,R>0){P=S%C;const W=C-P;P!==0&&W-I.boundary<0&&(S+=C-P,B.__offset=S)}S+=I.storage}return P=S%C,P>0&&(S+=C-P),_.__size=S,_.__cache={},this}function y(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function x(_){const b=_.target;b.removeEventListener("dispose",x);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),i.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function w(){for(const _ in r)i.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:w}}function cD(){const i=Nc("canvas");return i.style.display="block",i}function Pv(i={}){this.isWebGLRenderer=!0;const e=i.canvas!==void 0?i.canvas:cD(),t=i.context!==void 0?i.context:null,n=i.depth!==void 0?i.depth:!0,r=i.stencil!==void 0?i.stencil:!0,s=i.antialias!==void 0?i.antialias:!1,o=i.premultipliedAlpha!==void 0?i.premultipliedAlpha:!0,a=i.preserveDrawingBuffer!==void 0?i.preserveDrawingBuffer:!1,l=i.powerPreference!==void 0?i.powerPreference:"default",c=i.failIfMajorPerformanceCaveat!==void 0?i.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=i.alpha!==void 0?i.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ls,this.physicallyCorrectLights=!1,this.toneMapping=Yi,this.toneMappingExposure=1;const y=this;let x=!1,w=0,_=0,b=null,S=-1,C=null;const P=new Gt,R=new Gt;let E=null,B=e.width,I=e.height,O=1,W=null,V=null;const H=new Gt(0,0,B,I),q=new Gt(0,0,B,I);let Z=!1;const re=new bh;let z=!1,K=!1,J=null;const de=new at,Y=new pe,ae=new F,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return b===null?O:1}let ne=t;function Ue(N,te){for(let he=0;he<N.length;he++){const ee=N[he],me=e.getContext(ee,te);if(me!==null)return me}return null}try{const N={alpha:!0,depth:n,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${pl}`),e.addEventListener("webglcontextlost",et,!1),e.addEventListener("webglcontextrestored",Je,!1),e.addEventListener("webglcontextcreationerror",j,!1),ne===null){const te=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&te.shift(),ne=Ue(te,N),ne===null)throw Ue(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let Oe,He,we,Ie,fe,le,Se,Ge,Te,$e,Ke,Ve,bt,Ct,G,D,se,be,Me,Ee,rt,Le,ge,qe;function st(){Oe=new M3(ne),He=new x3(ne,Oe,i),Oe.init(He),Le=new nM(ne,Oe,He),we=new iD(ne,Oe,He),Ie=new T3,fe=new jL,le=new rD(ne,Oe,we,fe,He,Le,Ie),Se=new w3(y),Ge=new S3(y),Te=new NB(ne,He),ge=new v3(ne,Oe,Te,He),$e=new C3(ne,Te,Ie,ge),Ke=new R3(ne,$e,Te,Ie),Me=new I3(ne,He,le),D=new A3(fe),Ve=new WL(y,Se,Ge,Oe,He,ge,D),bt=new aD(y,fe),Ct=new XL,G=new $L(Oe,He),be=new g3(y,Se,Ge,we,Ke,f,o),se=new nD(y,Ke,He),qe=new lD(ne,Ie,He,we),Ee=new y3(ne,Oe,Ie,He),rt=new E3(ne,Oe,Ie,He),Ie.programs=Ve.programs,y.capabilities=He,y.extensions=Oe,y.properties=fe,y.renderLists=Ct,y.shadowMap=se,y.state=we,y.info=Ie}st();const We=new oD(y,ne);this.xr=We,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const N=Oe.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=Oe.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(N){N!==void 0&&(O=N,this.setSize(B,I,!1))},this.getSize=function(N){return N.set(B,I)},this.setSize=function(N,te,he){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=N,I=te,e.width=Math.floor(N*O),e.height=Math.floor(te*O),he!==!1&&(e.style.width=N+"px",e.style.height=te+"px"),this.setViewport(0,0,N,te)},this.getDrawingBufferSize=function(N){return N.set(B*O,I*O).floor()},this.setDrawingBufferSize=function(N,te,he){B=N,I=te,O=he,e.width=Math.floor(N*he),e.height=Math.floor(te*he),this.setViewport(0,0,N,te)},this.getCurrentViewport=function(N){return N.copy(P)},this.getViewport=function(N){return N.copy(H)},this.setViewport=function(N,te,he,ee){N.isVector4?H.set(N.x,N.y,N.z,N.w):H.set(N,te,he,ee),we.viewport(P.copy(H).multiplyScalar(O).floor())},this.getScissor=function(N){return N.copy(q)},this.setScissor=function(N,te,he,ee){N.isVector4?q.set(N.x,N.y,N.z,N.w):q.set(N,te,he,ee),we.scissor(R.copy(q).multiplyScalar(O).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(N){we.setScissorTest(Z=N)},this.setOpaqueSort=function(N){W=N},this.setTransparentSort=function(N){V=N},this.getClearColor=function(N){return N.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(N=!0,te=!0,he=!0){let ee=0;N&&(ee|=16384),te&&(ee|=256),he&&(ee|=1024),ne.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",et,!1),e.removeEventListener("webglcontextrestored",Je,!1),e.removeEventListener("webglcontextcreationerror",j,!1),Ct.dispose(),G.dispose(),fe.dispose(),Se.dispose(),Ge.dispose(),Ke.dispose(),ge.dispose(),qe.dispose(),Ve.dispose(),We.dispose(),We.removeEventListener("sessionstart",Be),We.removeEventListener("sessionend",Xe),J&&(J.dispose(),J=null),_t.stop()};function et(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Je(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const N=Ie.autoReset,te=se.enabled,he=se.autoUpdate,ee=se.needsUpdate,me=se.type;st(),Ie.autoReset=N,se.enabled=te,se.autoUpdate=he,se.needsUpdate=ee,se.type=me}function j(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function ve(N){const te=N.target;te.removeEventListener("dispose",ve),ke(te)}function ke(N){U(N),fe.remove(N)}function U(N){const te=fe.get(N).programs;te!==void 0&&(te.forEach(function(he){Ve.releaseProgram(he)}),N.isShaderMaterial&&Ve.releaseShaderCache(N))}this.renderBufferDirect=function(N,te,he,ee,me,tt){te===null&&(te=xe);const lt=me.isMesh&&me.matrixWorld.determinant()<0,ht=Kh(N,te,he,ee,me);we.setMaterial(ee,lt);let vt=he.index,Et=1;ee.wireframe===!0&&(vt=$e.getWireframeAttribute(he),Et=2);const St=he.drawRange,Mt=he.attributes.position;let tn=St.start*Et,Hn=(St.start+St.count)*Et;tt!==null&&(tn=Math.max(tn,tt.start*Et),Hn=Math.min(Hn,(tt.start+tt.count)*Et)),vt!==null?(tn=Math.max(tn,0),Hn=Math.min(Hn,vt.count)):Mt!=null&&(tn=Math.max(tn,0),Hn=Math.min(Hn,Mt.count));const Ni=Hn-tn;if(Ni<0||Ni===1/0)return;ge.setup(me,ee,ht,he,vt);let yr,Jt=Ee;if(vt!==null&&(yr=Te.get(vt),Jt=rt,Jt.setIndex(yr)),me.isMesh)ee.wireframe===!0?(we.setLineWidth(ee.wireframeLinewidth*Ae()),Jt.setMode(1)):Jt.setMode(4);else if(me.isLine){let pt=ee.linewidth;pt===void 0&&(pt=1),we.setLineWidth(pt*Ae()),me.isLineSegments?Jt.setMode(1):me.isLineLoop?Jt.setMode(2):Jt.setMode(3)}else me.isPoints?Jt.setMode(0):me.isSprite&&Jt.setMode(4);if(me.isInstancedMesh)Jt.renderInstances(tn,Ni,me.count);else if(he.isInstancedBufferGeometry){const pt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Ys=Math.min(he.instanceCount,pt);Jt.renderInstances(tn,Ni,Ys)}else Jt.render(tn,Ni)},this.compile=function(N,te){function he(ee,me,tt){ee.transparent===!0&&ee.side===Ji&&ee.forceSinglePass===!1?(ee.side=ni,ee.needsUpdate=!0,pn(ee,me,tt),ee.side=mr,ee.needsUpdate=!0,pn(ee,me,tt),ee.side=Ji):pn(ee,me,tt)}p=G.get(N),p.init(),v.push(p),N.traverseVisible(function(ee){ee.isLight&&ee.layers.test(te.layers)&&(p.pushLight(ee),ee.castShadow&&p.pushShadow(ee))}),p.setupLights(y.physicallyCorrectLights),N.traverse(function(ee){const me=ee.material;if(me)if(Array.isArray(me))for(let tt=0;tt<me.length;tt++){const lt=me[tt];he(lt,N,ee)}else he(me,N,ee)}),v.pop(),p=null};let oe=null;function ye(N){oe&&oe(N)}function Be(){_t.stop()}function Xe(){_t.start()}const _t=new qS;_t.setAnimationLoop(ye),typeof self<"u"&&_t.setContext(self),this.setAnimationLoop=function(N){oe=N,We.setAnimationLoop(N),N===null?_t.stop():_t.start()},We.addEventListener("sessionstart",Be),We.addEventListener("sessionend",Xe),this.render=function(N,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(te),te=We.getCamera()),N.isScene===!0&&N.onBeforeRender(y,N,te,b),p=G.get(N,v.length),p.init(),v.push(p),de.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),re.setFromProjectionMatrix(de),K=this.localClippingEnabled,z=D.init(this.clippingPlanes,K),h=Ct.get(N,m.length),h.init(),m.push(h),Nt(N,te,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(W,V),z===!0&&D.beginShadows();const he=p.state.shadowsArray;if(se.render(he,N,te),z===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(h,N),p.setupLights(y.physicallyCorrectLights),te.isArrayCamera){const ee=te.cameras;for(let me=0,tt=ee.length;me<tt;me++){const lt=ee[me];zt(h,N,lt,lt.viewport)}}else zt(h,N,te);b!==null&&(le.updateMultisampleRenderTarget(b),le.updateRenderTargetMipmap(b)),N.isScene===!0&&N.onAfterRender(y,N,te),ge.resetDefaultState(),S=-1,C=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Nt(N,te,he,ee){if(N.visible===!1)return;if(N.layers.test(te.layers)){if(N.isGroup)he=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(te);else if(N.isLight)p.pushLight(N),N.castShadow&&p.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||re.intersectsSprite(N)){ee&&ae.setFromMatrixPosition(N.matrixWorld).applyMatrix4(de);const lt=Ke.update(N),ht=N.material;ht.visible&&h.push(N,lt,ht,he,ae.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==Ie.render.frame&&(N.skeleton.update(),N.skeleton.frame=Ie.render.frame),!N.frustumCulled||re.intersectsObject(N))){ee&&ae.setFromMatrixPosition(N.matrixWorld).applyMatrix4(de);const lt=Ke.update(N),ht=N.material;if(Array.isArray(ht)){const vt=lt.groups;for(let Et=0,St=vt.length;Et<St;Et++){const Mt=vt[Et],tn=ht[Mt.materialIndex];tn&&tn.visible&&h.push(N,lt,tn,he,ae.z,Mt)}}else ht.visible&&h.push(N,lt,ht,he,ae.z,null)}}const tt=N.children;for(let lt=0,ht=tt.length;lt<ht;lt++)Nt(tt[lt],te,he,ee)}function zt(N,te,he,ee){const me=N.opaque,tt=N.transmissive,lt=N.transparent;p.setupLightsView(he),z===!0&&D.setGlobalState(y.clippingPlanes,he),tt.length>0&&Rn(me,te,he),ee&&we.viewport(P.copy(ee)),me.length>0&&It(me,te,he),tt.length>0&&It(tt,te,he),lt.length>0&&It(lt,te,he),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Rn(N,te,he){const ee=He.isWebGL2;J===null&&(J=new Ki(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?rl:Qr,minFilter:gr,samples:ee&&s===!0?4:0})),y.getDrawingBufferSize(Y),ee?J.setSize(Y.x,Y.y):J.setSize(Qd(Y.x),Qd(Y.y));const me=y.getRenderTarget();y.setRenderTarget(J),y.clear();const tt=y.toneMapping;y.toneMapping=Yi,It(N,te,he),y.toneMapping=tt,le.updateMultisampleRenderTarget(J),le.updateRenderTargetMipmap(J),y.setRenderTarget(me)}function It(N,te,he){const ee=te.isScene===!0?te.overrideMaterial:null;for(let me=0,tt=N.length;me<tt;me++){const lt=N[me],ht=lt.object,vt=lt.geometry,Et=ee===null?lt.material:ee,St=lt.group;ht.layers.test(he.layers)&&wn(ht,te,he,vt,Et,St)}}function wn(N,te,he,ee,me,tt){N.onBeforeRender(y,te,he,ee,me,tt),N.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),me.onBeforeRender(y,te,he,ee,N,tt),me.transparent===!0&&me.side===Ji&&me.forceSinglePass===!1?(me.side=ni,me.needsUpdate=!0,y.renderBufferDirect(he,te,ee,me,N,tt),me.side=mr,me.needsUpdate=!0,y.renderBufferDirect(he,te,ee,me,N,tt),me.side=Ji):y.renderBufferDirect(he,te,ee,me,N,tt),N.onAfterRender(y,te,he,ee,me,tt)}function pn(N,te,he){te.isScene!==!0&&(te=xe);const ee=fe.get(N),me=p.state.lights,tt=p.state.shadowsArray,lt=me.state.version,ht=Ve.getParameters(N,me.state,tt,te,he),vt=Ve.getProgramCacheKey(ht);let Et=ee.programs;ee.environment=N.isMeshStandardMaterial?te.environment:null,ee.fog=te.fog,ee.envMap=(N.isMeshStandardMaterial?Ge:Se).get(N.envMap||ee.environment),Et===void 0&&(N.addEventListener("dispose",ve),Et=new Map,ee.programs=Et);let St=Et.get(vt);if(St!==void 0){if(ee.currentProgram===St&&ee.lightsStateVersion===lt)return Bu(N,ht),St}else ht.uniforms=Ve.getUniforms(N),N.onBuild(he,ht,y),N.onBeforeCompile(ht,y),St=Ve.acquireProgram(ht,vt),Et.set(vt,St),ee.uniforms=ht.uniforms;const Mt=ee.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Mt.clippingPlanes=D.uniform),Bu(N,ht),ee.needsLights=Ml(N),ee.lightsStateVersion=lt,ee.needsLights&&(Mt.ambientLightColor.value=me.state.ambient,Mt.lightProbe.value=me.state.probe,Mt.directionalLights.value=me.state.directional,Mt.directionalLightShadows.value=me.state.directionalShadow,Mt.spotLights.value=me.state.spot,Mt.spotLightShadows.value=me.state.spotShadow,Mt.rectAreaLights.value=me.state.rectArea,Mt.ltc_1.value=me.state.rectAreaLTC1,Mt.ltc_2.value=me.state.rectAreaLTC2,Mt.pointLights.value=me.state.point,Mt.pointLightShadows.value=me.state.pointShadow,Mt.hemisphereLights.value=me.state.hemi,Mt.directionalShadowMap.value=me.state.directionalShadowMap,Mt.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Mt.spotShadowMap.value=me.state.spotShadowMap,Mt.spotLightMatrix.value=me.state.spotLightMatrix,Mt.spotLightMap.value=me.state.spotLightMap,Mt.pointShadowMap.value=me.state.pointShadowMap,Mt.pointShadowMatrix.value=me.state.pointShadowMatrix);const tn=St.getUniforms(),Hn=Fd.seqWithValue(tn.seq,Mt);return ee.currentProgram=St,ee.uniformsList=Hn,St}function Bu(N,te){const he=fe.get(N);he.outputEncoding=te.outputEncoding,he.instancing=te.instancing,he.skinning=te.skinning,he.morphTargets=te.morphTargets,he.morphNormals=te.morphNormals,he.morphColors=te.morphColors,he.morphTargetsCount=te.morphTargetsCount,he.numClippingPlanes=te.numClippingPlanes,he.numIntersection=te.numClipIntersection,he.vertexAlphas=te.vertexAlphas,he.vertexTangents=te.vertexTangents,he.toneMapping=te.toneMapping}function Kh(N,te,he,ee,me){te.isScene!==!0&&(te=xe),le.resetTextureUnits();const tt=te.fog,lt=ee.isMeshStandardMaterial?te.environment:null,ht=b===null?y.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Ls,vt=(ee.isMeshStandardMaterial?Ge:Se).get(ee.envMap||lt),Et=ee.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,St=!!ee.normalMap&&!!he.attributes.tangent,Mt=!!he.morphAttributes.position,tn=!!he.morphAttributes.normal,Hn=!!he.morphAttributes.color,Ni=ee.toneMapped?y.toneMapping:Yi,yr=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,Jt=yr!==void 0?yr.length:0,pt=fe.get(ee),Ys=p.state.lights;if(z===!0&&(K===!0||N!==C)){const kt=N===C&&ee.id===S;D.setState(ee,N,kt)}let nn=!1;ee.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==Ys.state.version||pt.outputEncoding!==ht||me.isInstancedMesh&&pt.instancing===!1||!me.isInstancedMesh&&pt.instancing===!0||me.isSkinnedMesh&&pt.skinning===!1||!me.isSkinnedMesh&&pt.skinning===!0||pt.envMap!==vt||ee.fog===!0&&pt.fog!==tt||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==D.numPlanes||pt.numIntersection!==D.numIntersection)||pt.vertexAlphas!==Et||pt.vertexTangents!==St||pt.morphTargets!==Mt||pt.morphNormals!==tn||pt.morphColors!==Hn||pt.toneMapping!==Ni||He.isWebGL2===!0&&pt.morphTargetsCount!==Jt)&&(nn=!0):(nn=!0,pt.__version=ee.version);let xr=pt.currentProgram;nn===!0&&(xr=pn(ee,te,me));let sa=!1,vi=!1,yi=!1;const ft=xr.getUniforms(),Tt=pt.uniforms;if(we.useProgram(xr.program)&&(sa=!0,vi=!0,yi=!0),ee.id!==S&&(S=ee.id,vi=!0),sa||C!==N){if(ft.setValue(ne,"projectionMatrix",N.projectionMatrix),He.logarithmicDepthBuffer&&ft.setValue(ne,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),C!==N&&(C=N,vi=!0,yi=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const kt=ft.map.cameraPosition;kt!==void 0&&kt.setValue(ne,ae.setFromMatrixPosition(N.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&ft.setValue(ne,"isOrthographic",N.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||me.isSkinnedMesh)&&ft.setValue(ne,"viewMatrix",N.matrixWorldInverse)}if(me.isSkinnedMesh){ft.setOptional(ne,me,"bindMatrix"),ft.setOptional(ne,me,"bindMatrixInverse");const kt=me.skeleton;kt&&(He.floatVertexTextures?(kt.boneTexture===null&&kt.computeBoneTexture(),ft.setValue(ne,"boneTexture",kt.boneTexture,le),ft.setValue(ne,"boneTextureSize",kt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const xi=he.morphAttributes;if((xi.position!==void 0||xi.normal!==void 0||xi.color!==void 0&&He.isWebGL2===!0)&&Me.update(me,he,ee,xr),(vi||pt.receiveShadow!==me.receiveShadow)&&(pt.receiveShadow=me.receiveShadow,ft.setValue(ne,"receiveShadow",me.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(Tt.envMap.value=vt,Tt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),vi&&(ft.setValue(ne,"toneMappingExposure",y.toneMappingExposure),pt.needsLights&&Iu(Tt,yi),tt&&ee.fog===!0&&bt.refreshFogUniforms(Tt,tt),bt.refreshMaterialUniforms(Tt,ee,O,I,J),Fd.upload(ne,pt.uniformsList,Tt,le)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(Fd.upload(ne,pt.uniformsList,Tt,le),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&ft.setValue(ne,"center",me.center),ft.setValue(ne,"modelViewMatrix",me.modelViewMatrix),ft.setValue(ne,"normalMatrix",me.normalMatrix),ft.setValue(ne,"modelMatrix",me.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const kt=ee.uniformsGroups;for(let bn=0,Ar=kt.length;bn<Ar;bn++)if(He.isWebGL2){const wr=kt[bn];qe.update(wr,xr),qe.bind(wr,xr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return xr}function Iu(N,te){N.ambientLightColor.needsUpdate=te,N.lightProbe.needsUpdate=te,N.directionalLights.needsUpdate=te,N.directionalLightShadows.needsUpdate=te,N.pointLights.needsUpdate=te,N.pointLightShadows.needsUpdate=te,N.spotLights.needsUpdate=te,N.spotLightShadows.needsUpdate=te,N.rectAreaLights.needsUpdate=te,N.hemisphereLights.needsUpdate=te}function Ml(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(N,te,he){fe.get(N.texture).__webglTexture=te,fe.get(N.depthTexture).__webglTexture=he;const ee=fe.get(N);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=he===void 0,ee.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,te){const he=fe.get(N);he.__webglFramebuffer=te,he.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(N,te=0,he=0){b=N,w=te,_=he;let ee=!0,me=null,tt=!1,lt=!1;if(N){const vt=fe.get(N);vt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),ee=!1):vt.__webglFramebuffer===void 0?le.setupRenderTarget(N):vt.__hasExternalTextures&&le.rebindTextures(N,fe.get(N.texture).__webglTexture,fe.get(N.depthTexture).__webglTexture);const Et=N.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(lt=!0);const St=fe.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(me=St[te],tt=!0):He.isWebGL2&&N.samples>0&&le.useMultisampledRTT(N)===!1?me=fe.get(N).__webglMultisampledFramebuffer:me=St,P.copy(N.viewport),R.copy(N.scissor),E=N.scissorTest}else P.copy(H).multiplyScalar(O).floor(),R.copy(q).multiplyScalar(O).floor(),E=Z;if(we.bindFramebuffer(36160,me)&&He.drawBuffers&&ee&&we.drawBuffers(N,me),we.viewport(P),we.scissor(R),we.setScissorTest(E),tt){const vt=fe.get(N.texture);ne.framebufferTexture2D(36160,36064,34069+te,vt.__webglTexture,he)}else if(lt){const vt=fe.get(N.texture),Et=te||0;ne.framebufferTextureLayer(36160,36064,vt.__webglTexture,he||0,Et)}S=-1},this.readRenderTargetPixels=function(N,te,he,ee,me,tt,lt){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=fe.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht){we.bindFramebuffer(36160,ht);try{const vt=N.texture,Et=vt.format,St=vt.type;if(Et!==ti&&Le.convert(Et)!==ne.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Mt=St===rl&&(Oe.has("EXT_color_buffer_half_float")||He.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(St!==Qr&&Le.convert(St)!==ne.getParameter(35738)&&!(St===zr&&(He.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float")))&&!Mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=N.width-ee&&he>=0&&he<=N.height-me&&ne.readPixels(te,he,ee,me,Le.convert(Et),Le.convert(St),tt)}finally{const vt=b!==null?fe.get(b).__webglFramebuffer:null;we.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(N,te,he=0){const ee=Math.pow(2,-he),me=Math.floor(te.image.width*ee),tt=Math.floor(te.image.height*ee);le.setTexture2D(te,0),ne.copyTexSubImage2D(3553,he,0,0,N.x,N.y,me,tt),we.unbindTexture()},this.copyTextureToTexture=function(N,te,he,ee=0){const me=te.image.width,tt=te.image.height,lt=Le.convert(he.format),ht=Le.convert(he.type);le.setTexture2D(he,0),ne.pixelStorei(37440,he.flipY),ne.pixelStorei(37441,he.premultiplyAlpha),ne.pixelStorei(3317,he.unpackAlignment),te.isDataTexture?ne.texSubImage2D(3553,ee,N.x,N.y,me,tt,lt,ht,te.image.data):te.isCompressedTexture?ne.compressedTexSubImage2D(3553,ee,N.x,N.y,te.mipmaps[0].width,te.mipmaps[0].height,lt,te.mipmaps[0].data):ne.texSubImage2D(3553,ee,N.x,N.y,lt,ht,te.image),ee===0&&he.generateMipmaps&&ne.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(N,te,he,ee,me=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=N.max.x-N.min.x+1,lt=N.max.y-N.min.y+1,ht=N.max.z-N.min.z+1,vt=Le.convert(ee.format),Et=Le.convert(ee.type);let St;if(ee.isData3DTexture)le.setTexture3D(ee,0),St=32879;else if(ee.isDataArrayTexture)le.setTexture2DArray(ee,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(37440,ee.flipY),ne.pixelStorei(37441,ee.premultiplyAlpha),ne.pixelStorei(3317,ee.unpackAlignment);const Mt=ne.getParameter(3314),tn=ne.getParameter(32878),Hn=ne.getParameter(3316),Ni=ne.getParameter(3315),yr=ne.getParameter(32877),Jt=he.isCompressedTexture?he.mipmaps[0]:he.image;ne.pixelStorei(3314,Jt.width),ne.pixelStorei(32878,Jt.height),ne.pixelStorei(3316,N.min.x),ne.pixelStorei(3315,N.min.y),ne.pixelStorei(32877,N.min.z),he.isDataTexture||he.isData3DTexture?ne.texSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,Et,Jt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,Jt.data)):ne.texSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,Et,Jt),ne.pixelStorei(3314,Mt),ne.pixelStorei(32878,tn),ne.pixelStorei(3316,Hn),ne.pixelStorei(3315,Ni),ne.pixelStorei(32877,yr),me===0&&ee.generateMipmaps&&ne.generateMipmap(St),we.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?le.setTextureCube(N,0):N.isData3DTexture?le.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?le.setTexture2DArray(N,0):le.setTexture2D(N,0),we.unbindTexture()},this.resetState=function(){w=0,_=0,b=null,we.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class sM extends Pv{}sM.prototype.isWebGL1Renderer=!0;class Sh{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new Sh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Mh{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=n}clone(){return new Mh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Bv extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class nu{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Fc,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=hi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const jn=new F;class Ds{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)jn.fromBufferAttribute(this,t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)jn.fromBufferAttribute(this,t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}setX(e,t){return this.normalized&&(t=Ht(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ht(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ht(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ht(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ur(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ur(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ur(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ur(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array),r=Ht(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ht(t,this.array),n=Ht(n,this.array),r=Ht(r,this.array),s=Ht(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ot(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ds(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Iv extends vn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ra;const Zl=new F,La=new F,Da=new F,Fa=new pe,$l=new pe,oM=new at,jf=new F,ec=new F,Jf=new F,y1=new pe,Cm=new pe,x1=new pe;class aM extends Bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ra===void 0){Ra=new dt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new nu(t,5);Ra.setIndex([0,1,2,0,2,3]),Ra.setAttribute("position",new Ds(n,3,0,!1)),Ra.setAttribute("uv",new Ds(n,2,3,!1))}this.geometry=Ra,this.material=e!==void 0?e:new Iv,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),La.setFromMatrixScale(this.matrixWorld),oM.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Da.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&La.multiplyScalar(-Da.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;Xf(jf.set(-.5,-.5,0),Da,o,La,r,s),Xf(ec.set(.5,-.5,0),Da,o,La,r,s),Xf(Jf.set(.5,.5,0),Da,o,La,r,s),y1.set(0,0),Cm.set(1,0),x1.set(1,1);let a=e.ray.intersectTriangle(jf,ec,Jf,!1,Zl);if(a===null&&(Xf(ec.set(-.5,.5,0),Da,o,La,r,s),Cm.set(0,1),a=e.ray.intersectTriangle(jf,Jf,ec,!1,Zl),a===null))return;const l=e.ray.origin.distanceTo(Zl);l<e.near||l>e.far||t.push({distance:l,point:Zl.clone(),uv:Di.getUV(Zl,jf,ec,Jf,y1,Cm,x1,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Xf(i,e,t,n,r,s){Fa.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?($l.x=s*Fa.x-r*Fa.y,$l.y=r*Fa.x+s*Fa.y):$l.copy(Fa),i.copy(e),i.x+=$l.x,i.y+=$l.y,i.applyMatrix4(oM)}const Yf=new F,A1=new F;class lM extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Yf.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Yf);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Yf.setFromMatrixPosition(e.matrixWorld),A1.setFromMatrixPosition(this.matrixWorld);const n=Yf.distanceTo(A1)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const w1=new F,b1=new Gt,_1=new Gt,uD=new F,S1=new at;class Rv extends En{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gt,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;b1.fromBufferAttribute(r.attributes.skinIndex,e),_1.fromBufferAttribute(r.attributes.skinWeight,e),w1.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=_1.getComponent(s);if(o!==0){const a=b1.getComponent(s);S1.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(uD.copy(w1).applyMatrix4(S1),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Ch extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Za extends en{constructor(e=null,t=1,n=1,r,s,o,a,l,c=on,f=on,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const M1=new at,fD=new at;class iu{constructor(e=[],t=[]){this.uuid=hi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new at;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:fD;M1.multiplyMatrices(a,t[s]),M1.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new iu(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=jS(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Za(t,e,e,ti,zr);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Ch),this.bones.push(o),this.boneInverses.push(new at().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Vo extends Ot{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const C1=new at,E1=new at,Qf=[],dD=new at,tc=new En;class Lv extends En{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Vo(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let r=0;r<n;r++)this.setMatrixAt(r,dD)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(tc.geometry=this.geometry,tc.material=this.material,tc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,C1),E1.multiplyMatrices(n,C1),tc.matrixWorld=E1,tc.raycast(e,Qf);for(let o=0,a=Qf.length;o<a;o++){const l=Qf[o];l.instanceId=s,l.object=this,t.push(l)}Qf.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Vo(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Un extends vn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const T1=new F,P1=new F,B1=new at,Em=new gl,Kf=new Vs;class Kr extends Bt{constructor(e=new dt,t=new Un){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)T1.fromBufferAttribute(t,r-1),P1.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=T1.distanceTo(P1);e.setAttribute("lineDistance",new je(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Kf.copy(n.boundingSphere),Kf.applyMatrix4(r),Kf.radius+=s,e.ray.intersectsSphere(Kf)===!1)return;B1.copy(r).invert(),Em.copy(e.ray).applyMatrix4(B1);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new F,f=new F,h=new F,p=new F,m=this.isLineSegments?2:1,v=n.index,x=n.attributes.position;if(v!==null){const w=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let b=w,S=_-1;b<S;b+=m){const C=v.getX(b),P=v.getX(b+1);if(c.fromBufferAttribute(x,C),f.fromBufferAttribute(x,P),Em.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let b=w,S=_-1;b<S;b+=m){if(c.fromBufferAttribute(x,b),f.fromBufferAttribute(x,b+1),Em.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const I1=new F,R1=new F;class qi extends Kr{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)I1.fromBufferAttribute(t,r),R1.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+I1.distanceTo(R1);e.setAttribute("lineDistance",new je(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Dv extends Kr{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ru extends vn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const L1=new at,r0=new gl,qf=new Vs,Zf=new F;let Fv=class extends Bt{constructor(e=new dt,t=new ru){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),qf.copy(n.boundingSphere),qf.applyMatrix4(r),qf.radius+=s,e.ray.intersectsSphere(qf)===!1)return;L1.copy(r).invert(),r0.copy(e.ray).applyMatrix4(L1);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,h=n.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const x=c.getX(v);Zf.fromBufferAttribute(h,x),D1(Zf,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,y=m;v<y;v++)Zf.fromBufferAttribute(h,v),D1(Zf,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function D1(i,e,t,n,r,s,o){const a=r0.distanceSqToPoint(i);if(a<t){const l=new F;r0.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class hD extends en{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:qt,this.magFilter=s!==void 0?s:qt,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class pD extends en{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=on,this.minFilter=on,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ov extends en{constructor(e,t,n,r,s,o,a,l,c,f,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class mD extends Ov{constructor(e,t,n,r,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=In}}class gD extends en{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Zi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(s-1);const f=n[r],p=n[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new F,r=[],s=[],o=[],a=new F,l=new at;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new F)}s[0]=new F,o[0]=new F;let c=Number.MAX_VALUE;const f=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),p<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(cn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(cn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Eh extends Zi{constructor(e=0,t=0,n=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const n=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*f-m*h+this.aX,c=p*h+m*f+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class cM extends Eh{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Nv(){let i=0,e=0,t=0,n=0;function r(s,o,a,l){i=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return i+e*s+t*o+n*a}}}const $f=new F,Tm=new Nv,Pm=new Nv,Bm=new Nv;class uM extends Zi{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new F){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=r[(a-1)%s]:($f.subVectors(r[0],r[1]).add(r[0]),c=$f);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:($f.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=$f),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),Tm.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,v,y,x),Pm.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,v,y,x),Bm.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,v,y,x)}else this.curveType==="catmullrom"&&(Tm.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),Pm.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),Bm.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return n.set(Tm.calc(l),Pm.calc(l),Bm.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function F1(i,e,t,n,r){const s=(n-e)*.5,o=(r-t)*.5,a=i*i,l=i*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*i+t}function vD(i,e){const t=1-i;return t*t*e}function yD(i,e){return 2*(1-i)*i*e}function xD(i,e){return i*i*e}function vc(i,e,t,n){return vD(i,e)+yD(i,t)+xD(i,n)}function AD(i,e){const t=1-i;return t*t*t*e}function wD(i,e){const t=1-i;return 3*t*t*i*e}function bD(i,e){return 3*(1-i)*i*i*e}function _D(i,e){return i*i*i*e}function yc(i,e,t,n,r){return AD(i,e)+wD(i,t)+bD(i,n)+_D(i,r)}class kv extends Zi{constructor(e=new pe,t=new pe,n=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new pe){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(yc(e,r.x,s.x,o.x,a.x),yc(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fM extends Zi{constructor(e=new F,t=new F,n=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new F){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(yc(e,r.x,s.x,o.x,a.x),yc(e,r.y,s.y,o.y,a.y),yc(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Th extends Zi{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new pe;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dM extends Zi{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Gv extends Zi{constructor(e=new pe,t=new pe,n=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new pe){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(vc(e,r.x,s.x,o.x),vc(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zv extends Zi{constructor(e=new F,t=new F,n=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new F){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(vc(e,r.x,s.x,o.x),vc(e,r.y,s.y,o.y),vc(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uv extends Zi{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],f=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return n.set(F1(a,l.x,c.x,f.x,h.x),F1(a,l.y,c.y,f.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var Hv=Object.freeze({__proto__:null,ArcCurve:cM,CatmullRomCurve3:uM,CubicBezierCurve:kv,CubicBezierCurve3:fM,EllipseCurve:Eh,LineCurve:Th,LineCurve3:dM,QuadraticBezierCurve:Gv,QuadraticBezierCurve3:zv,SplineCurve:Uv});class hM extends Zi{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Th(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];n&&n.equals(f)||(t.push(f),n=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Hv[r.type]().fromJSON(r))}return this}}class kc extends hM{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Th(this.currentPoint.clone(),new pe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new Gv(this.currentPoint.clone(),new pe(e,t),new pe(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new kv(this.currentPoint.clone(),new pe(e,t),new pe(n,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Uv(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,n,r,s,o,a,l),this}absellipse(e,t,n,r,s,o,a,l){const c=new Eh(e,t,n,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xl extends dt{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=cn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/t,h=new F,p=new pe,m=new F,v=new F,y=new F;let x=0,w=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let _=0;_<=t;_++){const b=n+_*f*r,S=Math.sin(b),C=Math.cos(b);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*S,h.y=e[P].y,h.z=e[P].x*C,o.push(h.x,h.y,h.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*S,E=l[3*P+1],B=l[3*P+0]*C;c.push(R,E,B)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,C=S,P=S+e.length,R=S+e.length+1,E=S+1;s.push(C,P,E),s.push(R,E,P)}this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("uv",new je(a,2)),this.setAttribute("normal",new je(c,3))}static fromJSON(e){return new xl(e.points,e.segments,e.phiStart,e.phiLength)}}class su extends xl{constructor(e=1,t=1,n=4,r=8){const s=new kc;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new su(e.radius,e.length,e.capSegments,e.radialSegments)}}class ou extends dt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new F,f=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=n+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("normal",new je(a,3)),this.setAttribute("uv",new je(l,2))}static fromJSON(e){return new ou(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qo extends dt{constructor(e=1,t=1,n=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const f=[],h=[],p=[],m=[];let v=0;const y=[],x=n/2;let w=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(f),this.setAttribute("position",new je(h,3)),this.setAttribute("normal",new je(p,3)),this.setAttribute("uv",new je(m,2));function _(){const S=new F,C=new F;let P=0;const R=(t-e)/n;for(let E=0;E<=s;E++){const B=[],I=E/s,O=I*(t-e)+e;for(let W=0;W<=r;W++){const V=W/r,H=V*l+a,q=Math.sin(H),Z=Math.cos(H);C.x=O*q,C.y=-I*n+x,C.z=O*Z,h.push(C.x,C.y,C.z),S.set(q,R,Z).normalize(),p.push(S.x,S.y,S.z),m.push(V,1-I),B.push(v++)}y.push(B)}for(let E=0;E<r;E++)for(let B=0;B<s;B++){const I=y[B][E],O=y[B+1][E],W=y[B+1][E+1],V=y[B][E+1];f.push(I,O,V),f.push(O,W,V),P+=6}c.addGroup(w,P,0),w+=P}function b(S){const C=v,P=new pe,R=new F;let E=0;const B=S===!0?e:t,I=S===!0?1:-1;for(let W=1;W<=r;W++)h.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),v++;const O=v;for(let W=0;W<=r;W++){const H=W/r*l+a,q=Math.cos(H),Z=Math.sin(H);R.x=B*Z,R.y=x*I,R.z=B*q,h.push(R.x,R.y,R.z),p.push(0,I,0),P.x=q*.5+.5,P.y=Z*.5*I+.5,m.push(P.x,P.y),v++}for(let W=0;W<r;W++){const V=C+W,H=O+W;S===!0?f.push(H,H+1,V):f.push(H+1,H,V),E+=3}c.addGroup(w,E,S===!0?1:2),w+=E}}static fromJSON(e){return new qo(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class au extends qo{constructor(e=1,t=1,n=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,n,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new au(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ns extends dt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];a(r),c(n),f(),this.setAttribute("position",new je(s,3)),this.setAttribute("normal",new je(s.slice(),3)),this.setAttribute("uv",new je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new F,S=new F,C=new F;for(let P=0;P<t.length;P+=3)m(t[P+0],b),m(t[P+1],S),m(t[P+2],C),l(b,S,C,_)}function l(_,b,S,C){const P=C+1,R=[];for(let E=0;E<=P;E++){R[E]=[];const B=_.clone().lerp(S,E/P),I=b.clone().lerp(S,E/P),O=P-E;for(let W=0;W<=O;W++)W===0&&E===P?R[E][W]=B:R[E][W]=B.clone().lerp(I,W/O)}for(let E=0;E<P;E++)for(let B=0;B<2*(P-E)-1;B++){const I=Math.floor(B/2);B%2===0?(p(R[E][I+1]),p(R[E+1][I]),p(R[E][I])):(p(R[E][I+1]),p(R[E+1][I+1]),p(R[E+1][I]))}}function c(_){const b=new F;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(_),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function f(){const _=new F;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const S=x(_)/2/Math.PI+.5,C=w(_)/Math.PI+.5;o.push(S,1-C)}v(),h()}function h(){for(let _=0;_<o.length;_+=6){const b=o[_+0],S=o[_+2],C=o[_+4],P=Math.max(b,S,C),R=Math.min(b,S,C);P>.9&&R<.1&&(b<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function v(){const _=new F,b=new F,S=new F,C=new F,P=new pe,R=new pe,E=new pe;for(let B=0,I=0;B<s.length;B+=9,I+=6){_.set(s[B+0],s[B+1],s[B+2]),b.set(s[B+3],s[B+4],s[B+5]),S.set(s[B+6],s[B+7],s[B+8]),P.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),E.set(o[I+4],o[I+5]),C.copy(_).add(b).add(S).divideScalar(3);const O=x(C);y(P,I+0,_,O),y(R,I+2,b,O),y(E,I+4,S,O)}}function y(_,b,S,C){C<0&&_.x===1&&(o[b]=_.x-1),S.x===0&&S.z===0&&(o[b]=C/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new ns(e.vertices,e.indices,e.radius,e.details)}}class lu extends ns{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lu(e.radius,e.detail)}}const ed=new F,td=new F,Im=new F,nd=new Di;class pM extends dt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(No*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:x,c:w}=nd;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),w.fromBufferAttribute(a,c[2]),nd.getNormal(Im),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=h[_],C=h[b],P=nd[f[_]],R=nd[f[b]],E=`${S}_${C}`,B=`${C}_${S}`;B in p&&p[B]?(Im.dot(p[B].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[B]=null):E in p||(p[E]={index0:c[_],index1:c[b],normal:Im.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];ed.fromBufferAttribute(a,y),td.fromBufferAttribute(a,x),m.push(ed.x,ed.y,ed.z),m.push(td.x,td.y,td.z)}this.setAttribute("position",new je(m,3))}}}class zo extends kc{constructor(e){super(e),this.uuid=hi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new kc().fromJSON(r))}return this}}const SD={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=mM(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,f,h,p,m;if(n&&(s=PD(i,e,s,t)),i.length>80*t){a=c=i[0],l=f=i[1];for(let v=t;v<r;v+=t)h=i[v],p=i[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p);m=Math.max(c-a,f-l),m=m!==0?32767/m:0}return Gc(s,o,t,a,l,m,0),o}};function mM(i,e,t,n,r){let s,o;if(r===zD(i,e,t,n)>0)for(s=e;s<t;s+=n)o=O1(s,i[s],i[s+1],o);else for(s=t-n;s>=e;s-=n)o=O1(s,i[s],i[s+1],o);return o&&Ph(o,o.next)&&(Uc(o),o=o.next),o}function Wo(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(Ph(t,t.next)||Zt(t.prev,t,t.next)===0)){if(Uc(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Gc(i,e,t,n,r,s,o){if(!i)return;!o&&s&&DD(i,n,r,s);let a=i,l,c;for(;i.prev!==i.next;){if(l=i.prev,c=i.next,s?CD(i,n,r,s):MD(i)){e.push(l.i/t|0),e.push(i.i/t|0),e.push(c.i/t|0),Uc(i),i=c.next,a=c.next;continue}if(i=c,i===a){o?o===1?(i=ED(Wo(i),e,t),Gc(i,e,t,n,r,s,2)):o===2&&TD(i,e,t,n,r,s):Gc(Wo(i),e,t,n,r,s,1);break}}}function MD(i){const e=i.prev,t=i,n=i.next;if(Zt(e,t,n)>=0)return!1;const r=e.x,s=t.x,o=n.x,a=e.y,l=t.y,c=n.y,f=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=n.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=h&&v.y<=m&&Va(r,a,s,l,o,c,v.x,v.y)&&Zt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function CD(i,e,t,n){const r=i.prev,s=i,o=i.next;if(Zt(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,f=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=f<h?f<p?f:p:h<p?h:p,y=a>l?a>c?a:c:l>c?l:c,x=f>h?f>p?f:p:h>p?h:p,w=s0(m,v,e,t,n),_=s0(y,x,e,t,n);let b=i.prevZ,S=i.nextZ;for(;b&&b.z>=w&&S&&S.z<=_;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Va(a,f,l,h,c,p,b.x,b.y)&&Zt(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Va(a,f,l,h,c,p,S.x,S.y)&&Zt(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=w;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Va(a,f,l,h,c,p,b.x,b.y)&&Zt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Va(a,f,l,h,c,p,S.x,S.y)&&Zt(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function ED(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!Ph(r,s)&&gM(r,n,n.next,s)&&zc(r,s)&&zc(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Uc(n),Uc(n.next),n=i=s),n=n.next}while(n!==i);return Wo(n)}function TD(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ND(o,a)){let l=vM(o,a);o=Wo(o,o.next),l=Wo(l,l.next),Gc(o,e,t,n,r,s,0),Gc(l,e,t,n,r,s,0);return}a=a.next}o=o.next}while(o!==i)}function PD(i,e,t,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:i.length,c=mM(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(OD(c));for(r.sort(BD),s=0;s<r.length;s++)t=ID(r[s],t);return t}function BD(i,e){return i.x-e.x}function ID(i,e){const t=RD(i,e);if(!t)return e;const n=vM(t,i);return Wo(n,n.next),Wo(t,t.next)}function RD(i,e){let t=e,n=-1/0,r;const s=i.x,o=i.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>n&&(n=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let f=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Va(o<c?s:n,o,l,c,o<c?n:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),zc(t,i)&&(h<f||h===f&&(t.x>r.x||t.x===r.x&&LD(r,t)))&&(r=t,f=h)),t=t.next;while(t!==a);return r}function LD(i,e){return Zt(i.prev,i,e.prev)<0&&Zt(e.next,i,i.next)<0}function DD(i,e,t,n){let r=i;do r.z===0&&(r.z=s0(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,FD(r)}function FD(i){let e,t,n,r,s,o,a,l,c=1;do{for(t=i,i=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,c*=2}while(o>1);return i}function s0(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function OD(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function Va(i,e,t,n,r,s,o,a){return(r-o)*(e-a)>=(i-o)*(s-a)&&(i-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(n-a)}function ND(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!kD(i,e)&&(zc(i,e)&&zc(e,i)&&GD(i,e)&&(Zt(i.prev,i,e.prev)||Zt(i,e.prev,e))||Ph(i,e)&&Zt(i.prev,i,i.next)>0&&Zt(e.prev,e,e.next)>0)}function Zt(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Ph(i,e){return i.x===e.x&&i.y===e.y}function gM(i,e,t,n){const r=rd(Zt(i,e,t)),s=rd(Zt(i,e,n)),o=rd(Zt(t,n,i)),a=rd(Zt(t,n,e));return!!(r!==s&&o!==a||r===0&&id(i,t,e)||s===0&&id(i,n,e)||o===0&&id(t,i,n)||a===0&&id(t,e,n))}function id(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function rd(i){return i>0?1:i<0?-1:0}function kD(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&gM(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function zc(i,e){return Zt(i.prev,i,i.next)<0?Zt(i,e,i.next)>=0&&Zt(i,i.prev,e)>=0:Zt(i,e,i.prev)<0||Zt(i,i.next,e)<0}function GD(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function vM(i,e){const t=new o0(i.i,i.x,i.y),n=new o0(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function O1(i,e,t,n){const r=new o0(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Uc(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function o0(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function zD(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}class dr{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return dr.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];N1(e),k1(n,e);let o=e.length;t.forEach(N1);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,k1(n,t[l]);const a=SD.triangulate(n,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function N1(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function k1(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class cu extends dt{constructor(e=new zo([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new je(r,3)),this.setAttribute("uv",new je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:UD;let b,S=!1,C,P,R,E;w&&(b=w.getSpacedPoints(f),S=!0,p=!1,C=w.computeFrenetFrames(f,!1),P=new F,R=new F,E=new F),p||(x=0,m=0,v=0,y=0);const B=a.extractPoints(c);let I=B.shape;const O=B.holes;if(!dr.isClockWise(I)){I=I.reverse();for(let fe=0,le=O.length;fe<le;fe++){const Se=O[fe];dr.isClockWise(Se)&&(O[fe]=Se.reverse())}}const V=dr.triangulateShape(I,O),H=I;for(let fe=0,le=O.length;fe<le;fe++){const Se=O[fe];I=I.concat(Se)}function q(fe,le,Se){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Se).add(fe)}const Z=I.length,re=V.length;function z(fe,le,Se){let Ge,Te,$e;const Ke=fe.x-le.x,Ve=fe.y-le.y,bt=Se.x-fe.x,Ct=Se.y-fe.y,G=Ke*Ke+Ve*Ve,D=Ke*Ct-Ve*bt;if(Math.abs(D)>Number.EPSILON){const se=Math.sqrt(G),be=Math.sqrt(bt*bt+Ct*Ct),Me=le.x-Ve/se,Ee=le.y+Ke/se,rt=Se.x-Ct/be,Le=Se.y+bt/be,ge=((rt-Me)*Ct-(Le-Ee)*bt)/(Ke*Ct-Ve*bt);Ge=Me+Ke*ge-fe.x,Te=Ee+Ve*ge-fe.y;const qe=Ge*Ge+Te*Te;if(qe<=2)return new pe(Ge,Te);$e=Math.sqrt(qe/2)}else{let se=!1;Ke>Number.EPSILON?bt>Number.EPSILON&&(se=!0):Ke<-Number.EPSILON?bt<-Number.EPSILON&&(se=!0):Math.sign(Ve)===Math.sign(Ct)&&(se=!0),se?(Ge=-Ve,Te=Ke,$e=Math.sqrt(G)):(Ge=Ke,Te=Ve,$e=Math.sqrt(G/2))}return new pe(Ge/$e,Te/$e)}const K=[];for(let fe=0,le=H.length,Se=le-1,Ge=fe+1;fe<le;fe++,Se++,Ge++)Se===le&&(Se=0),Ge===le&&(Ge=0),K[fe]=z(H[fe],H[Se],H[Ge]);const J=[];let de,Y=K.concat();for(let fe=0,le=O.length;fe<le;fe++){const Se=O[fe];de=[];for(let Ge=0,Te=Se.length,$e=Te-1,Ke=Ge+1;Ge<Te;Ge++,$e++,Ke++)$e===Te&&($e=0),Ke===Te&&(Ke=0),de[Ge]=z(Se[Ge],Se[$e],Se[Ke]);J.push(de),Y=Y.concat(de)}for(let fe=0;fe<x;fe++){const le=fe/x,Se=m*Math.cos(le*Math.PI/2),Ge=v*Math.sin(le*Math.PI/2)+y;for(let Te=0,$e=H.length;Te<$e;Te++){const Ke=q(H[Te],K[Te],Ge);Ue(Ke.x,Ke.y,-Se)}for(let Te=0,$e=O.length;Te<$e;Te++){const Ke=O[Te];de=J[Te];for(let Ve=0,bt=Ke.length;Ve<bt;Ve++){const Ct=q(Ke[Ve],de[Ve],Ge);Ue(Ct.x,Ct.y,-Se)}}}const ae=v+y;for(let fe=0;fe<Z;fe++){const le=p?q(I[fe],Y[fe],ae):I[fe];S?(R.copy(C.normals[0]).multiplyScalar(le.x),P.copy(C.binormals[0]).multiplyScalar(le.y),E.copy(b[0]).add(R).add(P),Ue(E.x,E.y,E.z)):Ue(le.x,le.y,0)}for(let fe=1;fe<=f;fe++)for(let le=0;le<Z;le++){const Se=p?q(I[le],Y[le],ae):I[le];S?(R.copy(C.normals[fe]).multiplyScalar(Se.x),P.copy(C.binormals[fe]).multiplyScalar(Se.y),E.copy(b[fe]).add(R).add(P),Ue(E.x,E.y,E.z)):Ue(Se.x,Se.y,h/f*fe)}for(let fe=x-1;fe>=0;fe--){const le=fe/x,Se=m*Math.cos(le*Math.PI/2),Ge=v*Math.sin(le*Math.PI/2)+y;for(let Te=0,$e=H.length;Te<$e;Te++){const Ke=q(H[Te],K[Te],Ge);Ue(Ke.x,Ke.y,h+Se)}for(let Te=0,$e=O.length;Te<$e;Te++){const Ke=O[Te];de=J[Te];for(let Ve=0,bt=Ke.length;Ve<bt;Ve++){const Ct=q(Ke[Ve],de[Ve],Ge);S?Ue(Ct.x,Ct.y+b[f-1].y,b[f-1].x+Se):Ue(Ct.x,Ct.y,h+Se)}}}xe(),Ae();function xe(){const fe=r.length/3;if(p){let le=0,Se=Z*le;for(let Ge=0;Ge<re;Ge++){const Te=V[Ge];Oe(Te[2]+Se,Te[1]+Se,Te[0]+Se)}le=f+x*2,Se=Z*le;for(let Ge=0;Ge<re;Ge++){const Te=V[Ge];Oe(Te[0]+Se,Te[1]+Se,Te[2]+Se)}}else{for(let le=0;le<re;le++){const Se=V[le];Oe(Se[2],Se[1],Se[0])}for(let le=0;le<re;le++){const Se=V[le];Oe(Se[0]+Z*f,Se[1]+Z*f,Se[2]+Z*f)}}n.addGroup(fe,r.length/3-fe,0)}function Ae(){const fe=r.length/3;let le=0;ne(H,le),le+=H.length;for(let Se=0,Ge=O.length;Se<Ge;Se++){const Te=O[Se];ne(Te,le),le+=Te.length}n.addGroup(fe,r.length/3-fe,1)}function ne(fe,le){let Se=fe.length;for(;--Se>=0;){const Ge=Se;let Te=Se-1;Te<0&&(Te=fe.length-1);for(let $e=0,Ke=f+x*2;$e<Ke;$e++){const Ve=Z*$e,bt=Z*($e+1),Ct=le+Ge+Ve,G=le+Te+Ve,D=le+Te+bt,se=le+Ge+bt;He(Ct,G,D,se)}}}function Ue(fe,le,Se){l.push(fe),l.push(le),l.push(Se)}function Oe(fe,le,Se){we(fe),we(le),we(Se);const Ge=r.length/3,Te=_.generateTopUV(n,r,Ge-3,Ge-2,Ge-1);Ie(Te[0]),Ie(Te[1]),Ie(Te[2])}function He(fe,le,Se,Ge){we(fe),we(le),we(Ge),we(le),we(Se),we(Ge);const Te=r.length/3,$e=_.generateSideWallUV(n,r,Te-6,Te-3,Te-2,Te-1);Ie($e[0]),Ie($e[1]),Ie($e[3]),Ie($e[1]),Ie($e[2]),Ie($e[3])}function we(fe){r.push(l[fe*3+0]),r.push(l[fe*3+1]),r.push(l[fe*3+2])}function Ie(fe){s.push(fe.x),s.push(fe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return HD(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Hv[r.type]().fromJSON(r)),new cu(n,e.options)}}const UD={generateTopUV:function(i,e,t,n,r){const s=e[t*3],o=e[t*3+1],a=e[n*3],l=e[n*3+1],c=e[r*3],f=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(c,f)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[n*3],f=e[n*3+1],h=e[n*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new pe(o,1-l),new pe(c,1-h),new pe(p,1-v),new pe(y,1-w)]:[new pe(a,1-l),new pe(f,1-h),new pe(m,1-v),new pe(x,1-w)]}};function HD(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class uu extends ns{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uu(e.radius,e.detail)}}class Al extends ns{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Al(e.radius,e.detail)}}class fu extends dt{constructor(e=.5,t=1,n=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],l=[],c=[],f=[];let h=e;const p=(t-e)/r,m=new F,v=new pe;for(let y=0;y<=r;y++){for(let x=0;x<=n;x++){const w=s+x/n*o;m.x=h*Math.cos(w),m.y=h*Math.sin(w),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y)}h+=p}for(let y=0;y<r;y++){const x=y*(n+1);for(let w=0;w<n;w++){const _=w+x,b=_,S=_+n+1,C=_+n+2,P=_+1;a.push(b,S,P),a.push(S,C,P)}}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(f,2))}static fromJSON(e){return new fu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class du extends dt{constructor(e=new zo([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(n),this.setAttribute("position",new je(r,3)),this.setAttribute("normal",new je(s,3)),this.setAttribute("uv",new je(o,2));function c(f){const h=r.length/3,p=f.extractPoints(t);let m=p.shape;const v=p.holes;dr.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=v.length;x<w;x++){const _=v[x];dr.isClockWise(_)===!0&&(v[x]=_.reverse())}const y=dr.triangulateShape(m,v);for(let x=0,w=v.length;x<w;x++){const _=v[x];m=m.concat(_)}for(let x=0,w=m.length;x<w;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,w=y.length;x<w;x++){const _=y[x],b=_[0]+h,S=_[1]+h,C=_[2]+h;n.push(b,S,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return VD(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];n.push(o)}return new du(n,e.curveSegments)}}function VD(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class wl extends dt{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const f=[],h=new F,p=new F,m=[],v=[],y=[],x=[];for(let w=0;w<=n;w++){const _=[],b=w/n;let S=0;w==0&&o==0?S=.5/t:w==n&&l==Math.PI&&(S=-.5/t);for(let C=0;C<=t;C++){const P=C/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+b*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),x.push(P+S,1-b),_.push(c++)}f.push(_)}for(let w=0;w<n;w++)for(let _=0;_<t;_++){const b=f[w][_+1],S=f[w][_],C=f[w+1][_],P=f[w+1][_+1];(w!==0||o>0)&&m.push(b,S,P),(w!==n-1||l<Math.PI)&&m.push(S,C,P)}this.setIndex(m),this.setAttribute("position",new je(v,3)),this.setAttribute("normal",new je(y,3)),this.setAttribute("uv",new je(x,2))}static fromJSON(e){return new wl(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hu extends ns{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hu(e.radius,e.detail)}}class pu extends dt{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],l=[],c=[],f=new F,h=new F,p=new F;for(let m=0;m<=n;m++)for(let v=0;v<=r;v++){const y=v/r*s,x=m/n*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(y),h.y=(e+t*Math.cos(x))*Math.sin(y),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),f.x=e*Math.cos(y),f.y=e*Math.sin(y),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/n)}for(let m=1;m<=n;m++)for(let v=1;v<=r;v++){const y=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,w=(r+1)*(m-1)+v,_=(r+1)*m+v;o.push(y,x,_),o.push(x,w,_)}this.setIndex(o),this.setAttribute("position",new je(a,3)),this.setAttribute("normal",new je(l,3)),this.setAttribute("uv",new je(c,2))}static fromJSON(e){return new pu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mu extends dt{constructor(e=1,t=.4,n=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],f=[],h=new F,p=new F,m=new F,v=new F,y=new F,x=new F,w=new F;for(let b=0;b<=n;++b){const S=b/n*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,v),x.subVectors(v,m),w.addVectors(v,m),y.crossVectors(x,w),w.crossVectors(y,x),y.normalize(),w.normalize();for(let C=0;C<=r;++C){const P=C/r*Math.PI*2,R=-t*Math.cos(P),E=t*Math.sin(P);h.x=m.x+(R*w.x+E*y.x),h.y=m.y+(R*w.y+E*y.y),h.z=m.z+(R*w.z+E*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),f.push(b/n),f.push(C/r)}}for(let b=1;b<=n;b++)for(let S=1;S<=r;S++){const C=(r+1)*(b-1)+(S-1),P=(r+1)*b+(S-1),R=(r+1)*b+S,E=(r+1)*(b-1)+S;a.push(C,P,E),a.push(P,R,E)}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(f,2));function _(b,S,C,P,R){const E=Math.cos(b),B=Math.sin(b),I=C/S*b,O=Math.cos(I);R.x=P*(2+O)*.5*E,R.y=P*(2+O)*B*.5,R.z=P*Math.sin(I)*.5}}static fromJSON(e){return new mu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gu extends dt{constructor(e=new zv(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,c=new pe;let f=new F;const h=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new je(h,3)),this.setAttribute("normal",new je(p,3)),this.setAttribute("uv",new je(m,2));function y(){for(let b=0;b<t;b++)x(b);x(s===!1?t:0),_(),w()}function x(b){f=e.getPointAt(b/t,f);const S=o.normals[b],C=o.binormals[b];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,E=Math.sin(R),B=-Math.cos(R);l.x=B*S.x+E*C.x,l.y=B*S.y+E*C.y,l.z=B*S.z+E*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+n*l.x,a.y=f.y+n*l.y,a.z=f.z+n*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let b=1;b<=t;b++)for(let S=1;S<=r;S++){const C=(r+1)*(b-1)+(S-1),P=(r+1)*b+(S-1),R=(r+1)*b+S,E=(r+1)*(b-1)+S;v.push(C,P,E),v.push(P,R,E)}}function _(){for(let b=0;b<=t;b++)for(let S=0;S<=r;S++)c.x=b/t,c.y=S/r,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gu(new Hv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yM extends dt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,y=p+m;v<y;v+=3)for(let x=0;x<3;x++){const w=a.getX(v+x),_=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,w),s.fromBufferAttribute(o,_),G1(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),G1(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new je(t,3))}}}function G1(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var z1=Object.freeze({__proto__:null,BoxGeometry:Ws,CapsuleGeometry:su,CircleGeometry:ou,ConeGeometry:au,CylinderGeometry:qo,DodecahedronGeometry:lu,EdgesGeometry:pM,ExtrudeGeometry:cu,IcosahedronGeometry:uu,LatheGeometry:xl,OctahedronGeometry:Al,PlaneGeometry:vl,PolyhedronGeometry:ns,RingGeometry:fu,ShapeGeometry:du,SphereGeometry:wl,TetrahedronGeometry:hu,TorusGeometry:pu,TorusKnotGeometry:mu,TubeGeometry:gu,WireframeGeometry:yM});class xM extends vn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class AM extends vr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vu extends vn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oi extends vu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class wM extends vn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bM extends vn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class _M extends vn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class SM extends vn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MM extends vn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Us,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CM extends Un{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ri(i,e,t){return Vv(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}function To(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function Vv(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function EM(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function a0(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=i[a+l]}return r}function Wv(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=i[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=i[r++];while(s!==void 0)}function WD(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=n)){h.push(c.times[m]);for(let y=0;y<f;++y)p.push(c.values[m*f+y])}}h.length!==0&&(c.times=To(h,c.times.constructor),c.values=To(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function jD(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=i.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const w=f,_=h-f;y=Ri(a.values,w,_)}else if(s>=a.times[v]){const w=v*h+f,_=w+h-f;y=Ri(a.values,w,_)}else{const w=a.createInterpolant(),_=f,b=h-f;w.evaluate(s),y=Ri(w.resultBuffer,_,b)}l==="quaternion"&&new Tn().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let w=0;w<x;++w){const _=w*m+p;if(l==="quaternion")Tn.multiplyQuaternionsFlat(c.values,_,y,0,c.values,_);else{const b=m-p*2;for(let S=0;S<b;++S)c.values[_+S]-=y[S]}}}return i.blendMode=vv,i}var JD=Object.freeze({__proto__:null,arraySlice:Ri,convertArray:To,flattenJSON:Wv,getKeyframeOrder:EM,isTypedArray:Vv,makeClipAdditive:jD,sortedArray:a0,subclip:WD});class bl{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class TM extends bl{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mo,endingEnd:Mo}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Co:s=e,a=2*t-n;break;case Dc:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case Co:o=e,l=2*n-t;break;case Dc:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=(n-t)*.5,f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(n-t)/(r-t),y=v*v,x=y*v,w=-p*x+2*p*y-p*v,_=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,b=(-1-m)*x+(1.5+m)*y+.5*v,S=m*x-m*y;for(let C=0;C!==a;++C)s[C]=w*o[f+C]+_*o[c+C]+b*o[l+C]+S*o[h+C];return s}}class jv extends bl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(n-t)/(r-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*f;return s}}class PM extends bl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class $i{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=To(t,this.TimeBufferType),this.values=To(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:To(e.times,Array),values:To(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new PM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jv(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new TM(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case sl:t=this.InterpolantFactoryMethodDiscrete;break;case Ho:t=this.InterpolantFactoryMethodLinear;break;case Rd:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sl;case this.InterpolantFactoryMethodLinear:return Ho;case this.InterpolantFactoryMethodSmooth:return Rd}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ri(n,s,o),this.values=Ri(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Vv(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ri(this.times),t=Ri(this.values),n=this.getValueSize(),r=this.getInterpolation()===Rd,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*n,p=h-n,m=h+n;for(let v=0;v!==n;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*n,p=o*n;for(let m=0;m!==n;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ri(e,0,o),this.values=Ri(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Ri(this.times,0),t=Ri(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}$i.prototype.TimeBufferType=Float32Array;$i.prototype.ValueBufferType=Float32Array;$i.prototype.DefaultInterpolation=Ho;class Zo extends $i{}Zo.prototype.ValueTypeName="bool";Zo.prototype.ValueBufferType=Array;Zo.prototype.DefaultInterpolation=sl;Zo.prototype.InterpolantFactoryMethodLinear=void 0;Zo.prototype.InterpolantFactoryMethodSmooth=void 0;class Jv extends $i{}Jv.prototype.ValueTypeName="color";class jo extends $i{}jo.prototype.ValueTypeName="number";class BM extends bl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let f=c+a;c!==f;c+=4)Tn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Fs extends $i{InterpolantFactoryMethodLinear(e){return new BM(this.times,this.values,this.getValueSize(),e)}}Fs.prototype.ValueTypeName="quaternion";Fs.prototype.DefaultInterpolation=Ho;Fs.prototype.InterpolantFactoryMethodSmooth=void 0;class $o extends $i{}$o.prototype.ValueTypeName="string";$o.prototype.ValueBufferType=Array;$o.prototype.DefaultInterpolation=sl;$o.prototype.InterpolantFactoryMethodLinear=void 0;$o.prototype.InterpolantFactoryMethodSmooth=void 0;class Jo extends $i{}Jo.prototype.ValueTypeName="vector";class ll{constructor(e,t=-1,n,r=Ah){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=hi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(YD(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push($i.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=EM(l);l=a0(l,1,f),c=a0(c,1,f),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new jo(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,p,m,v,y){if(m.length!==0){const x=[],w=[];Wv(m,x,w,v),x.length!==0&&y.push(new h(p,x,w))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],w=[];for(let _=0;_!==p[v].morphTargets.length;++_){const b=p[v];x.push(b.time),w.push(b.morphTarget===y?1:0)}r.push(new jo(".morphTargetInfluence["+y+"]",x,w))}l=m.length*o}else{const m=".bones["+t[h].name+"]";n(Jo,m+".position",p,"pos",r),n(Fs,m+".quaternion",p,"rot",r),n(Jo,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function XD(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jo;case"vector":case"vector2":case"vector3":case"vector4":return Jo;case"color":return Jv;case"quaternion":return Fs;case"bool":case"boolean":return Zo;case"string":return $o}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function YD(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=XD(i.type);if(i.times===void 0){const t=[],n=[];Wv(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Xo={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class Xv{constructor(e,t,n){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const Wa=new Xv;class Qn{constructor(e){this.manager=e!==void 0?e:Wa,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Lr={};class QD extends Error{constructor(e,t){super(e),this.response=t}}class pi extends Qn{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Xo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Lr[e]!==void 0){Lr[e].push({onLoad:t,onProgress:n,onError:r});return}Lr[e]=[],Lr[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Lr[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const x=new ReadableStream({start(w){_();function _(){h.read().then(({done:b,value:S})=>{if(b)w.close();else{y+=S.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let P=0,R=f.length;P<R;P++){const E=f[P];E.onProgress&&E.onProgress(C)}w.enqueue(S),_()}})}}});return new Response(x)}else throw new QD(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Xo.add(e,c);const f=Lr[e];delete Lr[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=Lr[e];if(f===void 0)throw this.manager.itemError(e),c;delete Lr[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class KD extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new pi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=ll.parse(e[n]);t.push(r)}return t}}class qD extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=[],a=new Ov,l=new pi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=qt),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=qt),a.format=p.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}class Hc extends Qn{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Xo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Nc("img");function l(){f(),Xo.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){f(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class ZD extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=new tu,o=new Hc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class $D extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Za,a=new pi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:In,o.wrapT=c.wrapT!==void 0?c.wrapT:In,o.magFilter=c.magFilter!==void 0?c.magFilter:qt,o.minFilter=c.minFilter!==void 0?c.minFilter:qt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=gr),c.mipmapCount===1&&(o.minFilter=qt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},n,r),o}}class IM extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=new en,o=new Hc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class js extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class RM extends js{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Rm=new at,U1=new F,H1=new F;class Yv{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bh,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Gt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;U1.setFromMatrixPosition(e.matrixWorld),t.position.copy(U1),H1.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(H1),t.updateMatrixWorld(),Rm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Rm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class eF extends Yv{constructor(){super(new Qt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Oc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Qv extends js{constructor(e,t,n=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new eF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const V1=new at,nc=new F,Lm=new F;class tF extends Yv{constructor(){super(new Qt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Gt(2,1,1,1),new Gt(0,1,1,1),new Gt(3,1,1,1),new Gt(1,1,1,1),new Gt(3,0,1,1),new Gt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),nc.setFromMatrixPosition(e.matrixWorld),n.position.copy(nc),Lm.copy(n.position),Lm.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Lm),n.updateMatrixWorld(),r.makeTranslation(-nc.x,-nc.y,-nc.z),V1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(V1)}}class Kv extends js{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new tF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nF extends Yv{constructor(){super(new Qi(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qv extends js{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new nF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LM extends js{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class DM extends js{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class FM{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class Bh extends js{constructor(e=new FM,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ih extends Qn{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,o=new pi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Ih.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=n(o.value);break;case"c":r.uniforms[s].value=new De().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Gt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Yn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new at().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:xM,SpriteMaterial:Iv,RawShaderMaterial:AM,ShaderMaterial:vr,PointsMaterial:ru,MeshPhysicalMaterial:Oi,MeshStandardMaterial:vu,MeshPhongMaterial:wM,MeshToonMaterial:bM,MeshNormalMaterial:_M,MeshLambertMaterial:SM,MeshDepthMaterial:Ev,MeshDistanceMaterial:Tv,MeshBasicMaterial:di,MeshMatcapMaterial:MM,LineDashedMaterial:CM,LineBasicMaterial:Un,Material:vn};return new t[e]}}class Ts{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class OM extends dt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class NM extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new pi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],w=s(m,x.buffer),_=Ua(x.type,w),b=new nu(_,x.stride);return b.uuid=x.uuid,t[v]=b,b}function s(m,v){if(n[v]!==void 0)return n[v];const x=m.arrayBuffers[v],w=new Uint32Array(x).buffer;return n[v]=w,w}const o=e.isInstancedBufferGeometry?new OM:new dt,a=e.data.index;if(a!==void 0){const m=Ua(a.type,a.array);o.setIndex(new Ot(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new Ds(x,v.itemSize,v.offset,v.normalized)}else{const x=Ua(v.type,v.array),w=v.isInstancedBufferAttribute?Vo:Ot;y=new w(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let x=0,w=v.length;x<w;x++){const _=v[x];let b;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);b=new Ds(S,_.itemSize,_.offset,_.normalized)}else{const S=Ua(_.type,_.array);b=new Ot(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const y=h[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Vs(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class iF extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=this.path===""?Ts.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new pi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?Ts.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new pi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,n),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new zo().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new iu().fromJSON(e[s],r);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new NM;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in z1?a=z1[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new Ih;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];n[l.uuid]===void 0&&(n[l.uuid]=s.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=ll.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function o(l){return n.manager.itemStart(l),s.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return o(f)}else return l.data?{data:Ua(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Xv(t);s=new Hc(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],w=a(x);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new Za(w.data,w.width,w.height)))}r[h.uuid]=new Eo(m)}else{const m=a(h.url);r[h.uuid]=new Eo(m)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Ua(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Hc(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Za(v.data,v.width,v.height)))}n[l.uuid]=new Eo(f)}else{const f=await s(l.url);n[l.uuid]=new Eo(f)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let f;Array.isArray(c)?(f=new tu,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Za:f=new en,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=n(a.mapping,rF)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=n(a.wrap[0],W1),f.wrapT=n(a.wrap[1],W1)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=n(a.minFilter,j1)),a.magFilter!==void 0&&(f.magFilter=n(a.magFilter,j1)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,n,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];n[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(n[x])}return m}return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),n[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,h;switch(e.type){case"Scene":o=new Bv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Mh(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Sh(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Qt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Qi(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LM(e.color,e.intensity);break;case"DirectionalLight":o=new qv(e.color,e.intensity);break;case"PointLight":o=new Kv(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new DM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Qv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new RM(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Bh().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new Rv(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new En(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new Lv(f,h,p),o.instanceMatrix=new Vo(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Vo(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new lM;break;case"Line":o=new Kr(a(e.geometry),l(e.material));break;case"LineLoop":o=new Dv(a(e.geometry),l(e.material));break;case"LineSegments":o=new qi(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Fv(a(e.geometry),l(e.material));break;case"Sprite":o=new aM(l(e.material));break;case"Group":o=new Hr;break;case"Bone":o=new Ch;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,n,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const rF={UVMapping:yh,CubeReflectionMapping:Bs,CubeRefractionMapping:Is,EquirectangularReflectionMapping:Ic,EquirectangularRefractionMapping:Rc,CubeUVReflectionMapping:ml},W1={RepeatWrapping:Rs,ClampToEdgeWrapping:In,MirroredRepeatWrapping:il},j1={NearestFilter:on,NearestMipmapNearestFilter:Lc,NearestMipmapLinearFilter:qa,LinearFilter:qt,LinearMipmapNearestFilter:xh,LinearMipmapLinearFilter:gr};class kM extends Qn{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Xo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Xo.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let sd;class Zv{static getContext(){return sd===void 0&&(sd=new(window.AudioContext||window.webkitAudioContext)),sd}static setContext(e){sd=e}}class sF extends Qn{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new pi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);Zv.getContext().decodeAudioData(l,function(f){t(f)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}}class oF extends Bh{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new De().set(e),s=new De().set(t),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class aF extends Bh{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new De().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const J1=new at,X1=new at,ao=new at;class lF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ao.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(No*t.fov*.5)/t.zoom;let a,l;X1.elements[12]=-r,J1.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,ao.elements[0]=2*t.near/(l-a),ao.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ao),a=-o*t.aspect-s,l=o*t.aspect-s,ao.elements[0]=2*t.near/(l-a),ao.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ao)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(X1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(J1)}}class $v{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Y1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Y1();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Y1(){return(typeof performance>"u"?Date:performance).now()}const lo=new F,Q1=new Tn,cF=new F,co=new F;class uF extends Bt{constructor(){super(),this.type="AudioListener",this.context=Zv.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $v}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lo,Q1,cF),co.set(0,0,-1).applyQuaternion(Q1),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(lo.x,r),t.positionY.linearRampToValueAtTime(lo.y,r),t.positionZ.linearRampToValueAtTime(lo.z,r),t.forwardX.linearRampToValueAtTime(co.x,r),t.forwardY.linearRampToValueAtTime(co.y,r),t.forwardZ.linearRampToValueAtTime(co.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(lo.x,lo.y,lo.z),t.setOrientation(co.x,co.y,co.z,n.x,n.y,n.z)}}class GM extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const uo=new F,K1=new Tn,fF=new F,fo=new F;class dF extends GM{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(uo,K1,fF),fo.set(0,0,1).applyQuaternion(K1);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(uo.x,n),t.positionY.linearRampToValueAtTime(uo.y,n),t.positionZ.linearRampToValueAtTime(uo.z,n),t.orientationX.linearRampToValueAtTime(fo.x,n),t.orientationY.linearRampToValueAtTime(fo.y,n),t.orientationZ.linearRampToValueAtTime(fo.z,n)}else t.setPosition(uo.x,uo.y,uo.z),t.setOrientation(fo.x,fo.y,fo.z)}}class hF{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class zM{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Tn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;Tn.multiplyQuaternionsFlat(e,o,e,t,e,n),Tn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const ey="\\[\\]\\.:\\/",pF=new RegExp("["+ey+"]","g"),ty="[^"+ey+"]",mF="[^"+ey.replace("\\.","")+"]",gF=/((?:WC+[\/:])*)/.source.replace("WC",ty),vF=/(WCOD+)?/.source.replace("WCOD",mF),yF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ty),xF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ty),AF=new RegExp("^"+gF+vF+yF+xF+"$"),wF=["material","materials","bones","map"];class bF{constructor(e,t,n){const r=n||Pt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Pt{constructor(e,t,n){this.path=t,this.parsedPath=n||Pt.parseTrackName(t),this.node=Pt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Pt.Composite(e,t,n):new Pt(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(pF,"")}static parseTrackName(e){const t=AF.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);wF.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=n(a.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Pt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pt.Composite=bF;Pt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pt.prototype.GetterByBindingType=[Pt.prototype._getValue_direct,Pt.prototype._getValue_array,Pt.prototype._getValue_arrayElement,Pt.prototype._getValue_toArray];Pt.prototype.SetterByBindingTypeAndVersioning=[[Pt.prototype._setValue_direct,Pt.prototype._setValue_direct_setNeedsUpdate,Pt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_array,Pt.prototype._setValue_array_setNeedsUpdate,Pt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_arrayElement,Pt.prototype._setValue_arrayElement_setNeedsUpdate,Pt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_fromArray,Pt.prototype._setValue_fromArray_setNeedsUpdate,Pt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _F{constructor(){this.isAnimationObjectGroup=!0,this.uuid=hi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new Pt(p,n[y],r[y]))}else if(v<c){a=e[v];const y=--c,x=e[y];t[x.uuid]=v,e[v]=x,t[m]=y,e[y]=p;for(let w=0,_=o;w!==_;++w){const b=s[w],S=b[y];let C=b[v];b[v]=S,C===void 0&&(C=new Pt(p,n[w],r[w])),b[y]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=t[c];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[c]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const y=n[m],x=y[h],w=y[f];y[f]=x,y[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=h,e[h]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,w=r;x!==w;++x){const _=n[x],b=_[p],S=_[v];_[h]=b,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,y=r;v!==y;++v){const x=n[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);r=s.length,n[e]=r,o.push(e),a.push(t),s.push(h);for(let p=f,m=l.length;p!==m;++p){const v=l[p];h[p]=new Pt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=n,o[n]=l,o.pop(),s[n]=s[a],s.pop(),r[n]=r[a],r.pop()}}}class SF{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Mo,endingEnd:Mo};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=kS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case vv:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case Ah:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=n===GS;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(n===NS){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Co,r.endingEnd=Co):(e?r.endingStart=this.zeroSlopeAtStart?Co:Mo:r.endingStart=Dc,t?r.endingEnd=this.zeroSlopeAtEnd?Co:Mo:r.endingEnd=Dc)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}const MF=new Float32Array(1);class CF extends ts{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new zM(Pt.create(n,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new jv(new Float32Array(2),new Float32Array(2),1,MF),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?ll.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Ah),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===n)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new SF(this,o,t,n);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?ll.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class ny{constructor(e){this.value=e}clone(){return new ny(this.value.clone===void 0?this.value:this.value.clone())}}let EF=0;class TF extends ts{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:EF++}),this.name="",this.usage=Fc,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class PF extends nu{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class BF{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class UM{constructor(e,t,n=0,r=1/0){this.ray=new gl(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Go,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return l0(e,this,n,t),n.sort(q1),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)l0(e[r],this,n,t);return n.sort(q1),n}}function q1(i,e){return i.distance-e.distance}function l0(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){const r=i.children;for(let s=0,o=r.length;s<o;s++)l0(r[s],e,t,!0)}}class c0{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(cn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class IF{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Z1=new pe;class RF{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Z1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Z1.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $1=new F,od=new F;class LF{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$1.subVectors(e,this.start),od.subVectors(this.end,this.start);const n=od.dot(od);let s=od.dot($1)/n;return t&&(s=cn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ew=new F;class DF extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new dt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}n.setAttribute("position",new je(r,3));const s=new Un({fog:!1,toneMapped:!1});this.cone=new qi(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ew.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ew),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gs=new F,ad=new at,Dm=new at;class FF extends qi{constructor(e){const t=HM(e),n=new dt,r=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new je(r,3)),n.setAttribute("color",new je(s,3));const l=new Un({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Dm.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(ad.multiplyMatrices(Dm,a.matrixWorld),gs.setFromMatrixPosition(ad),r.setXYZ(o,gs.x,gs.y,gs.z),ad.multiplyMatrices(Dm,a.parent.matrixWorld),gs.setFromMatrixPosition(ad),r.setXYZ(o+1,gs.x,gs.y,gs.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function HM(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,HM(i.children[t]));return e}class OF extends En{constructor(e,t,n){const r=new wl(t,4,2),s=new di({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const NF=new F,tw=new De,nw=new De;class kF extends Bt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Al(t);r.rotateY(Math.PI*.5),this.material=new di({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ot(o,3)),this.add(new En(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");tw.copy(this.light.color),nw.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?tw:nw;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(NF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GF extends qi{constructor(e=10,t=10,n=4473924,r=8947848){n=new De(n),r=new De(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?n:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const f=new dt;f.setAttribute("position",new je(l,3)),f.setAttribute("color",new je(c,3));const h=new Un({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class zF extends qi{constructor(e=10,t=16,n=8,r=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<n;h++){const p=h&1?s:o,m=e-e/n*h;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*m,w=Math.cos(y)*m;a.push(x,0,w),l.push(p.r,p.g,p.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*m,w=Math.cos(y)*m,a.push(x,0,w),l.push(p.r,p.g,p.b)}}const c=new dt;c.setAttribute("position",new je(a,3)),c.setAttribute("color",new je(l,3));const f=new Un({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iw=new F,ld=new F,rw=new F;class UF extends Bt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new dt;r.setAttribute("position",new je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Un({fog:!1,toneMapped:!1});this.lightPlane=new Kr(r,s),this.add(this.lightPlane),r=new dt,r.setAttribute("position",new je([0,0,0,0,0,1],3)),this.targetLine=new Kr(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iw.setFromMatrixPosition(this.light.matrixWorld),ld.setFromMatrixPosition(this.light.target.matrixWorld),rw.subVectors(ld,iw),this.lightPlane.lookAt(ld),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ld),this.targetLine.scale.z=rw.length()}}const cd=new F,sn=new eu;class HF extends qi{constructor(e){const t=new dt,n=new Un({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new je(r,3)),t.setAttribute("color",new je(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new De(16755200),f=new De(16711680),h=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(c,f,h,p,m)}setColors(e,t,n,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;sn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ln("c",t,e,sn,0,0,-1),ln("t",t,e,sn,0,0,1),ln("n1",t,e,sn,-n,-r,-1),ln("n2",t,e,sn,n,-r,-1),ln("n3",t,e,sn,-n,r,-1),ln("n4",t,e,sn,n,r,-1),ln("f1",t,e,sn,-n,-r,1),ln("f2",t,e,sn,n,-r,1),ln("f3",t,e,sn,-n,r,1),ln("f4",t,e,sn,n,r,1),ln("u1",t,e,sn,n*.7,r*1.1,-1),ln("u2",t,e,sn,-n*.7,r*1.1,-1),ln("u3",t,e,sn,0,r*2,-1),ln("cf1",t,e,sn,-n,0,1),ln("cf2",t,e,sn,n,0,1),ln("cf3",t,e,sn,0,-r,1),ln("cf4",t,e,sn,0,r,1),ln("cn1",t,e,sn,-n,0,-1),ln("cn2",t,e,sn,n,0,-1),ln("cn3",t,e,sn,0,-r,-1),ln("cn4",t,e,sn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ln(i,e,t,n,r,s,o){cd.set(r,s,o).unproject(n);const a=e[i];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],cd.x,cd.y,cd.z)}}const ud=new Hs;class VF extends qi{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new dt;s.setIndex(new Ot(n,1)),s.setAttribute("position",new Ot(r,3)),super(s,new Un({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ud.setFromObject(this.object),ud.isEmpty())return;const t=ud.min,n=ud.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WF extends qi{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new dt;s.setIndex(new Ot(n,1)),s.setAttribute("position",new je(r,3)),super(s,new Un({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jF extends Kr{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new dt;o.setAttribute("position",new je(s,3)),o.computeBoundingSphere(),super(o,new Un({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new dt;l.setAttribute("position",new je(a,3)),l.computeBoundingSphere(),this.add(new En(l,new di({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sw=new F;let fd,Fm;class JF extends Bt{constructor(e=new F(0,0,1),t=new F(0,0,0),n=1,r=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",fd===void 0&&(fd=new dt,fd.setAttribute("position",new je([0,0,0,0,1,0],3)),Fm=new qo(0,.5,1,5,1),Fm.translate(0,-.5,0)),this.position.copy(t),this.line=new Kr(fd,new Un({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new En(Fm,new di({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sw,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class XF extends qi{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new dt;r.setAttribute("position",new je(t,3)),r.setAttribute("color",new je(n,3));const s=new Un({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new De,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class YF{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new kc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,o){return this.currentPath.bezierCurveTo(e,t,n,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const _=[];for(let b=0,S=w.length;b<S;b++){const C=w[b],P=new zo;P.curves=C.curves,_.push(P)}return _}function n(w,_){const b=_.length;let S=!1;for(let C=b-1,P=0;P<b;C=P++){let R=_[C],E=_[P],B=E.x-R.x,I=E.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=_[P],B=-B,E=_[C],I=-I),w.y<R.y||w.y>E.y)continue;if(w.y===R.y){if(w.x===R.x)return!0}else{const O=I*(w.x-R.x)-B*(w.y-R.y);if(O===0)return!0;if(O<0)continue;S=!S}}else{if(w.y!==R.y)continue;if(E.x<=w.x&&w.x<=R.x||R.x<=w.x&&w.x<=E.x)return!0}}return S}const r=dr.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new zo,l.curves=a.curves,c.push(l),c;let f=!r(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let w=0,_=s.length;w<_;w++)a=s[w],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new zo,p:y},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let w=!1,_=0;for(let b=0,S=p.length;b<S;b++)h[b]=[];for(let b=0,S=p.length;b<S;b++){const C=m[b];for(let P=0;P<C.length;P++){const R=C[P];let E=!0;for(let B=0;B<p.length;B++)n(R.p,p[B].p)&&(b!==B&&_++,E?(E=!1,h[B].push(R)):w=!0);E&&h[b].push(R)}}_>0&&w===!1&&(m=h)}let x;for(let w=0,_=p.length;w<_;w++){l=p[w].s,c.push(l),x=m[w];for(let b=0,S=x.length;b<S;b++)l.holes.push(x[b].h)}return c}}const Gr=QF();function QF(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function KF(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=cn(i,-65504,65504),Gr.floatView[0]=i;const e=Gr.uint32View[0],t=e>>23&511;return Gr.baseTable[t]+((e&8388607)>>Gr.shiftTable[t])}function qF(i){const e=i>>10;return Gr.uint32View[0]=Gr.mantissaTable[Gr.offsetTable[e]+(i&1023)]+Gr.exponentTable[e],Gr.floatView[0]}var ZF=Object.freeze({__proto__:null,fromHalfFloat:qF,toHalfFloat:KF});class $F extends Ws{constructor(e,t,n,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,s,o)}}class eO extends su{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class tO extends ou{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class nO extends au{constructor(e,t,n,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,s,o,a)}}class iO extends qo{constructor(e,t,n,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,s,o,a,l)}}class rO extends lu{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class sO extends cu{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class oO extends uu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class aO extends xl{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class lO extends Al{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class cO extends vl{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class uO extends ns{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class fO extends fu{constructor(e,t,n,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,s,o)}}class dO extends du{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class hO extends wl{constructor(e,t,n,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,s,o,a)}}class pO extends hu{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class mO extends pu{constructor(e,t,n,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,s)}}class gO extends mu{constructor(e,t,n,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,s,o)}}class vO extends gu{constructor(e,t,n,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:pl}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=pl);const yO=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:mv,AddEquation:wo,AddOperation:vS,AdditiveAnimationBlendMode:vv,AdditiveBlending:Cg,AlphaFormat:ES,AlwaysDepth:uS,AlwaysStencilFunc:WS,AmbientLight:LM,AmbientLightProbe:aF,AnimationClip:ll,AnimationLoader:KD,AnimationMixer:CF,AnimationObjectGroup:_F,AnimationUtils:JD,ArcCurve:cM,ArrayCamera:iM,ArrowHelper:JF,Audio:GM,AudioAnalyser:hF,AudioContext:Zv,AudioListener:uF,AudioLoader:sF,AxesHelper:XF,BackSide:ni,BasicDepthPacking:US,BasicShadowMap:K_,Bone:Ch,BooleanKeyframeTrack:Zo,Box2:RF,Box3:Hs,Box3Helper:WF,BoxBufferGeometry:$F,BoxGeometry:Ws,BoxHelper:VF,BufferAttribute:Ot,BufferGeometry:dt,BufferGeometryLoader:NM,ByteType:bS,Cache:Xo,Camera:eu,CameraHelper:HF,CanvasTexture:gD,CapsuleBufferGeometry:eO,CapsuleGeometry:su,CatmullRomCurve3:uM,CineonToneMapping:AS,CircleBufferGeometry:tO,CircleGeometry:ou,ClampToEdgeWrapping:In,Clock:$v,Color:De,ColorKeyframeTrack:Jv,ColorManagement:kn,CompressedArrayTexture:mD,CompressedTexture:Ov,CompressedTextureLoader:qD,ConeBufferGeometry:nO,ConeGeometry:au,CubeCamera:Sv,CubeReflectionMapping:Bs,CubeRefractionMapping:Is,CubeTexture:tu,CubeTextureLoader:ZD,CubeUVReflectionMapping:ml,CubicBezierCurve:kv,CubicBezierCurve3:fM,CubicInterpolant:TM,CullFaceBack:Mg,CullFaceFront:Q_,CullFaceFrontBack:bP,CullFaceNone:Y_,Curve:Zi,CurvePath:hM,CustomBlending:q_,CustomToneMapping:wS,CylinderBufferGeometry:iO,CylinderGeometry:qo,Cylindrical:IF,Data3DTexture:wv,DataArrayTexture:wh,DataTexture:Za,DataTextureLoader:$D,DataUtils:ZF,DecrementStencilOp:RP,DecrementWrapStencilOp:DP,DefaultLoadingManager:Wa,DepthFormat:Es,DepthStencilFormat:Uo,DepthTexture:rM,DirectionalLight:qv,DirectionalLightHelper:UF,DiscreteInterpolant:PM,DodecahedronBufferGeometry:rO,DodecahedronGeometry:lu,DoubleSide:Ji,DstAlphaFactor:rS,DstColorFactor:oS,DynamicCopyUsage:YP,DynamicDrawUsage:Oo,DynamicReadUsage:jP,EdgesGeometry:pM,EllipseCurve:Eh,EqualDepth:dS,EqualStencilFunc:kP,EquirectangularReflectionMapping:Ic,EquirectangularRefractionMapping:Rc,Euler:$c,EventDispatcher:ts,ExtrudeBufferGeometry:sO,ExtrudeGeometry:cu,FileLoader:pi,Float16BufferAttribute:TB,Float32BufferAttribute:je,Float64BufferAttribute:PB,FloatType:zr,Fog:Mh,FogExp2:Sh,FramebufferTexture:pD,FrontSide:mr,Frustum:bh,GLBufferAttribute:BF,GLSL1:KP,GLSL3:e0,GreaterDepth:pS,GreaterEqualDepth:hS,GreaterEqualStencilFunc:HP,GreaterStencilFunc:zP,GridHelper:GF,Group:Hr,HalfFloatType:rl,HemisphereLight:RM,HemisphereLightHelper:kF,HemisphereLightProbe:oF,IcosahedronBufferGeometry:oO,IcosahedronGeometry:uu,ImageBitmapLoader:kM,ImageLoader:Hc,ImageUtils:Av,IncrementStencilOp:IP,IncrementWrapStencilOp:LP,InstancedBufferAttribute:Vo,InstancedBufferGeometry:OM,InstancedInterleavedBuffer:PF,InstancedMesh:Lv,Int16BufferAttribute:CB,Int32BufferAttribute:EB,Int8BufferAttribute:_B,IntType:SS,InterleavedBuffer:nu,InterleavedBufferAttribute:Ds,Interpolant:bl,InterpolateDiscrete:sl,InterpolateLinear:Ho,InterpolateSmooth:Rd,InvertStencilOp:FP,KeepStencilOp:Ld,KeyframeTrack:$i,LOD:lM,LatheBufferGeometry:aO,LatheGeometry:xl,Layers:Go,LessDepth:fS,LessEqualDepth:Jd,LessEqualStencilFunc:GP,LessStencilFunc:NP,Light:js,LightProbe:Bh,Line:Kr,Line3:LF,LineBasicMaterial:Un,LineCurve:Th,LineCurve3:dM,LineDashedMaterial:CM,LineLoop:Dv,LineSegments:qi,LinearEncoding:Ls,LinearFilter:qt,LinearInterpolant:jv,LinearMipMapLinearFilter:EP,LinearMipMapNearestFilter:CP,LinearMipmapLinearFilter:gr,LinearMipmapNearestFilter:xh,LinearSRGBColorSpace:ol,LinearToneMapping:yS,Loader:Qn,LoaderUtils:Ts,LoadingManager:Xv,LoopOnce:NS,LoopPingPong:GS,LoopRepeat:kS,LuminanceAlphaFormat:PS,LuminanceFormat:TS,MOUSE:go,Material:vn,MaterialLoader:Ih,MathUtils:JS,Matrix3:Yn,Matrix4:at,MaxEquation:Bg,Mesh:En,MeshBasicMaterial:di,MeshDepthMaterial:Ev,MeshDistanceMaterial:Tv,MeshLambertMaterial:SM,MeshMatcapMaterial:MM,MeshNormalMaterial:_M,MeshPhongMaterial:wM,MeshPhysicalMaterial:Oi,MeshStandardMaterial:vu,MeshToonMaterial:bM,MinEquation:Pg,MirroredRepeatWrapping:il,MixOperation:gS,MultiplyBlending:Tg,MultiplyOperation:Zc,NearestFilter:on,NearestMipMapLinearFilter:MP,NearestMipMapNearestFilter:SP,NearestMipmapLinearFilter:qa,NearestMipmapNearestFilter:Lc,NeverDepth:cS,NeverStencilFunc:OP,NoBlending:jr,NoColorSpace:TP,NoToneMapping:Yi,NormalAnimationBlendMode:Ah,NormalBlending:Do,NotEqualDepth:mS,NotEqualStencilFunc:UP,NumberKeyframeTrack:jo,Object3D:Bt,ObjectLoader:iF,ObjectSpaceNormalMap:VS,OctahedronBufferGeometry:lO,OctahedronGeometry:Al,OneFactor:tS,OneMinusDstAlphaFactor:sS,OneMinusDstColorFactor:aS,OneMinusSrcAlphaFactor:pv,OneMinusSrcColorFactor:iS,OrthographicCamera:Qi,PCFShadowMap:vh,PCFSoftShadowMap:mc,PMREMGenerator:n0,Path:kc,PerspectiveCamera:Qt,Plane:kr,PlaneBufferGeometry:cO,PlaneGeometry:vl,PlaneHelper:jF,PointLight:Kv,PointLightHelper:OF,Points:Fv,PointsMaterial:ru,PolarGridHelper:zF,PolyhedronBufferGeometry:uO,PolyhedronGeometry:ns,PositionalAudio:dF,PropertyBinding:Pt,PropertyMixer:zM,QuadraticBezierCurve:Gv,QuadraticBezierCurve3:zv,Quaternion:Tn,QuaternionKeyframeTrack:Fs,QuaternionLinearInterpolant:BM,RED_GREEN_RGTC2_Format:Zg,RED_RGTC1_Format:OS,REVISION:pl,RGBADepthPacking:HS,RGBAFormat:ti,RGBAIntegerFormat:DS,RGBA_ASTC_10x10_Format:Yg,RGBA_ASTC_10x5_Format:jg,RGBA_ASTC_10x6_Format:Jg,RGBA_ASTC_10x8_Format:Xg,RGBA_ASTC_12x10_Format:Qg,RGBA_ASTC_12x12_Format:Kg,RGBA_ASTC_4x4_Format:Ng,RGBA_ASTC_5x4_Format:kg,RGBA_ASTC_5x5_Format:Gg,RGBA_ASTC_6x5_Format:zg,RGBA_ASTC_6x6_Format:Ug,RGBA_ASTC_8x5_Format:Hg,RGBA_ASTC_8x6_Format:Vg,RGBA_ASTC_8x8_Format:Wg,RGBA_BPTC_Format:Id,RGBA_ETC2_EAC_Format:Og,RGBA_PVRTC_2BPPV1_Format:Dg,RGBA_PVRTC_4BPPV1_Format:Lg,RGBA_S3TC_DXT1_Format:Td,RGBA_S3TC_DXT3_Format:Pd,RGBA_S3TC_DXT5_Format:Bd,RGB_ETC1_Format:FS,RGB_ETC2_Format:Fg,RGB_PVRTC_2BPPV1_Format:Rg,RGB_PVRTC_4BPPV1_Format:Ig,RGB_S3TC_DXT1_Format:Ed,RGFormat:RS,RGIntegerFormat:LS,RawShaderMaterial:AM,Ray:gl,Raycaster:UM,RectAreaLight:DM,RedFormat:BS,RedIntegerFormat:IS,ReinhardToneMapping:xS,RepeatWrapping:Rs,ReplaceStencilOp:BP,ReverseSubtractEquation:$_,RingBufferGeometry:fO,RingGeometry:fu,SIGNED_RED_GREEN_RGTC2_Format:$g,SIGNED_RED_RGTC1_Format:qg,SRGBColorSpace:Wi,Scene:Bv,ShaderChunk:gt,ShaderLib:ji,ShaderMaterial:vr,ShadowMaterial:xM,Shape:zo,ShapeBufferGeometry:dO,ShapeGeometry:du,ShapePath:YF,ShapeUtils:dr,ShortType:_S,Skeleton:iu,SkeletonHelper:FF,SkinnedMesh:Rv,Source:Eo,Sphere:Vs,SphereBufferGeometry:hO,SphereGeometry:wl,Spherical:c0,SphericalHarmonics3:FM,SplineCurve:Uv,SpotLight:Qv,SpotLightHelper:DF,Sprite:aM,SpriteMaterial:Iv,SrcAlphaFactor:hv,SrcAlphaSaturateFactor:lS,SrcColorFactor:nS,StaticCopyUsage:XP,StaticDrawUsage:Fc,StaticReadUsage:WP,StereoCamera:lF,StreamCopyUsage:QP,StreamDrawUsage:VP,StreamReadUsage:JP,StringKeyframeTrack:$o,SubtractEquation:Z_,SubtractiveBlending:Eg,TOUCH:vo,TangentSpaceNormalMap:Us,TetrahedronBufferGeometry:pO,TetrahedronGeometry:hu,Texture:en,TextureLoader:IM,TorusBufferGeometry:mO,TorusGeometry:pu,TorusKnotBufferGeometry:gO,TorusKnotGeometry:mu,Triangle:Di,TriangleFanDrawMode:Xd,TriangleStripDrawMode:yv,TrianglesDrawMode:zS,TubeBufferGeometry:vO,TubeGeometry:gu,TwoPassDoubleSide:_P,UVMapping:yh,Uint16BufferAttribute:bv,Uint32BufferAttribute:_v,Uint8BufferAttribute:SB,Uint8ClampedBufferAttribute:MB,Uniform:ny,UniformsGroup:TF,UniformsLib:Pe,UniformsUtils:KS,UnsignedByteType:Qr,UnsignedInt248Type:Fo,UnsignedIntType:Ms,UnsignedShort4444Type:MS,UnsignedShort5551Type:CS,UnsignedShortType:gv,VSMShadowMap:So,Vector2:pe,Vector3:F,Vector4:Gt,VectorKeyframeTrack:Jo,VideoTexture:hD,WebGL1Renderer:sM,WebGL3DRenderTarget:hB,WebGLArrayRenderTarget:dB,WebGLCubeRenderTarget:Mv,WebGLMultipleRenderTargets:pB,WebGLRenderTarget:Ki,WebGLRenderer:Pv,WebGLUtils:nM,WireframeGeometry:yM,WrapAroundEnding:Dc,ZeroCurvatureEnding:Mo,ZeroFactor:eS,ZeroSlopeEnding:Co,ZeroStencilOp:PP,_SRGBAFormat:Yd,sRGBEncoding:Vt},Symbol.toStringTag,{value:"Module"}));var VM={exports:{}},ea={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ea.ConcurrentRoot=1;ea.ContinuousEventPriority=4;ea.DefaultEventPriority=16;ea.DiscreteEventPriority=1;ea.IdleEventPriority=536870912;ea.LegacyRoot=0;VM.exports=ea;var ja=VM.exports;function xO(i){let e;const t=new Set,n=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,f=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!h(p,v)){const y=p;c(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:n,getState:r,subscribe:(c,f,h)=>f||h?s(c,f,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=i(n,r,l),l}const AO=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ow=AO?L.useEffect:L.useLayoutEffect;function wO(i){const e=typeof i=="function"?xO(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=L.useReducer(x=>x+1,0),o=e.getState(),a=L.useRef(o),l=L.useRef(n),c=L.useRef(r),f=L.useRef(!1),h=L.useRef();h.current===void 0&&(h.current=n(o));let p,m=!1;(a.current!==o||l.current!==n||c.current!==r||f.current)&&(p=n(o),m=!r(h.current,p)),ow(()=>{m&&(h.current=p),a.current=o,l.current=n,c.current=r,f.current=!1});const v=L.useRef(o);ow(()=>{const x=()=>{try{const _=e.getState(),b=l.current(_);c.current(h.current,b)||(a.current=_,h.current=b,s())}catch{f.current=!0,s()}},w=e.subscribe(x);return e.getState()!==v.current&&x(),w},[]);const y=m?p:h.current;return L.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}const bO=i=>typeof i=="object"&&typeof i.then=="function",Po=[];function WM(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function jM(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of Po)if(WM(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=Po.indexOf(r);s!==-1&&Po.splice(s,1)},promise:(bO(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(Po.push(r),!t)throw r.promise}const _O=(i,e,t)=>jM(i,e,!1,t),SO=(i,e,t)=>void jM(i,e,!0,t),MO=i=>{if(i===void 0||i.length===0)Po.splice(0,Po.length);else{const e=Po.find(t=>WM(i,t.keys,t.equal));e&&e.remove()}};var JM={exports:{}},XM={exports:{}},YM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(z,K){var J=z.length;z.push(K);e:for(;0<J;){var de=J-1>>>1,Y=z[de];if(0<r(Y,K))z[de]=K,z[J]=Y,J=de;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var K=z[0],J=z.pop();if(J!==K){z[0]=J;e:for(var de=0,Y=z.length,ae=Y>>>1;de<ae;){var xe=2*(de+1)-1,Ae=z[xe],ne=xe+1,Ue=z[ne];if(0>r(Ae,J))ne<Y&&0>r(Ue,Ae)?(z[de]=Ue,z[ne]=J,de=ne):(z[de]=Ae,z[xe]=J,de=xe);else if(ne<Y&&0>r(Ue,J))z[de]=Ue,z[ne]=J,de=ne;else break e}}return K}function r(z,K){var J=z.sortIndex-K.sortIndex;return J!==0?J:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var K=t(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=z)n(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function S(z){if(y=!1,b(z),!v)if(t(l)!==null)v=!0,Z(C);else{var K=t(c);K!==null&&re(S,K.startTime-z)}}function C(z,K){v=!1,y&&(y=!1,w(E),E=-1),m=!0;var J=p;try{for(b(K),h=t(l);h!==null&&(!(h.expirationTime>K)||z&&!O());){var de=h.callback;if(typeof de=="function"){h.callback=null,p=h.priorityLevel;var Y=de(h.expirationTime<=K);K=i.unstable_now(),typeof Y=="function"?h.callback=Y:h===t(l)&&n(l),b(K)}else n(l);h=t(l)}if(h!==null)var ae=!0;else{var xe=t(c);xe!==null&&re(S,xe.startTime-K),ae=!1}return ae}finally{h=null,p=J,m=!1}}var P=!1,R=null,E=-1,B=5,I=-1;function O(){return!(i.unstable_now()-I<B)}function W(){if(R!==null){var z=i.unstable_now();I=z;var K=!0;try{K=R(!0,z)}finally{K?V():(P=!1,R=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=W,V=function(){q.postMessage(null)}}else V=function(){x(W,0)};function Z(z){R=z,P||(P=!0,V())}function re(z,K){E=x(function(){z(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){v||m||(v=!0,Z(C))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var J=p;p=K;try{return z()}finally{p=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return K()}finally{p=J}},i.unstable_scheduleCallback=function(z,K,J){var de=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?de+J:de):J=de,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=J+Y,z={id:f++,callback:K,priorityLevel:z,startTime:J,expirationTime:Y,sortIndex:-1},J>de?(z.sortIndex=J,e(c,z),t(l)===null&&z===t(c)&&(y?(w(E),E=-1):y=!0,re(S,J-de))):(z.sortIndex=Y,e(l,z),v||m||(v=!0,Z(C))),z},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(z){var K=p;return function(){var J=p;p=K;try{return z.apply(this,arguments)}finally{p=J}}}})(YM);XM.exports=YM;var u0=XM.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO=function(e){var t={},n=L,r=u0,s=Object.assign;function o(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case y:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return d=u.displayName||null,d!==null?d:R(u.type)||"Memo";case b:d=u._payload,u=u._init;try{return R(u(d))}catch{}}return null}function E(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function B(u){var d=u,g=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(g=d.return),u=d.return;while(u)}return d.tag===3?g:null}function I(u){if(B(u)!==u)throw Error(o(188))}function O(u){var d=u.alternate;if(!d){if(d=B(u),d===null)throw Error(o(188));return d!==u?null:u}for(var g=u,A=d;;){var M=g.return;if(M===null)break;var T=M.alternate;if(T===null){if(A=M.return,A!==null){g=A;continue}break}if(M.child===T.child){for(T=M.child;T;){if(T===g)return I(M),u;if(T===A)return I(M),d;T=T.sibling}throw Error(o(188))}if(g.return!==A.return)g=M,A=T;else{for(var k=!1,Q=M.child;Q;){if(Q===g){k=!0,g=M,A=T;break}if(Q===A){k=!0,A=M,g=T;break}Q=Q.sibling}if(!k){for(Q=T.child;Q;){if(Q===g){k=!0,g=T,A=M;break}if(Q===A){k=!0,A=T,g=M;break}Q=Q.sibling}if(!k)throw Error(o(189))}}if(g.alternate!==A)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?u:d}function W(u){return u=O(u),u!==null?V(u):null}function V(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=V(u);if(d!==null)return d;u=u.sibling}return null}function H(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=H(u);if(d!==null)return d}u=u.sibling}return null}var q=Array.isArray,Z=e.getPublicInstance,re=e.getRootHostContext,z=e.getChildHostContext,K=e.prepareForCommit,J=e.resetAfterCommit,de=e.createInstance,Y=e.appendInitialChild,ae=e.finalizeInitialChildren,xe=e.prepareUpdate,Ae=e.shouldSetTextContent,ne=e.createTextInstance,Ue=e.scheduleTimeout,Oe=e.cancelTimeout,He=e.noTimeout,we=e.isPrimaryRenderer,Ie=e.supportsMutation,fe=e.supportsPersistence,le=e.supportsHydration,Se=e.getInstanceFromNode,Ge=e.preparePortalMount,Te=e.getCurrentEventPriority,$e=e.detachDeletedInstance,Ke=e.supportsMicrotasks,Ve=e.scheduleMicrotask,bt=e.supportsTestSelectors,Ct=e.findFiberRoot,G=e.getBoundingRect,D=e.getTextContent,se=e.isHiddenSubtree,be=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Ee=e.setupIntersectionObserver,rt=e.appendChild,Le=e.appendChildToContainer,ge=e.commitTextUpdate,qe=e.commitMount,st=e.commitUpdate,We=e.insertBefore,et=e.insertInContainerBefore,Je=e.removeChild,j=e.removeChildFromContainer,ve=e.resetTextContent,ke=e.hideInstance,U=e.hideTextInstance,oe=e.unhideInstance,ye=e.unhideTextInstance,Be=e.clearContainer,Xe=e.cloneInstance,_t=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,zt=e.finalizeContainerChildren,Rn=e.replaceContainerChildren,It=e.cloneHiddenInstance,wn=e.cloneHiddenTextInstance,pn=e.canHydrateInstance,Bu=e.canHydrateTextInstance,Kh=e.canHydrateSuspenseInstance,Iu=e.isSuspenseInstancePending,Ml=e.isSuspenseInstanceFallback,N=e.registerSuspenseInstanceRetry,te=e.getNextHydratableSibling,he=e.getFirstHydratableChild,ee=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,tt=e.hydrateInstance,lt=e.hydrateTextInstance,ht=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,St=e.commitHydratedSuspenseInstance,Mt=e.clearSuspenseBoundary,tn=e.clearSuspenseBoundaryFromContainer,Hn=e.shouldDeleteUnhydratedTailInstances,Ni=e.didNotMatchHydratedContainerTextInstance,yr=e.didNotMatchHydratedTextInstance,Jt;function pt(u){if(Jt===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);Jt=d&&d[1]||""}return`
`+Jt+u}var Ys=!1;function nn(u,d){if(!u||Ys)return"";Ys=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ce){var A=Ce}Reflect.construct(u,[],d)}else{try{d.call()}catch(Ce){A=Ce}u.call(d.prototype)}else{try{throw Error()}catch(Ce){A=Ce}u()}}catch(Ce){if(Ce&&A&&typeof Ce.stack=="string"){for(var M=Ce.stack.split(`
`),T=A.stack.split(`
`),k=M.length-1,Q=T.length-1;1<=k&&0<=Q&&M[k]!==T[Q];)Q--;for(;1<=k&&0<=Q;k--,Q--)if(M[k]!==T[Q]){if(k!==1||Q!==1)do if(k--,Q--,0>Q||M[k]!==T[Q]){var ue=`
`+M[k].replace(" at new "," at ");return u.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",u.displayName)),ue}while(1<=k&&0<=Q);break}}}finally{Ys=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?pt(u):""}var xr=Object.prototype.hasOwnProperty,sa=[],vi=-1;function yi(u){return{current:u}}function ft(u){0>vi||(u.current=sa[vi],sa[vi]=null,vi--)}function Tt(u,d){vi++,sa[vi]=u.current,u.current=d}var xi={},kt=yi(xi),bn=yi(!1),Ar=xi;function wr(u,d){var g=u.type.contextTypes;if(!g)return xi;var A=u.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var M={},T;for(T in g)M[T]=d[T];return A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=M),M}function qn(u){return u=u.childContextTypes,u!=null}function Ru(){ft(bn),ft(kt)}function ex(u,d,g){if(kt.current!==xi)throw Error(o(168));Tt(kt,d),Tt(bn,g)}function tx(u,d,g){var A=u.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return g;A=A.getChildContext();for(var M in A)if(!(M in d))throw Error(o(108,E(u)||"Unknown",M));return s({},g,A)}function Lu(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||xi,Ar=kt.current,Tt(kt,u),Tt(bn,bn.current),!0}function nx(u,d,g){var A=u.stateNode;if(!A)throw Error(o(169));g?(u=tx(u,d,Ar),A.__reactInternalMemoizedMergedChildContext=u,ft(bn),ft(kt),Tt(kt,u)):ft(bn),Tt(bn,g)}var ki=Math.clz32?Math.clz32:$T,qT=Math.log,ZT=Math.LN2;function $T(u){return u>>>=0,u===0?32:31-(qT(u)/ZT|0)|0}var Du=64,Fu=4194304;function Cl(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ou(u,d){var g=u.pendingLanes;if(g===0)return 0;var A=0,M=u.suspendedLanes,T=u.pingedLanes,k=g&268435455;if(k!==0){var Q=k&~M;Q!==0?A=Cl(Q):(T&=k,T!==0&&(A=Cl(T)))}else k=g&~M,k!==0?A=Cl(k):T!==0&&(A=Cl(T));if(A===0)return 0;if(d!==0&&d!==A&&!(d&M)&&(M=A&-A,T=d&-d,M>=T||M===16&&(T&4194240)!==0))return d;if(A&4&&(A|=g&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=A;0<d;)g=31-ki(d),M=1<<g,A|=u[g],d&=~M;return A}function e2(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(u,d){for(var g=u.suspendedLanes,A=u.pingedLanes,M=u.expirationTimes,T=u.pendingLanes;0<T;){var k=31-ki(T),Q=1<<k,ue=M[k];ue===-1?(!(Q&g)||Q&A)&&(M[k]=e2(Q,d)):ue<=d&&(u.expiredLanes|=Q),T&=~Q}}function qh(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Zh(u){for(var d=[],g=0;31>g;g++)d.push(u);return d}function El(u,d,g){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-ki(d),u[d]=g}function n2(u,d){var g=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var A=u.eventTimes;for(u=u.expirationTimes;0<g;){var M=31-ki(g),T=1<<M;d[M]=0,A[M]=-1,u[M]=-1,g&=~T}}function $h(u,d){var g=u.entangledLanes|=d;for(u=u.entanglements;g;){var A=31-ki(g),M=1<<A;M&d|u[A]&d&&(u[A]|=d),g&=~M}}var Lt=0;function ix(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var ep=r.unstable_scheduleCallback,rx=r.unstable_cancelCallback,i2=r.unstable_shouldYield,r2=r.unstable_requestPaint,_n=r.unstable_now,tp=r.unstable_ImmediatePriority,s2=r.unstable_UserBlockingPriority,np=r.unstable_NormalPriority,o2=r.unstable_IdlePriority,Nu=null,er=null;function a2(u){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Nu,u,void 0,(u.current.flags&128)===128)}catch{}}function l2(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var tr=typeof Object.is=="function"?Object.is:l2,br=null,ku=!1,ip=!1;function sx(u){br===null?br=[u]:br.push(u)}function c2(u){ku=!0,sx(u)}function nr(){if(!ip&&br!==null){ip=!0;var u=0,d=Lt;try{var g=br;for(Lt=1;u<g.length;u++){var A=g[u];do A=A(!0);while(A!==null)}br=null,ku=!1}catch(M){throw br!==null&&(br=br.slice(u+1)),ep(tp,nr),M}finally{Lt=d,ip=!1}}return null}var u2=a.ReactCurrentBatchConfig;function Gu(u,d){if(tr(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var g=Object.keys(u),A=Object.keys(d);if(g.length!==A.length)return!1;for(A=0;A<g.length;A++){var M=g[A];if(!xr.call(d,M)||!tr(u[M],d[M]))return!1}return!0}function f2(u){switch(u.tag){case 5:return pt(u.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 2:case 15:return u=nn(u.type,!1),u;case 11:return u=nn(u.type.render,!1),u;case 1:return u=nn(u.type,!0),u;default:return""}}function Gi(u,d){if(u&&u.defaultProps){d=s({},d),u=u.defaultProps;for(var g in u)d[g]===void 0&&(d[g]=u[g]);return d}return d}var zu=yi(null),Uu=null,oa=null,rp=null;function sp(){rp=oa=Uu=null}function ox(u,d,g){we?(Tt(zu,d._currentValue),d._currentValue=g):(Tt(zu,d._currentValue2),d._currentValue2=g)}function op(u){var d=zu.current;ft(zu),we?u._currentValue=d:u._currentValue2=d}function ap(u,d,g){for(;u!==null;){var A=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),u===g)break;u=u.return}}function aa(u,d){Uu=u,rp=oa=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(oi=!0),u.firstContext=null)}function Ai(u){var d=we?u._currentValue:u._currentValue2;if(rp!==u)if(u={context:u,memoizedValue:d,next:null},oa===null){if(Uu===null)throw Error(o(308));oa=u,Uu.dependencies={lanes:0,firstContext:u}}else oa=oa.next=u;return d}var ir=null,rs=!1;function lp(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ax(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function _r(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function ss(u,d){var g=u.updateQueue;g!==null&&(g=g.shared,un!==null&&u.mode&1&&!(yt&2)?(u=g.interleaved,u===null?(d.next=d,ir===null?ir=[g]:ir.push(g)):(d.next=u.next,u.next=d),g.interleaved=d):(u=g.pending,u===null?d.next=d:(d.next=u.next,u.next=d),g.pending=d))}function Hu(u,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var A=d.lanes;A&=u.pendingLanes,g|=A,d.lanes=g,$h(u,g)}}function lx(u,d){var g=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,g===A)){var M=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var k={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?M=T=k:T=T.next=k,g=g.next}while(g!==null);T===null?M=T=d:T=T.next=d}else M=T=d;g={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:T,shared:A.shared,effects:A.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=d}function Vu(u,d,g,A){var M=u.updateQueue;rs=!1;var T=M.firstBaseUpdate,k=M.lastBaseUpdate,Q=M.shared.pending;if(Q!==null){M.shared.pending=null;var ue=Q,Ce=ue.next;ue.next=null,k===null?T=Ce:k.next=Ce,k=ue;var ze=u.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==k&&(Q===null?ze.firstBaseUpdate=Ce:Q.next=Ce,ze.lastBaseUpdate=ue))}if(T!==null){var ct=M.baseState;k=0,ze=Ce=ue=null,Q=T;do{var nt=Q.lane,Ut=Q.eventTime;if((A&nt)===nt){ze!==null&&(ze=ze.next={eventTime:Ut,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ze=u,On=Q;switch(nt=d,Ut=g,On.tag){case 1:if(Ze=On.payload,typeof Ze=="function"){ct=Ze.call(Ut,ct,nt);break e}ct=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=On.payload,nt=typeof Ze=="function"?Ze.call(Ut,ct,nt):Ze,nt==null)break e;ct=s({},ct,nt);break e;case 2:rs=!0}}Q.callback!==null&&Q.lane!==0&&(u.flags|=64,nt=M.effects,nt===null?M.effects=[Q]:nt.push(Q))}else Ut={eventTime:Ut,lane:nt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(Ce=ze=Ut,ue=ct):ze=ze.next=Ut,k|=nt;if(Q=Q.next,Q===null){if(Q=M.shared.pending,Q===null)break;nt=Q,Q=nt.next,nt.next=null,M.lastBaseUpdate=nt,M.shared.pending=null}}while(1);if(ze===null&&(ue=ct),M.baseState=ue,M.firstBaseUpdate=Ce,M.lastBaseUpdate=ze,d=M.shared.interleaved,d!==null){M=d;do k|=M.lane,M=M.next;while(M!==d)}else T===null&&(M.shared.lanes=0);ga|=k,u.lanes=k,u.memoizedState=ct}}function cx(u,d,g){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var A=u[d],M=A.callback;if(M!==null){if(A.callback=null,A=g,typeof M!="function")throw Error(o(191,M));M.call(A)}}}var ux=new n.Component().refs;function cp(u,d,g,A){d=u.memoizedState,g=g(A,d),g=g==null?d:s({},d,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Wu={isMounted:function(u){return(u=u._reactInternals)?B(u)===u:!1},enqueueSetState:function(u,d,g){u=u._reactInternals;var A=Wn(),M=ls(u),T=_r(A,M);T.payload=d,g!=null&&(T.callback=g),ss(u,T),d=Mi(u,M,A),d!==null&&Hu(d,u,M)},enqueueReplaceState:function(u,d,g){u=u._reactInternals;var A=Wn(),M=ls(u),T=_r(A,M);T.tag=1,T.payload=d,g!=null&&(T.callback=g),ss(u,T),d=Mi(u,M,A),d!==null&&Hu(d,u,M)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var g=Wn(),A=ls(u),M=_r(g,A);M.tag=2,d!=null&&(M.callback=d),ss(u,M),d=Mi(u,A,g),d!==null&&Hu(d,u,A)}};function fx(u,d,g,A,M,T,k){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,T,k):d.prototype&&d.prototype.isPureReactComponent?!Gu(g,A)||!Gu(M,T):!0}function dx(u,d,g){var A=!1,M=xi,T=d.contextType;return typeof T=="object"&&T!==null?T=Ai(T):(M=qn(d)?Ar:kt.current,A=d.contextTypes,T=(A=A!=null)?wr(u,M):xi),d=new d(g,T),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wu,u.stateNode=d,d._reactInternals=u,A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=M,u.__reactInternalMemoizedMaskedChildContext=T),d}function hx(u,d,g,A){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,A),d.state!==u&&Wu.enqueueReplaceState(d,d.state,null)}function up(u,d,g,A){var M=u.stateNode;M.props=g,M.state=u.memoizedState,M.refs=ux,lp(u);var T=d.contextType;typeof T=="object"&&T!==null?M.context=Ai(T):(T=qn(d)?Ar:kt.current,M.context=wr(u,T)),M.state=u.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(cp(u,d,T,g),M.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(d=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),d!==M.state&&Wu.enqueueReplaceState(M,M.state,null),Vu(u,g,M,A),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308)}var la=[],ca=0,ju=null,Ju=0,wi=[],bi=0,Qs=null,Sr=1,Mr="";function Ks(u,d){la[ca++]=Ju,la[ca++]=ju,ju=u,Ju=d}function px(u,d,g){wi[bi++]=Sr,wi[bi++]=Mr,wi[bi++]=Qs,Qs=u;var A=Sr;u=Mr;var M=32-ki(A)-1;A&=~(1<<M),g+=1;var T=32-ki(d)+M;if(30<T){var k=M-M%5;T=(A&(1<<k)-1).toString(32),A>>=k,M-=k,Sr=1<<32-ki(d)+M|g<<M|A,Mr=T+u}else Sr=1<<T|g<<M|A,Mr=u}function fp(u){u.return!==null&&(Ks(u,1),px(u,1,0))}function dp(u){for(;u===ju;)ju=la[--ca],la[ca]=null,Ju=la[--ca],la[ca]=null;for(;u===Qs;)Qs=wi[--bi],wi[bi]=null,Mr=wi[--bi],wi[bi]=null,Sr=wi[--bi],wi[bi]=null}var ri=null,si=null,Xt=!1,Tl=!1,zi=null;function mx(u,d){var g=Ci(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=u,d=u.deletions,d===null?(u.deletions=[g],u.flags|=16):d.push(g)}function gx(u,d){switch(u.tag){case 5:return d=pn(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,ri=u,si=he(d),!0):!1;case 6:return d=Bu(d,u.pendingProps),d!==null?(u.stateNode=d,ri=u,si=null,!0):!1;case 13:if(d=Kh(d),d!==null){var g=Qs!==null?{id:Sr,overflow:Mr}:null;return u.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Ci(18,null,null,0),g.stateNode=d,g.return=u,u.child=g,ri=u,si=null,!0}return!1;default:return!1}}function hp(u){return(u.mode&1)!==0&&(u.flags&128)===0}function pp(u){if(Xt){var d=si;if(d){var g=d;if(!gx(u,d)){if(hp(u))throw Error(o(418));d=te(g);var A=ri;d&&gx(u,d)?mx(A,g):(u.flags=u.flags&-4097|2,Xt=!1,ri=u)}}else{if(hp(u))throw Error(o(418));u.flags=u.flags&-4097|2,Xt=!1,ri=u}}}function vx(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ri=u}function Pl(u){if(!le||u!==ri)return!1;if(!Xt)return vx(u),Xt=!0,!1;if(u.tag!==3&&(u.tag!==5||Hn(u.type)&&!Ae(u.type,u.memoizedProps))){var d=si;if(d){if(hp(u)){for(u=si;u;)u=te(u);throw Error(o(418))}for(;d;)mx(u,d),d=te(d)}}if(vx(u),u.tag===13){if(!le)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));si=vt(u)}else si=ri?te(u.stateNode):null;return!0}function ua(){le&&(si=ri=null,Tl=Xt=!1)}function mp(u){zi===null?zi=[u]:zi.push(u)}function Bl(u,d,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var A=g.stateNode}if(!A)throw Error(o(147,u));var M=A,T=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(k){var Q=M.refs;Q===ux&&(Q=M.refs={}),k===null?delete Q[T]:Q[T]=k},d._stringRef=T,d)}if(typeof u!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,u))}return u}function Xu(u,d){throw u=Object.prototype.toString.call(d),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function yx(u){var d=u._init;return d(u._payload)}function xx(u){function d(ie,$){if(u){var ce=ie.deletions;ce===null?(ie.deletions=[$],ie.flags|=16):ce.push($)}}function g(ie,$){if(!u)return null;for(;$!==null;)d(ie,$),$=$.sibling;return null}function A(ie,$){for(ie=new Map;$!==null;)$.key!==null?ie.set($.key,$):ie.set($.index,$),$=$.sibling;return ie}function M(ie,$){return ie=us(ie,$),ie.index=0,ie.sibling=null,ie}function T(ie,$,ce){return ie.index=ce,u?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<$?(ie.flags|=2,$):ce):(ie.flags|=2,$)):(ie.flags|=1048576,$)}function k(ie){return u&&ie.alternate===null&&(ie.flags|=2),ie}function Q(ie,$,ce,Fe){return $===null||$.tag!==6?($=Zp(ce,ie.mode,Fe),$.return=ie,$):($=M($,ce),$.return=ie,$)}function ue(ie,$,ce,Fe){var Ye=ce.type;return Ye===f?ze(ie,$,ce.props.children,Fe,ce.key):$!==null&&($.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===b&&yx(Ye)===$.type)?(Fe=M($,ce.props),Fe.ref=Bl(ie,$,ce),Fe.return=ie,Fe):(Fe=Mf(ce.type,ce.key,ce.props,null,ie.mode,Fe),Fe.ref=Bl(ie,$,ce),Fe.return=ie,Fe)}function Ce(ie,$,ce,Fe){return $===null||$.tag!==4||$.stateNode.containerInfo!==ce.containerInfo||$.stateNode.implementation!==ce.implementation?($=$p(ce,ie.mode,Fe),$.return=ie,$):($=M($,ce.children||[]),$.return=ie,$)}function ze(ie,$,ce,Fe,Ye){return $===null||$.tag!==7?($=io(ce,ie.mode,Fe,Ye),$.return=ie,$):($=M($,ce),$.return=ie,$)}function ct(ie,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Zp(""+$,ie.mode,ce),$.return=ie,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case l:return ce=Mf($.type,$.key,$.props,null,ie.mode,ce),ce.ref=Bl(ie,null,$),ce.return=ie,ce;case c:return $=$p($,ie.mode,ce),$.return=ie,$;case b:var Fe=$._init;return ct(ie,Fe($._payload),ce)}if(q($)||P($))return $=io($,ie.mode,ce,null),$.return=ie,$;Xu(ie,$)}return null}function nt(ie,$,ce,Fe){var Ye=$!==null?$.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:Q(ie,$,""+ce,Fe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ye?ue(ie,$,ce,Fe):null;case c:return ce.key===Ye?Ce(ie,$,ce,Fe):null;case b:return Ye=ce._init,nt(ie,$,Ye(ce._payload),Fe)}if(q(ce)||P(ce))return Ye!==null?null:ze(ie,$,ce,Fe,null);Xu(ie,ce)}return null}function Ut(ie,$,ce,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ie=ie.get(ce)||null,Q($,ie,""+Fe,Ye);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return ie=ie.get(Fe.key===null?ce:Fe.key)||null,ue($,ie,Fe,Ye);case c:return ie=ie.get(Fe.key===null?ce:Fe.key)||null,Ce($,ie,Fe,Ye);case b:var mt=Fe._init;return Ut(ie,$,ce,mt(Fe._payload),Ye)}if(q(Fe)||P(Fe))return ie=ie.get(ce)||null,ze($,ie,Fe,Ye,null);Xu($,Fe)}return null}function Ze(ie,$,ce,Fe){for(var Ye=null,mt=null,ut=$,Dt=$=0,Mn=null;ut!==null&&Dt<ce.length;Dt++){ut.index>Dt?(Mn=ut,ut=null):Mn=ut.sibling;var Ft=nt(ie,ut,ce[Dt],Fe);if(Ft===null){ut===null&&(ut=Mn);break}u&&ut&&Ft.alternate===null&&d(ie,ut),$=T(Ft,$,Dt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft,ut=Mn}if(Dt===ce.length)return g(ie,ut),Xt&&Ks(ie,Dt),Ye;if(ut===null){for(;Dt<ce.length;Dt++)ut=ct(ie,ce[Dt],Fe),ut!==null&&($=T(ut,$,Dt),mt===null?Ye=ut:mt.sibling=ut,mt=ut);return Xt&&Ks(ie,Dt),Ye}for(ut=A(ie,ut);Dt<ce.length;Dt++)Mn=Ut(ut,ie,Dt,ce[Dt],Fe),Mn!==null&&(u&&Mn.alternate!==null&&ut.delete(Mn.key===null?Dt:Mn.key),$=T(Mn,$,Dt),mt===null?Ye=Mn:mt.sibling=Mn,mt=Mn);return u&&ut.forEach(function(fs){return d(ie,fs)}),Xt&&Ks(ie,Dt),Ye}function On(ie,$,ce,Fe){var Ye=P(ce);if(typeof Ye!="function")throw Error(o(150));if(ce=Ye.call(ce),ce==null)throw Error(o(151));for(var mt=Ye=null,ut=$,Dt=$=0,Mn=null,Ft=ce.next();ut!==null&&!Ft.done;Dt++,Ft=ce.next()){ut.index>Dt?(Mn=ut,ut=null):Mn=ut.sibling;var fs=nt(ie,ut,Ft.value,Fe);if(fs===null){ut===null&&(ut=Mn);break}u&&ut&&fs.alternate===null&&d(ie,ut),$=T(fs,$,Dt),mt===null?Ye=fs:mt.sibling=fs,mt=fs,ut=Mn}if(Ft.done)return g(ie,ut),Xt&&Ks(ie,Dt),Ye;if(ut===null){for(;!Ft.done;Dt++,Ft=ce.next())Ft=ct(ie,Ft.value,Fe),Ft!==null&&($=T(Ft,$,Dt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft);return Xt&&Ks(ie,Dt),Ye}for(ut=A(ie,ut);!Ft.done;Dt++,Ft=ce.next())Ft=Ut(ut,ie,Dt,Ft.value,Fe),Ft!==null&&(u&&Ft.alternate!==null&&ut.delete(Ft.key===null?Dt:Ft.key),$=T(Ft,$,Dt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft);return u&&ut.forEach(function(U2){return d(ie,U2)}),Xt&&Ks(ie,Dt),Ye}function Ei(ie,$,ce,Fe){if(typeof ce=="object"&&ce!==null&&ce.type===f&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ye=ce.key,mt=$;mt!==null;){if(mt.key===Ye){if(Ye=ce.type,Ye===f){if(mt.tag===7){g(ie,mt.sibling),$=M(mt,ce.props.children),$.return=ie,ie=$;break e}}else if(mt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===b&&yx(Ye)===mt.type){g(ie,mt.sibling),$=M(mt,ce.props),$.ref=Bl(ie,mt,ce),$.return=ie,ie=$;break e}g(ie,mt);break}else d(ie,mt);mt=mt.sibling}ce.type===f?($=io(ce.props.children,ie.mode,Fe,ce.key),$.return=ie,ie=$):(Fe=Mf(ce.type,ce.key,ce.props,null,ie.mode,Fe),Fe.ref=Bl(ie,$,ce),Fe.return=ie,ie=Fe)}return k(ie);case c:e:{for(mt=ce.key;$!==null;){if($.key===mt)if($.tag===4&&$.stateNode.containerInfo===ce.containerInfo&&$.stateNode.implementation===ce.implementation){g(ie,$.sibling),$=M($,ce.children||[]),$.return=ie,ie=$;break e}else{g(ie,$);break}else d(ie,$);$=$.sibling}$=$p(ce,ie.mode,Fe),$.return=ie,ie=$}return k(ie);case b:return mt=ce._init,Ei(ie,$,mt(ce._payload),Fe)}if(q(ce))return Ze(ie,$,ce,Fe);if(P(ce))return On(ie,$,ce,Fe);Xu(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,$!==null&&$.tag===6?(g(ie,$.sibling),$=M($,ce),$.return=ie,ie=$):(g(ie,$),$=Zp(ce,ie.mode,Fe),$.return=ie,ie=$),k(ie)):g(ie,$)}return Ei}var fa=xx(!0),Ax=xx(!1),Il={},_i=yi(Il),Rl=yi(Il),da=yi(Il);function rr(u){if(u===Il)throw Error(o(174));return u}function gp(u,d){Tt(da,d),Tt(Rl,u),Tt(_i,Il),u=re(d),ft(_i),Tt(_i,u)}function ha(){ft(_i),ft(Rl),ft(da)}function wx(u){var d=rr(da.current),g=rr(_i.current);d=z(g,u.type,d),g!==d&&(Tt(Rl,u),Tt(_i,d))}function vp(u){Rl.current===u&&(ft(_i),ft(Rl))}var Kt=yi(0);function Yu(u){for(var d=u;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Iu(g)||Ml(g)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var yp=[];function xp(){for(var u=0;u<yp.length;u++){var d=yp[u];we?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}yp.length=0}var Qu=a.ReactCurrentDispatcher,Si=a.ReactCurrentBatchConfig,pa=0,rn=null,Ln=null,Sn=null,Ku=!1,Ll=!1,Dl=0,d2=0;function Dn(){throw Error(o(321))}function Ap(u,d){if(d===null)return!1;for(var g=0;g<d.length&&g<u.length;g++)if(!tr(u[g],d[g]))return!1;return!0}function wp(u,d,g,A,M,T){if(pa=T,rn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Qu.current=u===null||u.memoizedState===null?g2:v2,u=g(A,M),Ll){T=0;do{if(Ll=!1,Dl=0,25<=T)throw Error(o(301));T+=1,Sn=Ln=null,d.updateQueue=null,Qu.current=y2,u=g(A,M)}while(Ll)}if(Qu.current=tf,d=Ln!==null&&Ln.next!==null,pa=0,Sn=Ln=rn=null,Ku=!1,d)throw Error(o(300));return u}function bp(){var u=Dl!==0;return Dl=0,u}function Cr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?rn.memoizedState=Sn=u:Sn=Sn.next=u,Sn}function sr(){if(Ln===null){var u=rn.alternate;u=u!==null?u.memoizedState:null}else u=Ln.next;var d=Sn===null?rn.memoizedState:Sn.next;if(d!==null)Sn=d,Ln=u;else{if(u===null)throw Error(o(310));Ln=u,u={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Sn===null?rn.memoizedState=Sn=u:Sn=Sn.next=u}return Sn}function qs(u,d){return typeof d=="function"?d(u):d}function qu(u){var d=sr(),g=d.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var A=Ln,M=A.baseQueue,T=g.pending;if(T!==null){if(M!==null){var k=M.next;M.next=T.next,T.next=k}A.baseQueue=M=T,g.pending=null}if(M!==null){T=M.next,A=A.baseState;var Q=k=null,ue=null,Ce=T;do{var ze=Ce.lane;if((pa&ze)===ze)ue!==null&&(ue=ue.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),A=Ce.hasEagerState?Ce.eagerState:u(A,Ce.action);else{var ct={lane:ze,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ue===null?(Q=ue=ct,k=A):ue=ue.next=ct,rn.lanes|=ze,ga|=ze}Ce=Ce.next}while(Ce!==null&&Ce!==T);ue===null?k=A:ue.next=Q,tr(A,d.memoizedState)||(oi=!0),d.memoizedState=A,d.baseState=k,d.baseQueue=ue,g.lastRenderedState=A}if(u=g.interleaved,u!==null){M=u;do T=M.lane,rn.lanes|=T,ga|=T,M=M.next;while(M!==u)}else M===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Zu(u){var d=sr(),g=d.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var A=g.dispatch,M=g.pending,T=d.memoizedState;if(M!==null){g.pending=null;var k=M=M.next;do T=u(T,k.action),k=k.next;while(k!==M);tr(T,d.memoizedState)||(oi=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),g.lastRenderedState=T}return[T,A]}function bx(){}function _x(u,d){var g=rn,A=sr(),M=d(),T=!tr(A.memoizedState,M);if(T&&(A.memoizedState=M,oi=!0),A=A.queue,Ol(Cx.bind(null,g,A,u),[u]),A.getSnapshot!==d||T||Sn!==null&&Sn.memoizedState.tag&1){if(g.flags|=2048,Fl(9,Mx.bind(null,g,A,M,d),void 0,null),un===null)throw Error(o(349));pa&30||Sx(g,d,M)}return M}function Sx(u,d,g){u.flags|=16384,u={getSnapshot:d,value:g},d=rn.updateQueue,d===null?(d={lastEffect:null,stores:null},rn.updateQueue=d,d.stores=[u]):(g=d.stores,g===null?d.stores=[u]:g.push(u))}function Mx(u,d,g,A){d.value=g,d.getSnapshot=A,Ex(d)&&Mi(u,1,-1)}function Cx(u,d,g){return g(function(){Ex(d)&&Mi(u,1,-1)})}function Ex(u){var d=u.getSnapshot;u=u.value;try{var g=d();return!tr(u,g)}catch{return!0}}function _p(u){var d=Cr();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:u},d.queue=u,u=u.dispatch=m2.bind(null,rn,u),[d.memoizedState,u]}function Fl(u,d,g,A){return u={tag:u,create:d,destroy:g,deps:A,next:null},d=rn.updateQueue,d===null?(d={lastEffect:null,stores:null},rn.updateQueue=d,d.lastEffect=u.next=u):(g=d.lastEffect,g===null?d.lastEffect=u.next=u:(A=g.next,g.next=u,u.next=A,d.lastEffect=u)),u}function Tx(){return sr().memoizedState}function $u(u,d,g,A){var M=Cr();rn.flags|=u,M.memoizedState=Fl(1|d,g,void 0,A===void 0?null:A)}function ef(u,d,g,A){var M=sr();A=A===void 0?null:A;var T=void 0;if(Ln!==null){var k=Ln.memoizedState;if(T=k.destroy,A!==null&&Ap(A,k.deps)){M.memoizedState=Fl(d,g,T,A);return}}rn.flags|=u,M.memoizedState=Fl(1|d,g,T,A)}function Sp(u,d){return $u(8390656,8,u,d)}function Ol(u,d){return ef(2048,8,u,d)}function Px(u,d){return ef(4,2,u,d)}function Bx(u,d){return ef(4,4,u,d)}function Ix(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function Rx(u,d,g){return g=g!=null?g.concat([u]):null,ef(4,4,Ix.bind(null,d,u),g)}function Mp(){}function Lx(u,d){var g=sr();d=d===void 0?null:d;var A=g.memoizedState;return A!==null&&d!==null&&Ap(d,A[1])?A[0]:(g.memoizedState=[u,d],u)}function Dx(u,d){var g=sr();d=d===void 0?null:d;var A=g.memoizedState;return A!==null&&d!==null&&Ap(d,A[1])?A[0]:(u=u(),g.memoizedState=[u,d],u)}function h2(u,d){var g=Lt;Lt=g!==0&&4>g?g:4,u(!0);var A=Si.transition;Si.transition={};try{u(!1),d()}finally{Lt=g,Si.transition=A}}function Fx(){return sr().memoizedState}function p2(u,d,g){var A=ls(u);g={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null},Ox(u)?Nx(d,g):(kx(u,d,g),g=Wn(),u=Mi(u,A,g),u!==null&&Gx(u,d,A))}function m2(u,d,g){var A=ls(u),M={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null};if(Ox(u))Nx(d,M);else{kx(u,d,M);var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var k=d.lastRenderedState,Q=T(k,g);if(M.hasEagerState=!0,M.eagerState=Q,tr(Q,k))return}catch{}finally{}g=Wn(),u=Mi(u,A,g),u!==null&&Gx(u,d,A)}}function Ox(u){var d=u.alternate;return u===rn||d!==null&&d===rn}function Nx(u,d){Ll=Ku=!0;var g=u.pending;g===null?d.next=d:(d.next=g.next,g.next=d),u.pending=d}function kx(u,d,g){un!==null&&u.mode&1&&!(yt&2)?(u=d.interleaved,u===null?(g.next=g,ir===null?ir=[d]:ir.push(d)):(g.next=u.next,u.next=g),d.interleaved=g):(u=d.pending,u===null?g.next=g:(g.next=u.next,u.next=g),d.pending=g)}function Gx(u,d,g){if(g&4194240){var A=d.lanes;A&=u.pendingLanes,g|=A,d.lanes=g,$h(u,g)}}var tf={readContext:Ai,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},g2={readContext:Ai,useCallback:function(u,d){return Cr().memoizedState=[u,d===void 0?null:d],u},useContext:Ai,useEffect:Sp,useImperativeHandle:function(u,d,g){return g=g!=null?g.concat([u]):null,$u(4194308,4,Ix.bind(null,d,u),g)},useLayoutEffect:function(u,d){return $u(4194308,4,u,d)},useInsertionEffect:function(u,d){return $u(4,2,u,d)},useMemo:function(u,d){var g=Cr();return d=d===void 0?null:d,u=u(),g.memoizedState=[u,d],u},useReducer:function(u,d,g){var A=Cr();return d=g!==void 0?g(d):d,A.memoizedState=A.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},A.queue=u,u=u.dispatch=p2.bind(null,rn,u),[A.memoizedState,u]},useRef:function(u){var d=Cr();return u={current:u},d.memoizedState=u},useState:_p,useDebugValue:Mp,useDeferredValue:function(u){var d=_p(u),g=d[0],A=d[1];return Sp(function(){var M=Si.transition;Si.transition={};try{A(u)}finally{Si.transition=M}},[u]),g},useTransition:function(){var u=_p(!1),d=u[0];return u=h2.bind(null,u[1]),Cr().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,g){var A=rn,M=Cr();if(Xt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=d(),un===null)throw Error(o(349));pa&30||Sx(A,d,g)}M.memoizedState=g;var T={value:g,getSnapshot:d};return M.queue=T,Sp(Cx.bind(null,A,T,u),[u]),A.flags|=2048,Fl(9,Mx.bind(null,A,T,g,d),void 0,null),g},useId:function(){var u=Cr(),d=un.identifierPrefix;if(Xt){var g=Mr,A=Sr;g=(A&~(1<<32-ki(A)-1)).toString(32)+g,d=":"+d+"R"+g,g=Dl++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=d2++,d=":"+d+"r"+g.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},v2={readContext:Ai,useCallback:Lx,useContext:Ai,useEffect:Ol,useImperativeHandle:Rx,useInsertionEffect:Px,useLayoutEffect:Bx,useMemo:Dx,useReducer:qu,useRef:Tx,useState:function(){return qu(qs)},useDebugValue:Mp,useDeferredValue:function(u){var d=qu(qs),g=d[0],A=d[1];return Ol(function(){var M=Si.transition;Si.transition={};try{A(u)}finally{Si.transition=M}},[u]),g},useTransition:function(){var u=qu(qs)[0],d=sr().memoizedState;return[u,d]},useMutableSource:bx,useSyncExternalStore:_x,useId:Fx,unstable_isNewReconciler:!1},y2={readContext:Ai,useCallback:Lx,useContext:Ai,useEffect:Ol,useImperativeHandle:Rx,useInsertionEffect:Px,useLayoutEffect:Bx,useMemo:Dx,useReducer:Zu,useRef:Tx,useState:function(){return Zu(qs)},useDebugValue:Mp,useDeferredValue:function(u){var d=Zu(qs),g=d[0],A=d[1];return Ol(function(){var M=Si.transition;Si.transition={};try{A(u)}finally{Si.transition=M}},[u]),g},useTransition:function(){var u=Zu(qs)[0],d=sr().memoizedState;return[u,d]},useMutableSource:bx,useSyncExternalStore:_x,useId:Fx,unstable_isNewReconciler:!1};function Cp(u,d){try{var g="",A=d;do g+=f2(A),A=A.return;while(A);var M=g}catch(T){M=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:d,stack:M}}function Ep(u,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var x2=typeof WeakMap=="function"?WeakMap:Map;function zx(u,d,g){g=_r(-1,g),g.tag=3,g.payload={element:null};var A=d.value;return g.callback=function(){yf||(yf=!0,jp=A),Ep(u,d)},g}function Ux(u,d,g){g=_r(-1,g),g.tag=3;var A=u.type.getDerivedStateFromError;if(typeof A=="function"){var M=d.value;g.payload=function(){return A(M)},g.callback=function(){Ep(u,d)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){Ep(u,d),typeof A!="function"&&(os===null?os=new Set([this]):os.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})}),g}function Hx(u,d,g){var A=u.pingCache;if(A===null){A=u.pingCache=new x2;var M=new Set;A.set(d,M)}else M=A.get(d),M===void 0&&(M=new Set,A.set(d,M));M.has(g)||(M.add(g),u=L2.bind(null,u,d,g),d.then(u,u))}function Vx(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function Wx(u,d,g,A,M){return u.mode&1?(u.flags|=65536,u.lanes=M,u):(u===d?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=_r(-1,1),d.tag=2,ss(g,d))),g.lanes|=1),u)}function or(u){u.flags|=4}function jx(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Nl,kl,nf,rf;if(Ie)Nl=function(u,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)Y(u,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},kl=function(){},nf=function(u,d,g,A,M){if(u=u.memoizedProps,u!==A){var T=d.stateNode,k=rr(_i.current);g=xe(T,g,u,A,M,k),(d.updateQueue=g)&&or(d)}},rf=function(u,d,g,A){g!==A&&or(d)};else if(fe){Nl=function(u,d,g,A){for(var M=d.child;M!==null;){if(M.tag===5){var T=M.stateNode;g&&A&&(T=It(T,M.type,M.memoizedProps,M)),Y(u,T)}else if(M.tag===6)T=M.stateNode,g&&A&&(T=wn(T,M.memoizedProps,M)),Y(u,T);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)T=M.child,T!==null&&(T.return=M),Nl(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Jx=function(u,d,g,A){for(var M=d.child;M!==null;){if(M.tag===5){var T=M.stateNode;g&&A&&(T=It(T,M.type,M.memoizedProps,M)),Nt(u,T)}else if(M.tag===6)T=M.stateNode,g&&A&&(T=wn(T,M.memoizedProps,M)),Nt(u,T);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)T=M.child,T!==null&&(T.return=M),Jx(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};kl=function(u,d){var g=d.stateNode;if(!jx(u,d)){u=g.containerInfo;var A=_t(u);Jx(A,d,!1,!1),g.pendingChildren=A,or(d),zt(u,A)}},nf=function(u,d,g,A,M){var T=u.stateNode,k=u.memoizedProps;if((u=jx(u,d))&&k===A)d.stateNode=T;else{var Q=d.stateNode,ue=rr(_i.current),Ce=null;k!==A&&(Ce=xe(Q,g,k,A,M,ue)),u&&Ce===null?d.stateNode=T:(T=Xe(T,Ce,g,k,A,d,u,Q),ae(T,g,A,M,ue)&&or(d),d.stateNode=T,u?or(d):Nl(T,d,!1,!1))}},rf=function(u,d,g,A){g!==A?(u=rr(da.current),g=rr(_i.current),d.stateNode=ne(A,u,g,d),or(d)):d.stateNode=u.stateNode}}else kl=function(){},nf=function(){},rf=function(){};function Gl(u,d){if(!Xt)switch(u.tailMode){case"hidden":d=u.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function Fn(u){var d=u.alternate!==null&&u.alternate.child===u.child,g=0,A=0;if(d)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,A|=M.subtreeFlags&14680064,A|=M.flags&14680064,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=A,u.childLanes=g,d}function A2(u,d,g){var A=d.pendingProps;switch(dp(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(d),null;case 1:return qn(d.type)&&Ru(),Fn(d),null;case 3:return A=d.stateNode,ha(),ft(bn),ft(kt),xp(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(u===null||u.child===null)&&(Pl(d)?or(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,zi!==null&&(Yp(zi),zi=null))),kl(u,d),Fn(d),null;case 5:vp(d),g=rr(da.current);var M=d.type;if(u!==null&&d.stateNode!=null)nf(u,d,M,A,g),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(o(166));return Fn(d),null}if(u=rr(_i.current),Pl(d)){if(!le)throw Error(o(175));u=tt(d.stateNode,d.type,d.memoizedProps,g,u,d,!Tl),d.updateQueue=u,u!==null&&or(d)}else{var T=de(M,A,g,u,d);Nl(T,d,!1,!1),d.stateNode=T,ae(T,M,A,g,u)&&or(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Fn(d),null;case 6:if(u&&d.stateNode!=null)rf(u,d,u.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(o(166));if(u=rr(da.current),g=rr(_i.current),Pl(d)){if(!le)throw Error(o(176));if(u=d.stateNode,A=d.memoizedProps,(g=lt(u,A,d,!Tl))&&(M=ri,M!==null))switch(T=(M.mode&1)!==0,M.tag){case 3:Ni(M.stateNode.containerInfo,u,A,T);break;case 5:yr(M.type,M.memoizedProps,M.stateNode,u,A,T)}g&&or(d)}else d.stateNode=ne(A,u,g,d)}return Fn(d),null;case 13:if(ft(Kt),A=d.memoizedState,Xt&&si!==null&&d.mode&1&&!(d.flags&128)){for(u=si;u;)u=te(u);return ua(),d.flags|=98560,d}if(A!==null&&A.dehydrated!==null){if(A=Pl(d),u===null){if(!A)throw Error(o(318));if(!le)throw Error(o(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ht(u,d)}else ua(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Fn(d),null}return zi!==null&&(Yp(zi),zi=null),d.flags&128?(d.lanes=g,d):(A=A!==null,g=!1,u===null?Pl(d):g=u.memoizedState!==null,A&&!g&&(d.child.flags|=8192,d.mode&1&&(u===null||Kt.current&1?mn===0&&(mn=3):Kp())),d.updateQueue!==null&&(d.flags|=4),Fn(d),null);case 4:return ha(),kl(u,d),u===null&&Ge(d.stateNode.containerInfo),Fn(d),null;case 10:return op(d.type._context),Fn(d),null;case 17:return qn(d.type)&&Ru(),Fn(d),null;case 19:if(ft(Kt),M=d.memoizedState,M===null)return Fn(d),null;if(A=(d.flags&128)!==0,T=M.rendering,T===null)if(A)Gl(M,!1);else{if(mn!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(T=Yu(u),T!==null){for(d.flags|=128,Gl(M,!1),u=T.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=g,A=d.child;A!==null;)g=A,M=u,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=M,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,M=T.dependencies,g.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),A=A.sibling;return Tt(Kt,Kt.current&1|2),d.child}u=u.sibling}M.tail!==null&&_n()>Wp&&(d.flags|=128,A=!0,Gl(M,!1),d.lanes=4194304)}else{if(!A)if(u=Yu(T),u!==null){if(d.flags|=128,A=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),Gl(M,!0),M.tail===null&&M.tailMode==="hidden"&&!T.alternate&&!Xt)return Fn(d),null}else 2*_n()-M.renderingStartTime>Wp&&g!==1073741824&&(d.flags|=128,A=!0,Gl(M,!1),d.lanes=4194304);M.isBackwards?(T.sibling=d.child,d.child=T):(u=M.last,u!==null?u.sibling=T:d.child=T,M.last=T)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=_n(),d.sibling=null,u=Kt.current,Tt(Kt,A?u&1|2:u&1),d):(Fn(d),null);case 22:case 23:return Qp(),A=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==A&&(d.flags|=8192),A&&d.mode&1?ai&1073741824&&(Fn(d),Ie&&d.subtreeFlags&6&&(d.flags|=8192)):Fn(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var w2=a.ReactCurrentOwner,oi=!1;function Vn(u,d,g,A){d.child=u===null?Ax(d,null,g,A):fa(d,u.child,g,A)}function Xx(u,d,g,A,M){g=g.render;var T=d.ref;return aa(d,M),A=wp(u,d,g,A,T,M),g=bp(),u!==null&&!oi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,Er(u,d,M)):(Xt&&g&&fp(d),d.flags|=1,Vn(u,d,A,M),d.child)}function Yx(u,d,g,A,M){if(u===null){var T=g.type;return typeof T=="function"&&!qp(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=T,Qx(u,d,T,A,M)):(u=Mf(g.type,null,A,d,d.mode,M),u.ref=d.ref,u.return=d,d.child=u)}if(T=u.child,!(u.lanes&M)){var k=T.memoizedProps;if(g=g.compare,g=g!==null?g:Gu,g(k,A)&&u.ref===d.ref)return Er(u,d,M)}return d.flags|=1,u=us(T,A),u.ref=d.ref,u.return=d,d.child=u}function Qx(u,d,g,A,M){if(u!==null&&Gu(u.memoizedProps,A)&&u.ref===d.ref)if(oi=!1,(u.lanes&M)!==0)u.flags&131072&&(oi=!0);else return d.lanes=u.lanes,Er(u,d,M);return Tp(u,d,g,A,M)}function Kx(u,d,g){var A=d.pendingProps,M=A.children,T=u!==null?u.memoizedState:null;if(A.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Tt(ma,ai),ai|=g;else if(g&1073741824)d.memoizedState={baseLanes:0,cachePool:null},A=T!==null?T.baseLanes:g,Tt(ma,ai),ai|=A;else return u=T!==null?T.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,Tt(ma,ai),ai|=u,null;else T!==null?(A=T.baseLanes|g,d.memoizedState=null):A=g,Tt(ma,ai),ai|=A;return Vn(u,d,M,g),d.child}function qx(u,d){var g=d.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Tp(u,d,g,A,M){var T=qn(g)?Ar:kt.current;return T=wr(d,T),aa(d,M),g=wp(u,d,g,A,T,M),A=bp(),u!==null&&!oi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,Er(u,d,M)):(Xt&&A&&fp(d),d.flags|=1,Vn(u,d,g,M),d.child)}function Zx(u,d,g,A,M){if(qn(g)){var T=!0;Lu(d)}else T=!1;if(aa(d,M),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),dx(d,g,A),up(d,g,A,M),A=!0;else if(u===null){var k=d.stateNode,Q=d.memoizedProps;k.props=Q;var ue=k.context,Ce=g.contextType;typeof Ce=="object"&&Ce!==null?Ce=Ai(Ce):(Ce=qn(g)?Ar:kt.current,Ce=wr(d,Ce));var ze=g.getDerivedStateFromProps,ct=typeof ze=="function"||typeof k.getSnapshotBeforeUpdate=="function";ct||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==A||ue!==Ce)&&hx(d,k,A,Ce),rs=!1;var nt=d.memoizedState;k.state=nt,Vu(d,A,k,M),ue=d.memoizedState,Q!==A||nt!==ue||bn.current||rs?(typeof ze=="function"&&(cp(d,g,ze,A),ue=d.memoizedState),(Q=rs||fx(d,g,Q,A,nt,ue,Ce))?(ct||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=ue),k.props=A,k.state=ue,k.context=Ce,A=Q):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{k=d.stateNode,ax(u,d),Q=d.memoizedProps,Ce=d.type===d.elementType?Q:Gi(d.type,Q),k.props=Ce,ct=d.pendingProps,nt=k.context,ue=g.contextType,typeof ue=="object"&&ue!==null?ue=Ai(ue):(ue=qn(g)?Ar:kt.current,ue=wr(d,ue));var Ut=g.getDerivedStateFromProps;(ze=typeof Ut=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==ct||nt!==ue)&&hx(d,k,A,ue),rs=!1,nt=d.memoizedState,k.state=nt,Vu(d,A,k,M);var Ze=d.memoizedState;Q!==ct||nt!==Ze||bn.current||rs?(typeof Ut=="function"&&(cp(d,g,Ut,A),Ze=d.memoizedState),(Ce=rs||fx(d,g,Ce,A,nt,Ze,ue)||!1)?(ze||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(A,Ze,ue),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(A,Ze,ue)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=Ze),k.props=A,k.state=Ze,k.context=ue,A=Ce):(typeof k.componentDidUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(d.flags|=1024),A=!1)}return Pp(u,d,g,A,T,M)}function Pp(u,d,g,A,M,T){qx(u,d);var k=(d.flags&128)!==0;if(!A&&!k)return M&&nx(d,g,!1),Er(u,d,T);A=d.stateNode,w2.current=d;var Q=k&&typeof g.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,u!==null&&k?(d.child=fa(d,u.child,null,T),d.child=fa(d,null,Q,T)):Vn(u,d,Q,T),d.memoizedState=A.state,M&&nx(d,g,!0),d.child}function $x(u){var d=u.stateNode;d.pendingContext?ex(u,d.pendingContext,d.pendingContext!==d.context):d.context&&ex(u,d.context,!1),gp(u,d.containerInfo)}function eA(u,d,g,A,M){return ua(),mp(M),d.flags|=256,Vn(u,d,g,A),d.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(u){return{baseLanes:u,cachePool:null}}function tA(u,d,g){var A=d.pendingProps,M=Kt.current,T=!1,k=(d.flags&128)!==0,Q;if((Q=k)||(Q=u!==null&&u.memoizedState===null?!1:(M&2)!==0),Q?(T=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(M|=1),Tt(Kt,M&1),u===null)return pp(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?Ml(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(M=A.children,u=A.fallback,T?(A=d.mode,T=d.child,M={mode:"hidden",children:M},!(A&1)&&T!==null?(T.childLanes=0,T.pendingProps=M):T=Cf(M,A,0,null),u=io(u,A,g,null),T.return=d,u.return=d,T.sibling=u,d.child=T,d.child.memoizedState=of(g),d.memoizedState=sf,u):Bp(d,M));if(M=u.memoizedState,M!==null){if(Q=M.dehydrated,Q!==null){if(k)return d.flags&256?(d.flags&=-257,af(u,d,g,Error(o(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(T=A.fallback,M=d.mode,A=Cf({mode:"visible",children:A.children},M,0,null),T=io(T,M,g,null),T.flags|=2,A.return=d,T.return=d,A.sibling=T,d.child=A,d.mode&1&&fa(d,u.child,null,g),d.child.memoizedState=of(g),d.memoizedState=sf,T);if(!(d.mode&1))d=af(u,d,g,null);else if(Ml(Q))d=af(u,d,g,Error(o(419)));else if(A=(g&u.childLanes)!==0,oi||A){if(A=un,A!==null){switch(g&-g){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}A=T&(A.suspendedLanes|g)?0:T,A!==0&&A!==M.retryLane&&(M.retryLane=A,Mi(u,A,-1))}Kp(),d=af(u,d,g,Error(o(421)))}else Iu(Q)?(d.flags|=128,d.child=u.child,d=D2.bind(null,u),N(Q,d),d=null):(g=M.treeContext,le&&(si=me(Q),ri=d,Xt=!0,zi=null,Tl=!1,g!==null&&(wi[bi++]=Sr,wi[bi++]=Mr,wi[bi++]=Qs,Sr=g.id,Mr=g.overflow,Qs=d)),d=Bp(d,d.pendingProps.children),d.flags|=4096);return d}return T?(A=iA(u,d,A.children,A.fallback,g),T=d.child,M=u.child.memoizedState,T.memoizedState=M===null?of(g):{baseLanes:M.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,d.memoizedState=sf,A):(g=nA(u,d,A.children,g),d.memoizedState=null,g)}return T?(A=iA(u,d,A.children,A.fallback,g),T=d.child,M=u.child.memoizedState,T.memoizedState=M===null?of(g):{baseLanes:M.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,d.memoizedState=sf,A):(g=nA(u,d,A.children,g),d.memoizedState=null,g)}function Bp(u,d){return d=Cf({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function nA(u,d,g,A){var M=u.child;return u=M.sibling,g=us(M,{mode:"visible",children:g}),!(d.mode&1)&&(g.lanes=A),g.return=d,g.sibling=null,u!==null&&(A=d.deletions,A===null?(d.deletions=[u],d.flags|=16):A.push(u)),d.child=g}function iA(u,d,g,A,M){var T=d.mode;u=u.child;var k=u.sibling,Q={mode:"hidden",children:g};return!(T&1)&&d.child!==u?(g=d.child,g.childLanes=0,g.pendingProps=Q,d.deletions=null):(g=us(u,Q),g.subtreeFlags=u.subtreeFlags&14680064),k!==null?A=us(k,A):(A=io(A,T,M,null),A.flags|=2),A.return=d,g.return=d,g.sibling=A,d.child=g,A}function af(u,d,g,A){return A!==null&&mp(A),fa(d,u.child,null,g),u=Bp(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function rA(u,d,g){u.lanes|=d;var A=u.alternate;A!==null&&(A.lanes|=d),ap(u.return,d,g)}function Ip(u,d,g,A,M){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:g,tailMode:M}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=A,T.tail=g,T.tailMode=M)}function sA(u,d,g){var A=d.pendingProps,M=A.revealOrder,T=A.tail;if(Vn(u,d,A.children,g),A=Kt.current,A&2)A=A&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&rA(u,g,d);else if(u.tag===19)rA(u,g,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}if(Tt(Kt,A),!(d.mode&1))d.memoizedState=null;else switch(M){case"forwards":for(g=d.child,M=null;g!==null;)u=g.alternate,u!==null&&Yu(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=d.child,d.child=null):(M=g.sibling,g.sibling=null),Ip(d,!1,M,g,T);break;case"backwards":for(g=null,M=d.child,d.child=null;M!==null;){if(u=M.alternate,u!==null&&Yu(u)===null){d.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}Ip(d,!0,g,null,T);break;case"together":Ip(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Er(u,d,g){if(u!==null&&(d.dependencies=u.dependencies),ga|=d.lanes,!(g&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(o(153));if(d.child!==null){for(u=d.child,g=us(u,u.pendingProps),d.child=g,g.return=d;u.sibling!==null;)u=u.sibling,g=g.sibling=us(u,u.pendingProps),g.return=d;g.sibling=null}return d.child}function b2(u,d,g){switch(d.tag){case 3:$x(d),ua();break;case 5:wx(d);break;case 1:qn(d.type)&&Lu(d);break;case 4:gp(d,d.stateNode.containerInfo);break;case 10:ox(d,d.type._context,d.memoizedProps.value);break;case 13:var A=d.memoizedState;if(A!==null)return A.dehydrated!==null?(Tt(Kt,Kt.current&1),d.flags|=128,null):g&d.child.childLanes?tA(u,d,g):(Tt(Kt,Kt.current&1),u=Er(u,d,g),u!==null?u.sibling:null);Tt(Kt,Kt.current&1);break;case 19:if(A=(g&d.childLanes)!==0,u.flags&128){if(A)return sA(u,d,g);d.flags|=128}var M=d.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Tt(Kt,Kt.current),A)break;return null;case 22:case 23:return d.lanes=0,Kx(u,d,g)}return Er(u,d,g)}function _2(u,d){switch(dp(d),d.tag){case 1:return qn(d.type)&&Ru(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return ha(),ft(bn),ft(kt),xp(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return vp(d),null;case 13:if(ft(Kt),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(o(340));ua()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return ft(Kt),null;case 4:return ha(),null;case 10:return op(d.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var lf=!1,Zs=!1,S2=typeof WeakSet=="function"?WeakSet:Set,Re=null;function cf(u,d){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(A){ei(u,d,A)}else g.current=null}function Rp(u,d,g){try{g()}catch(A){ei(u,d,A)}}var oA=!1;function M2(u,d){for(K(u.containerInfo),Re=d;Re!==null;)if(u=Re,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,Re=d;else for(;Re!==null;){u=Re;try{var g=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,M=g.memoizedState,T=u.stateNode,k=T.getSnapshotBeforeUpdate(u.elementType===u.type?A:Gi(u.type,A),M);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:Ie&&Be(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){ei(u,u.return,Q)}if(d=u.sibling,d!==null){d.return=u.return,Re=d;break}Re=u.return}return g=oA,oA=!1,g}function $s(u,d,g){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var M=A=A.next;do{if((M.tag&u)===u){var T=M.destroy;M.destroy=void 0,T!==void 0&&Rp(d,g,T)}M=M.next}while(M!==A)}}function zl(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&u)===u){var A=g.create;g.destroy=A()}g=g.next}while(g!==d)}}function Lp(u){var d=u.ref;if(d!==null){var g=u.stateNode;switch(u.tag){case 5:u=Z(g);break;default:u=g}typeof d=="function"?d(u):d.current=u}}function aA(u,d,g){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Nu,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var A=u=u.next;do{var M=A,T=M.destroy;M=M.tag,T!==void 0&&(M&2||M&4)&&Rp(d,g,T),A=A.next}while(A!==u)}break;case 1:if(cf(d,g),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(k){ei(d,g,k)}break;case 5:cf(d,g);break;case 4:Ie?hA(u,d,g):fe&&fe&&(d=d.stateNode.containerInfo,g=_t(d),Rn(d,g))}}function lA(u,d,g){for(var A=d;;)if(aA(u,A,g),A.child===null||Ie&&A.tag===4){if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function cA(u){var d=u.alternate;d!==null&&(u.alternate=null,cA(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&$e(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function uA(u){return u.tag===5||u.tag===3||u.tag===4}function fA(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||uA(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function dA(u){if(Ie){e:{for(var d=u.return;d!==null;){if(uA(d))break e;d=d.return}throw Error(o(160))}var g=d;switch(g.tag){case 5:d=g.stateNode,g.flags&32&&(ve(d),g.flags&=-33),g=fA(u),Fp(u,g,d);break;case 3:case 4:d=g.stateNode.containerInfo,g=fA(u),Dp(u,g,d);break;default:throw Error(o(161))}}}function Dp(u,d,g){var A=u.tag;if(A===5||A===6)u=u.stateNode,d?et(g,u,d):Le(g,u);else if(A!==4&&(u=u.child,u!==null))for(Dp(u,d,g),u=u.sibling;u!==null;)Dp(u,d,g),u=u.sibling}function Fp(u,d,g){var A=u.tag;if(A===5||A===6)u=u.stateNode,d?We(g,u,d):rt(g,u);else if(A!==4&&(u=u.child,u!==null))for(Fp(u,d,g),u=u.sibling;u!==null;)Fp(u,d,g),u=u.sibling}function hA(u,d,g){for(var A=d,M=!1,T,k;;){if(!M){M=A.return;e:for(;;){if(M===null)throw Error(o(160));switch(T=M.stateNode,M.tag){case 5:k=!1;break e;case 3:T=T.containerInfo,k=!0;break e;case 4:T=T.containerInfo,k=!0;break e}M=M.return}M=!0}if(A.tag===5||A.tag===6)lA(u,A,g),k?j(T,A.stateNode):Je(T,A.stateNode);else if(A.tag===18)k?tn(T,A.stateNode):Mt(T,A.stateNode);else if(A.tag===4){if(A.child!==null){T=A.stateNode.containerInfo,k=!0,A.child.return=A,A=A.child;continue}}else if(aA(u,A,g),A.child!==null){A.child.return=A,A=A.child;continue}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return,A.tag===4&&(M=!1)}A.sibling.return=A.return,A=A.sibling}}function Op(u,d){if(Ie){switch(d.tag){case 0:case 11:case 14:case 15:$s(3,d,d.return),zl(3,d),$s(5,d,d.return);return;case 1:return;case 5:var g=d.stateNode;if(g!=null){var A=d.memoizedProps;u=u!==null?u.memoizedProps:A;var M=d.type,T=d.updateQueue;d.updateQueue=null,T!==null&&st(g,T,M,u,A,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));g=d.memoizedProps,ge(d.stateNode,u!==null?u.memoizedProps:g,g);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&Et(d.stateNode.containerInfo);return;case 12:return;case 13:uf(d);return;case 19:uf(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:$s(3,d,d.return),zl(3,d),$s(5,d,d.return);return;case 12:return;case 13:uf(d);return;case 19:uf(d);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&Et(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Rn(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function uf(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new S2),d.forEach(function(A){var M=F2.bind(null,u,A);g.has(A)||(g.add(A),A.then(M,M))})}}function C2(u,d){for(Re=d;Re!==null;){d=Re;var g=d.deletions;if(g!==null)for(var A=0;A<g.length;A++){var M=g[A];try{var T=u;Ie?hA(T,M,d):lA(T,M,d);var k=M.alternate;k!==null&&(k.return=null),M.return=null}catch(Ye){ei(M,d,Ye)}}if(g=d.child,d.subtreeFlags&12854&&g!==null)g.return=d,Re=g;else for(;Re!==null;){d=Re;try{var Q=d.flags;if(Q&32&&Ie&&ve(d.stateNode),Q&512){var ue=d.alternate;if(ue!==null){var Ce=ue.ref;Ce!==null&&(typeof Ce=="function"?Ce(null):Ce.current=null)}}if(Q&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ze=d.alternate;(ze===null||ze.memoizedState===null)&&(Vp=_n())}break;case 22:var ct=d.memoizedState!==null,nt=d.alternate,Ut=nt!==null&&nt.memoizedState!==null;if(g=d,Ie){e:if(A=g,M=ct,T=null,Ie)for(var Ze=A;;){if(Ze.tag===5){if(T===null){T=Ze;var On=Ze.stateNode;M?ke(On):oe(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(T===null){var Ei=Ze.stateNode;M?U(Ei):ye(Ei,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===A)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===A)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===A)break e;T===Ze&&(T=null),Ze=Ze.return}T===Ze&&(T=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(ct&&!Ut&&g.mode&1){Re=g;for(var ie=g.child;ie!==null;){for(g=Re=ie;Re!==null;){A=Re;var $=A.child;switch(A.tag){case 0:case 11:case 14:case 15:$s(4,A,A.return);break;case 1:cf(A,A.return);var ce=A.stateNode;if(typeof ce.componentWillUnmount=="function"){var Fe=A.return;try{ce.props=A.memoizedProps,ce.state=A.memoizedState,ce.componentWillUnmount()}catch(Ye){ei(A,Fe,Ye)}}break;case 5:cf(A,A.return);break;case 22:if(A.memoizedState!==null){gA(g);continue}}$!==null?($.return=A,Re=$):gA(g)}ie=ie.sibling}}}switch(Q&4102){case 2:dA(d),d.flags&=-3;break;case 6:dA(d),d.flags&=-3,Op(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Op(d.alternate,d);break;case 4:Op(d.alternate,d)}}catch(Ye){ei(d,d.return,Ye)}if(g=d.sibling,g!==null){g.return=d.return,Re=g;break}Re=d.return}}}function E2(u,d,g){Re=u,pA(u)}function pA(u,d,g){for(var A=(u.mode&1)!==0;Re!==null;){var M=Re,T=M.child;if(M.tag===22&&A){var k=M.memoizedState!==null||lf;if(!k){var Q=M.alternate,ue=Q!==null&&Q.memoizedState!==null||Zs;Q=lf;var Ce=Zs;if(lf=k,(Zs=ue)&&!Ce)for(Re=M;Re!==null;)k=Re,ue=k.child,k.tag===22&&k.memoizedState!==null?vA(M):ue!==null?(ue.return=k,Re=ue):vA(M);for(;T!==null;)Re=T,pA(T),T=T.sibling;Re=M,lf=Q,Zs=Ce}mA(u)}else M.subtreeFlags&8772&&T!==null?(T.return=M,Re=T):mA(u)}}function mA(u){for(;Re!==null;){var d=Re;if(d.flags&8772){var g=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Zs||zl(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!Zs)if(g===null)A.componentDidMount();else{var M=d.elementType===d.type?g.memoizedProps:Gi(d.type,g.memoizedProps);A.componentDidUpdate(M,g.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&cx(d,T,A);break;case 3:var k=d.updateQueue;if(k!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=Z(d.child.stateNode);break;case 1:g=d.child.stateNode}cx(d,k,g)}break;case 5:var Q=d.stateNode;g===null&&d.flags&4&&qe(Q,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&d.memoizedState===null){var ue=d.alternate;if(ue!==null){var Ce=ue.memoizedState;if(Ce!==null){var ze=Ce.dehydrated;ze!==null&&St(ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Zs||d.flags&512&&Lp(d)}catch(ct){ei(d,d.return,ct)}}if(d===u){Re=null;break}if(g=d.sibling,g!==null){g.return=d.return,Re=g;break}Re=d.return}}function gA(u){for(;Re!==null;){var d=Re;if(d===u){Re=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Re=g;break}Re=d.return}}function vA(u){for(;Re!==null;){var d=Re;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{zl(4,d)}catch(ue){ei(d,g,ue)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var M=d.return;try{A.componentDidMount()}catch(ue){ei(d,M,ue)}}var T=d.return;try{Lp(d)}catch(ue){ei(d,T,ue)}break;case 5:var k=d.return;try{Lp(d)}catch(ue){ei(d,k,ue)}}}catch(ue){ei(d,d.return,ue)}if(d===u){Re=null;break}var Q=d.sibling;if(Q!==null){Q.return=d.return,Re=Q;break}Re=d.return}}var ff=0,df=1,hf=2,pf=3,mf=4;if(typeof Symbol=="function"&&Symbol.for){var Ul=Symbol.for;ff=Ul("selector.component"),df=Ul("selector.has_pseudo_class"),hf=Ul("selector.role"),pf=Ul("selector.test_id"),mf=Ul("selector.text")}function Np(u){var d=Se(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(u=Ct(u),u===null)throw Error(o(362));return u.stateNode.current}function kp(u,d){switch(d.$$typeof){case ff:if(u.type===d.value)return!0;break;case df:e:{d=d.value,u=[u,0];for(var g=0;g<u.length;){var A=u[g++],M=u[g++],T=d[M];if(A.tag!==5||!se(A)){for(;T!=null&&kp(A,T);)M++,T=d[M];if(M===d.length){d=!0;break e}else for(A=A.child;A!==null;)u.push(A,M),A=A.sibling}}d=!1}return d;case hf:if(u.tag===5&&be(u.stateNode,d.value))return!0;break;case mf:if((u.tag===5||u.tag===6)&&(u=D(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case pf:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Gp(u){switch(u.$$typeof){case ff:return"<"+(R(u.value)||"Unknown")+">";case df:return":has("+(Gp(u)||"")+")";case hf:return'[role="'+u.value+'"]';case mf:return'"'+u.value+'"';case pf:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function yA(u,d){var g=[];u=[u,0];for(var A=0;A<u.length;){var M=u[A++],T=u[A++],k=d[T];if(M.tag!==5||!se(M)){for(;k!=null&&kp(M,k);)T++,k=d[T];if(T===d.length)g.push(M);else for(M=M.child;M!==null;)u.push(M,T),M=M.sibling}}return g}function zp(u,d){if(!bt)throw Error(o(363));u=Np(u),u=yA(u,d),d=[],u=Array.from(u);for(var g=0;g<u.length;){var A=u[g++];if(A.tag===5)se(A)||d.push(A.stateNode);else for(A=A.child;A!==null;)u.push(A),A=A.sibling}return d}var T2=Math.ceil,gf=a.ReactCurrentDispatcher,Up=a.ReactCurrentOwner,an=a.ReactCurrentBatchConfig,yt=0,un=null,fn=null,Pn=0,ai=0,ma=yi(0),mn=0,Hl=null,ga=0,vf=0,Hp=0,Vl=null,Zn=null,Vp=0,Wp=1/0;function va(){Wp=_n()+500}var yf=!1,jp=null,os=null,xf=!1,as=null,Af=0,Wl=0,Jp=null,wf=-1,bf=0;function Wn(){return yt&6?_n():wf!==-1?wf:wf=_n()}function ls(u){return u.mode&1?yt&2&&Pn!==0?Pn&-Pn:u2.transition!==null?(bf===0&&(u=Du,Du<<=1,!(Du&4194240)&&(Du=64),bf=u),bf):(u=Lt,u!==0?u:Te()):1}function Mi(u,d,g){if(50<Wl)throw Wl=0,Jp=null,Error(o(185));var A=_f(u,d);return A===null?null:(El(A,d,g),(!(yt&2)||A!==un)&&(A===un&&(!(yt&2)&&(vf|=d),mn===4&&cs(A,Pn)),$n(A,g),d===1&&yt===0&&!(u.mode&1)&&(va(),ku&&nr())),A)}function _f(u,d){u.lanes|=d;var g=u.alternate;for(g!==null&&(g.lanes|=d),g=u,u=u.return;u!==null;)u.childLanes|=d,g=u.alternate,g!==null&&(g.childLanes|=d),g=u,u=u.return;return g.tag===3?g.stateNode:null}function $n(u,d){var g=u.callbackNode;t2(u,d);var A=Ou(u,u===un?Pn:0);if(A===0)g!==null&&rx(g),u.callbackNode=null,u.callbackPriority=0;else if(d=A&-A,u.callbackPriority!==d){if(g!=null&&rx(g),d===1)u.tag===0?c2(AA.bind(null,u)):sx(AA.bind(null,u)),Ke?Ve(function(){yt===0&&nr()}):ep(tp,nr),g=null;else{switch(ix(A)){case 1:g=tp;break;case 4:g=s2;break;case 16:g=np;break;case 536870912:g=o2;break;default:g=np}g=PA(g,xA.bind(null,u))}u.callbackPriority=d,u.callbackNode=g}}function xA(u,d){if(wf=-1,bf=0,yt&6)throw Error(o(327));var g=u.callbackNode;if(no()&&u.callbackNode!==g)return null;var A=Ou(u,u===un?Pn:0);if(A===0)return null;if(A&30||A&u.expiredLanes||d)d=Sf(u,A);else{d=A;var M=yt;yt|=2;var T=_A();(un!==u||Pn!==d)&&(va(),eo(u,d));do try{I2();break}catch(Q){bA(u,Q)}while(1);sp(),gf.current=T,yt=M,fn!==null?d=0:(un=null,Pn=0,d=mn)}if(d!==0){if(d===2&&(M=qh(u),M!==0&&(A=M,d=Xp(u,M))),d===1)throw g=Hl,eo(u,0),cs(u,A),$n(u,_n()),g;if(d===6)cs(u,A);else{if(M=u.current.alternate,!(A&30)&&!P2(M)&&(d=Sf(u,A),d===2&&(T=qh(u),T!==0&&(A=T,d=Xp(u,T))),d===1))throw g=Hl,eo(u,0),cs(u,A),$n(u,_n()),g;switch(u.finishedWork=M,u.finishedLanes=A,d){case 0:case 1:throw Error(o(345));case 2:to(u,Zn);break;case 3:if(cs(u,A),(A&130023424)===A&&(d=Vp+500-_n(),10<d)){if(Ou(u,0)!==0)break;if(M=u.suspendedLanes,(M&A)!==A){Wn(),u.pingedLanes|=u.suspendedLanes&M;break}u.timeoutHandle=Ue(to.bind(null,u,Zn),d);break}to(u,Zn);break;case 4:if(cs(u,A),(A&4194240)===A)break;for(d=u.eventTimes,M=-1;0<A;){var k=31-ki(A);T=1<<k,k=d[k],k>M&&(M=k),A&=~T}if(A=M,A=_n()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*T2(A/1960))-A,10<A){u.timeoutHandle=Ue(to.bind(null,u,Zn),A);break}to(u,Zn);break;case 5:to(u,Zn);break;default:throw Error(o(329))}}}return $n(u,_n()),u.callbackNode===g?xA.bind(null,u):null}function Xp(u,d){var g=Vl;return u.current.memoizedState.isDehydrated&&(eo(u,d).flags|=256),u=Sf(u,d),u!==2&&(d=Zn,Zn=g,d!==null&&Yp(d)),u}function Yp(u){Zn===null?Zn=u:Zn.push.apply(Zn,u)}function P2(u){for(var d=u;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var A=0;A<g.length;A++){var M=g[A],T=M.getSnapshot;M=M.value;try{if(!tr(T(),M))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function cs(u,d){for(d&=~Hp,d&=~vf,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var g=31-ki(d),A=1<<g;u[g]=-1,d&=~A}}function AA(u){if(yt&6)throw Error(o(327));no();var d=Ou(u,0);if(!(d&1))return $n(u,_n()),null;var g=Sf(u,d);if(u.tag!==0&&g===2){var A=qh(u);A!==0&&(d=A,g=Xp(u,A))}if(g===1)throw g=Hl,eo(u,0),cs(u,d),$n(u,_n()),g;if(g===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,to(u,Zn),$n(u,_n()),null}function wA(u){as!==null&&as.tag===0&&!(yt&6)&&no();var d=yt;yt|=1;var g=an.transition,A=Lt;try{if(an.transition=null,Lt=1,u)return u()}finally{Lt=A,an.transition=g,yt=d,!(yt&6)&&nr()}}function Qp(){ai=ma.current,ft(ma)}function eo(u,d){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==He&&(u.timeoutHandle=He,Oe(g)),fn!==null)for(g=fn.return;g!==null;){var A=g;switch(dp(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Ru();break;case 3:ha(),ft(bn),ft(kt),xp();break;case 5:vp(A);break;case 4:ha();break;case 13:ft(Kt);break;case 19:ft(Kt);break;case 10:op(A.type._context);break;case 22:case 23:Qp()}g=g.return}if(un=u,fn=u=us(u.current,null),Pn=ai=d,mn=0,Hl=null,Hp=vf=ga=0,Zn=Vl=null,ir!==null){for(d=0;d<ir.length;d++)if(g=ir[d],A=g.interleaved,A!==null){g.interleaved=null;var M=A.next,T=g.pending;if(T!==null){var k=T.next;T.next=M,A.next=k}g.pending=A}ir=null}return u}function bA(u,d){do{var g=fn;try{if(sp(),Qu.current=tf,Ku){for(var A=rn.memoizedState;A!==null;){var M=A.queue;M!==null&&(M.pending=null),A=A.next}Ku=!1}if(pa=0,Sn=Ln=rn=null,Ll=!1,Dl=0,Up.current=null,g===null||g.return===null){mn=1,Hl=d,fn=null;break}e:{var T=u,k=g.return,Q=g,ue=d;if(d=Pn,Q.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ce=ue,ze=Q,ct=ze.tag;if(!(ze.mode&1)&&(ct===0||ct===11||ct===15)){var nt=ze.alternate;nt?(ze.updateQueue=nt.updateQueue,ze.memoizedState=nt.memoizedState,ze.lanes=nt.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ut=Vx(k);if(Ut!==null){Ut.flags&=-257,Wx(Ut,k,Q,T,d),Ut.mode&1&&Hx(T,Ce,d),d=Ut,ue=Ce;var Ze=d.updateQueue;if(Ze===null){var On=new Set;On.add(ue),d.updateQueue=On}else Ze.add(ue);break e}else{if(!(d&1)){Hx(T,Ce,d),Kp();break e}ue=Error(o(426))}}else if(Xt&&Q.mode&1){var Ei=Vx(k);if(Ei!==null){!(Ei.flags&65536)&&(Ei.flags|=256),Wx(Ei,k,Q,T,d),mp(ue);break e}}T=ue,mn!==4&&(mn=2),Vl===null?Vl=[T]:Vl.push(T),ue=Cp(ue,Q),Q=k;do{switch(Q.tag){case 3:Q.flags|=65536,d&=-d,Q.lanes|=d;var ie=zx(Q,ue,d);lx(Q,ie);break e;case 1:T=ue;var $=Q.type,ce=Q.stateNode;if(!(Q.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(os===null||!os.has(ce)))){Q.flags|=65536,d&=-d,Q.lanes|=d;var Fe=Ux(Q,T,d);lx(Q,Fe);break e}}Q=Q.return}while(Q!==null)}MA(g)}catch(Ye){d=Ye,fn===g&&g!==null&&(fn=g=g.return);continue}break}while(1)}function _A(){var u=gf.current;return gf.current=tf,u===null?tf:u}function Kp(){(mn===0||mn===3||mn===2)&&(mn=4),un===null||!(ga&268435455)&&!(vf&268435455)||cs(un,Pn)}function Sf(u,d){var g=yt;yt|=2;var A=_A();un===u&&Pn===d||eo(u,d);do try{B2();break}catch(M){bA(u,M)}while(1);if(sp(),yt=g,gf.current=A,fn!==null)throw Error(o(261));return un=null,Pn=0,mn}function B2(){for(;fn!==null;)SA(fn)}function I2(){for(;fn!==null&&!i2();)SA(fn)}function SA(u){var d=TA(u.alternate,u,ai);u.memoizedProps=u.pendingProps,d===null?MA(u):fn=d,Up.current=null}function MA(u){var d=u;do{var g=d.alternate;if(u=d.return,d.flags&32768){if(g=_2(g,d),g!==null){g.flags&=32767,fn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{mn=6,fn=null;return}}else if(g=A2(g,d,ai),g!==null){fn=g;return}if(d=d.sibling,d!==null){fn=d;return}fn=d=u}while(d!==null);mn===0&&(mn=5)}function to(u,d){var g=Lt,A=an.transition;try{an.transition=null,Lt=1,R2(u,d,g)}finally{an.transition=A,Lt=g}return null}function R2(u,d,g){do no();while(as!==null);if(yt&6)throw Error(o(327));var A=u.finishedWork,M=u.finishedLanes;if(A===null)return null;if(u.finishedWork=null,u.finishedLanes=0,A===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var T=A.lanes|A.childLanes;if(n2(u,T),u===un&&(fn=un=null,Pn=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||xf||(xf=!0,PA(np,function(){return no(),null})),T=(A.flags&15990)!==0,A.subtreeFlags&15990||T){T=an.transition,an.transition=null;var k=Lt;Lt=1;var Q=yt;yt|=4,Up.current=null,M2(u,A),C2(u,A),J(u.containerInfo),u.current=A,E2(A),r2(),yt=Q,Lt=k,an.transition=T}else u.current=A;if(xf&&(xf=!1,as=u,Af=M),T=u.pendingLanes,T===0&&(os=null),a2(A.stateNode),$n(u,_n()),d!==null)for(g=u.onRecoverableError,A=0;A<d.length;A++)g(d[A]);if(yf)throw yf=!1,u=jp,jp=null,u;return Af&1&&u.tag!==0&&no(),T=u.pendingLanes,T&1?u===Jp?Wl++:(Wl=0,Jp=u):Wl=0,nr(),null}function no(){if(as!==null){var u=ix(Af),d=an.transition,g=Lt;try{if(an.transition=null,Lt=16>u?16:u,as===null)var A=!1;else{if(u=as,as=null,Af=0,yt&6)throw Error(o(331));var M=yt;for(yt|=4,Re=u.current;Re!==null;){var T=Re,k=T.child;if(Re.flags&16){var Q=T.deletions;if(Q!==null){for(var ue=0;ue<Q.length;ue++){var Ce=Q[ue];for(Re=Ce;Re!==null;){var ze=Re;switch(ze.tag){case 0:case 11:case 15:$s(8,ze,T)}var ct=ze.child;if(ct!==null)ct.return=ze,Re=ct;else for(;Re!==null;){ze=Re;var nt=ze.sibling,Ut=ze.return;if(cA(ze),ze===Ce){Re=null;break}if(nt!==null){nt.return=Ut,Re=nt;break}Re=Ut}}}var Ze=T.alternate;if(Ze!==null){var On=Ze.child;if(On!==null){Ze.child=null;do{var Ei=On.sibling;On.sibling=null,On=Ei}while(On!==null)}}Re=T}}if(T.subtreeFlags&2064&&k!==null)k.return=T,Re=k;else e:for(;Re!==null;){if(T=Re,T.flags&2048)switch(T.tag){case 0:case 11:case 15:$s(9,T,T.return)}var ie=T.sibling;if(ie!==null){ie.return=T.return,Re=ie;break e}Re=T.return}}var $=u.current;for(Re=$;Re!==null;){k=Re;var ce=k.child;if(k.subtreeFlags&2064&&ce!==null)ce.return=k,Re=ce;else e:for(k=$;Re!==null;){if(Q=Re,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:zl(9,Q)}}catch(Ye){ei(Q,Q.return,Ye)}if(Q===k){Re=null;break e}var Fe=Q.sibling;if(Fe!==null){Fe.return=Q.return,Re=Fe;break e}Re=Q.return}}if(yt=M,nr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Nu,u)}catch{}A=!0}return A}finally{Lt=g,an.transition=d}}return!1}function CA(u,d,g){d=Cp(g,d),d=zx(u,d,1),ss(u,d),d=Wn(),u=_f(u,1),u!==null&&(El(u,1,d),$n(u,d))}function ei(u,d,g){if(u.tag===3)CA(u,u,g);else for(;d!==null;){if(d.tag===3){CA(d,u,g);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(os===null||!os.has(A))){u=Cp(g,u),u=Ux(d,u,1),ss(d,u),u=Wn(),d=_f(d,1),d!==null&&(El(d,1,u),$n(d,u));break}}d=d.return}}function L2(u,d,g){var A=u.pingCache;A!==null&&A.delete(d),d=Wn(),u.pingedLanes|=u.suspendedLanes&g,un===u&&(Pn&g)===g&&(mn===4||mn===3&&(Pn&130023424)===Pn&&500>_n()-Vp?eo(u,0):Hp|=g),$n(u,d)}function EA(u,d){d===0&&(u.mode&1?(d=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):d=1);var g=Wn();u=_f(u,d),u!==null&&(El(u,d,g),$n(u,g))}function D2(u){var d=u.memoizedState,g=0;d!==null&&(g=d.retryLane),EA(u,g)}function F2(u,d){var g=0;switch(u.tag){case 13:var A=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:A=u.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(d),EA(u,g)}var TA;TA=function(u,d,g){if(u!==null)if(u.memoizedProps!==d.pendingProps||bn.current)oi=!0;else{if(!(u.lanes&g)&&!(d.flags&128))return oi=!1,b2(u,d,g);oi=!!(u.flags&131072)}else oi=!1,Xt&&d.flags&1048576&&px(d,Ju,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var M=wr(d,kt.current);aa(d,g),M=wp(null,d,A,u,M,g);var T=bp();return d.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,qn(A)?(T=!0,Lu(d)):T=!1,d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,lp(d),M.updater=Wu,d.stateNode=M,M._reactInternals=d,up(d,A,u,g),d=Pp(null,d,A,!0,T,g)):(d.tag=0,Xt&&T&&fp(d),Vn(null,d,M,g),d=d.child),d;case 16:A=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,M=A._init,A=M(A._payload),d.type=A,M=d.tag=N2(A),u=Gi(A,u),M){case 0:d=Tp(null,d,A,u,g);break e;case 1:d=Zx(null,d,A,u,g);break e;case 11:d=Xx(null,d,A,u,g);break e;case 14:d=Yx(null,d,A,Gi(A.type,u),g);break e}throw Error(o(306,A,""))}return d;case 0:return A=d.type,M=d.pendingProps,M=d.elementType===A?M:Gi(A,M),Tp(u,d,A,M,g);case 1:return A=d.type,M=d.pendingProps,M=d.elementType===A?M:Gi(A,M),Zx(u,d,A,M,g);case 3:e:{if($x(d),u===null)throw Error(o(387));A=d.pendingProps,T=d.memoizedState,M=T.element,ax(u,d),Vu(d,A,null,g);var k=d.memoizedState;if(A=k.element,le&&T.isDehydrated)if(T={element:A,isDehydrated:!1,cache:k.cache,transitions:k.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){M=Error(o(423)),d=eA(u,d,A,g,M);break e}else if(A!==M){M=Error(o(424)),d=eA(u,d,A,g,M);break e}else for(le&&(si=ee(d.stateNode.containerInfo),ri=d,Xt=!0,zi=null,Tl=!1),g=Ax(d,null,A,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ua(),A===M){d=Er(u,d,g);break e}Vn(u,d,A,g)}d=d.child}return d;case 5:return wx(d),u===null&&pp(d),A=d.type,M=d.pendingProps,T=u!==null?u.memoizedProps:null,k=M.children,Ae(A,M)?k=null:T!==null&&Ae(A,T)&&(d.flags|=32),qx(u,d),Vn(u,d,k,g),d.child;case 6:return u===null&&pp(d),null;case 13:return tA(u,d,g);case 4:return gp(d,d.stateNode.containerInfo),A=d.pendingProps,u===null?d.child=fa(d,null,A,g):Vn(u,d,A,g),d.child;case 11:return A=d.type,M=d.pendingProps,M=d.elementType===A?M:Gi(A,M),Xx(u,d,A,M,g);case 7:return Vn(u,d,d.pendingProps,g),d.child;case 8:return Vn(u,d,d.pendingProps.children,g),d.child;case 12:return Vn(u,d,d.pendingProps.children,g),d.child;case 10:e:{if(A=d.type._context,M=d.pendingProps,T=d.memoizedProps,k=M.value,ox(d,A,k),T!==null)if(tr(T.value,k)){if(T.children===M.children&&!bn.current){d=Er(u,d,g);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var Q=T.dependencies;if(Q!==null){k=T.child;for(var ue=Q.firstContext;ue!==null;){if(ue.context===A){if(T.tag===1){ue=_r(-1,g&-g),ue.tag=2;var Ce=T.updateQueue;if(Ce!==null){Ce=Ce.shared;var ze=Ce.pending;ze===null?ue.next=ue:(ue.next=ze.next,ze.next=ue),Ce.pending=ue}}T.lanes|=g,ue=T.alternate,ue!==null&&(ue.lanes|=g),ap(T.return,g,d),Q.lanes|=g;break}ue=ue.next}}else if(T.tag===10)k=T.type===d.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(o(341));k.lanes|=g,Q=k.alternate,Q!==null&&(Q.lanes|=g),ap(k,g,d),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===d){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}Vn(u,d,M.children,g),d=d.child}return d;case 9:return M=d.type,A=d.pendingProps.children,aa(d,g),M=Ai(M),A=A(M),d.flags|=1,Vn(u,d,A,g),d.child;case 14:return A=d.type,M=Gi(A,d.pendingProps),M=Gi(A.type,M),Yx(u,d,A,M,g);case 15:return Qx(u,d,d.type,d.pendingProps,g);case 17:return A=d.type,M=d.pendingProps,M=d.elementType===A?M:Gi(A,M),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,qn(A)?(u=!0,Lu(d)):u=!1,aa(d,g),dx(d,A,M),up(d,A,M,g),Pp(null,d,A,!0,u,g);case 19:return sA(u,d,g);case 22:return Kx(u,d,g)}throw Error(o(156,d.tag))};function PA(u,d){return ep(u,d)}function O2(u,d,g,A){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(u,d,g,A){return new O2(u,d,g,A)}function qp(u){return u=u.prototype,!(!u||!u.isReactComponent)}function N2(u){if(typeof u=="function")return qp(u)?1:0;if(u!=null){if(u=u.$$typeof,u===y)return 11;if(u===_)return 14}return 2}function us(u,d){var g=u.alternate;return g===null?(g=Ci(u.tag,d,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=d,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,d=u.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Mf(u,d,g,A,M,T){var k=2;if(A=u,typeof u=="function")qp(u)&&(k=1);else if(typeof u=="string")k=5;else e:switch(u){case f:return io(g.children,M,T,d);case h:k=8,M|=8;break;case p:return u=Ci(12,g,d,M|2),u.elementType=p,u.lanes=T,u;case x:return u=Ci(13,g,d,M),u.elementType=x,u.lanes=T,u;case w:return u=Ci(19,g,d,M),u.elementType=w,u.lanes=T,u;case S:return Cf(g,M,T,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:k=10;break e;case v:k=9;break e;case y:k=11;break e;case _:k=14;break e;case b:k=16,A=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return d=Ci(k,g,d,M),d.elementType=u,d.type=A,d.lanes=T,d}function io(u,d,g,A){return u=Ci(7,u,A,d),u.lanes=g,u}function Cf(u,d,g,A){return u=Ci(22,u,A,d),u.elementType=S,u.lanes=g,u.stateNode={},u}function Zp(u,d,g){return u=Ci(6,u,null,d),u.lanes=g,u}function $p(u,d,g){return d=Ci(4,u.children!==null?u.children:[],u.key,d),d.lanes=g,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function k2(u,d,g,A,M){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=He,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zh(0),this.expirationTimes=Zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.identifierPrefix=A,this.onRecoverableError=M,le&&(this.mutableSourceEagerHydrationData=null)}function BA(u,d,g,A,M,T,k,Q,ue){return u=new k2(u,d,g,Q,ue),d===1?(d=1,T===!0&&(d|=8)):d=0,T=Ci(3,null,null,d),u.current=T,T.stateNode=u,T.memoizedState={element:A,isDehydrated:g,cache:null,transitions:null},lp(T),u}function IA(u){if(!u)return xi;u=u._reactInternals;e:{if(B(u)!==u||u.tag!==1)throw Error(o(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(qn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(u.tag===1){var g=u.type;if(qn(g))return tx(u,g,d)}return d}function RA(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=W(d),u===null?null:u.stateNode}function LA(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<d?g:d}}function em(u,d){LA(u,d),(u=u.alternate)&&LA(u,d)}function G2(u){return u=W(u),u===null?null:u.stateNode}function z2(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var d=Wn();Mi(u,134217728,d),em(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Wn(),g=ls(u);Mi(u,g,d),em(u,g)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var g=Cl(d.pendingLanes);g!==0&&($h(d,g|1),$n(d,_n()),!(yt&6)&&(va(),nr()))}break;case 13:var A=Wn();wA(function(){return Mi(u,1,A)}),em(u,1)}},t.batchedUpdates=function(u,d){var g=yt;yt|=1;try{return u(d)}finally{yt=g,yt===0&&(va(),ku&&nr())}},t.createComponentSelector=function(u){return{$$typeof:ff,value:u}},t.createContainer=function(u,d,g,A,M,T,k){return BA(u,d,!1,null,g,A,M,T,k)},t.createHasPseudoClassSelector=function(u){return{$$typeof:df,value:u}},t.createHydrationContainer=function(u,d,g,A,M,T,k,Q,ue){return u=BA(g,A,!0,u,M,T,k,Q,ue),u.context=IA(null),g=u.current,A=Wn(),M=ls(g),T=_r(A,M),T.callback=d??null,ss(g,T),u.current.lanes=M,El(u,M,A),$n(u,A),u},t.createPortal=function(u,d,g){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:u,containerInfo:d,implementation:g}},t.createRoleSelector=function(u){return{$$typeof:hf,value:u}},t.createTestNameSelector=function(u){return{$$typeof:pf,value:u}},t.createTextSelector=function(u){return{$$typeof:mf,value:u}},t.deferredUpdates=function(u){var d=Lt,g=an.transition;try{return an.transition=null,Lt=16,u()}finally{Lt=d,an.transition=g}},t.discreteUpdates=function(u,d,g,A,M){var T=Lt,k=an.transition;try{return an.transition=null,Lt=1,u(d,g,A,M)}finally{Lt=T,an.transition=k,yt===0&&va()}},t.findAllNodes=zp,t.findBoundingRects=function(u,d){if(!bt)throw Error(o(363));d=zp(u,d),u=[];for(var g=0;g<d.length;g++)u.push(G(d[g]));for(d=u.length-1;0<d;d--){g=u[d];for(var A=g.x,M=A+g.width,T=g.y,k=T+g.height,Q=d-1;0<=Q;Q--)if(d!==Q){var ue=u[Q],Ce=ue.x,ze=Ce+ue.width,ct=ue.y,nt=ct+ue.height;if(A>=Ce&&T>=ct&&M<=ze&&k<=nt){u.splice(d,1);break}else if(A!==Ce||g.width!==ue.width||nt<T||ct>k){if(!(T!==ct||g.height!==ue.height||ze<A||Ce>M)){Ce>A&&(ue.width+=Ce-A,ue.x=A),ze<M&&(ue.width=M-Ce),u.splice(d,1);break}}else{ct>T&&(ue.height+=ct-T,ue.y=T),nt<k&&(ue.height=k-ct),u.splice(d,1);break}}}return u},t.findHostInstance=RA,t.findHostInstanceWithNoPortals=function(u){return u=O(u),u=u!==null?H(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return RA(u)},t.flushControlled=function(u){var d=yt;yt|=1;var g=an.transition,A=Lt;try{an.transition=null,Lt=1,u()}finally{Lt=A,an.transition=g,yt=d,yt===0&&(va(),nr())}},t.flushPassiveEffects=no,t.flushSync=wA,t.focusWithin=function(u,d){if(!bt)throw Error(o(363));for(u=Np(u),d=yA(u,d),d=Array.from(d),u=0;u<d.length;){var g=d[u++];if(!se(g)){if(g.tag===5&&Me(g.stateNode))return!0;for(g=g.child;g!==null;)d.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(u,d){if(!bt)throw Error(o(363));var g=0,A=[];u=[Np(u),0];for(var M=0;M<u.length;){var T=u[M++],k=u[M++],Q=d[k];if((T.tag!==5||!se(T))&&(kp(T,Q)&&(A.push(Gp(Q)),k++,k>g&&(g=k)),k<d.length))for(T=T.child;T!==null;)u.push(T,k),T=T.sibling}if(g<d.length){for(u=[];g<d.length;g++)u.push(Gp(d[g]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Z(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:G2,findFiberByHostInstance:u.findFiberByHostInstance||z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{Nu=d.inject(u),er=d}catch{}u=!!d.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,d,g,A){if(!bt)throw Error(o(363));u=zp(u,d);var M=Ee(u,g,A).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(u,d){var g=d._getVersion;g=g(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,g]:u.mutableSourceEagerHydrationData.push(d,g)},t.runWithPriority=function(u,d){var g=Lt;try{return Lt=u,d()}finally{Lt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,d,g,A){var M=d.current,T=Wn(),k=ls(M);return g=IA(g),d.context===null?d.context=g:d.pendingContext=g,d=_r(T,k),d.payload={element:u},A=A===void 0?null:A,A!==null&&(d.callback=A),ss(M,d),u=Mi(M,k,T),u!==null&&Hu(u,M,k),k},t};JM.exports=CO;var EO=JM.exports;const TO=N_(EO),iy={},PO=i=>void Object.assign(iy,i);function BO(i,e){function t(f,{args:h=[],attach:p,...m},v){let y=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;x=ka(w,{type:f,root:v,attach:p,primitive:!0})}else{const w=iy[y];if(!w)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=ka(new w(...h),{type:f,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),y!=="inject"&&km(x,m),x}function n(f,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?Nm(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||ka(h,{}),h.__r3f.parent=f,d0(h),Ga(h)}}function r(f,h,p){let m=!1;if(h){var v,y;if((v=h.__r3f)!=null&&v.attach)Nm(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const x=f.children.filter(_=>_!==h),w=x.indexOf(p);f.children=[...x.slice(0,w),h,...x.slice(w)],m=!0}m||(y=f.__r3f)==null||y.objects.push(h),h.__r3f||ka(h,{}),h.__r3f.parent=f,d0(h),Ga(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,v,y;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(S=>S!==h)),(v=h.__r3f)!=null&&v.attach)fw(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var x;f.remove(h),(x=h.__r3f)!=null&&x.root&&GO(Od(h),h)}const _=(y=h.__r3f)==null?void 0:y.primitive,b=!_&&(p===void 0?h.dispose!==null:p);if(!_){var w;s((w=h.__r3f)==null?void 0:w.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const S=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?u0.unstable_scheduleCallback(u0.unstable_IdlePriority,S):S()}Ga(f)}}function a(f,h,p,m){var v;const y=(v=f.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(h,p,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&n(x,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>n(x,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(y,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),n(y,x),x.raycast&&x.__r3f.eventCount&&Od(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}const l=()=>{};return{reconciler:TO({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,n(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:x=[],children:w,..._}=m,{args:b=[],children:S,...C}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,E)=>R!==b[E]))return[!0];const P=tC(f,_,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(f,[h,p],m,v,y,x){h?a(f,m,y,x):km(f,p)},commitMount(f,h,p,m){var v;const y=(v=f.__r3f)!=null?v:{};f.raycast&&y.handlers&&y.eventCount&&Od(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>ka(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&fw(m,f,p),f.isObject3D&&(f.visible=!1),Ga(f)},unhideInstance(f,h){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&Nm(v,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),Ga(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ja.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Wt.fun(performance.now)?performance.now:Wt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Wt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Wt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:km}}var aw,lw;const Om=i=>"colorSpace"in i||"outputColorSpace"in i,QM=()=>{var i;return(i=iy.ColorManagement)!=null?i:null},KM=i=>i&&i.isOrthographicCamera,IO=i=>i&&i.hasOwnProperty("current"),yu=typeof window<"u"&&((aw=window.document)!=null&&aw.createElement||((lw=window.navigator)==null?void 0:lw.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function qM(i){const e=L.useRef(i);return yu(()=>void(e.current=i),[i]),e}function RO({set:i}){return yu(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class ZM extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ZM.getDerivedStateFromError=()=>({error:!0});const $M="__default",cw=new Map,LO=i=>i&&!!i.memoized&&!!i.changes;function eC(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const ic=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function Od(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Wt={obj:i=>i===Object(i)&&!Wt.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Wt.str(i)||Wt.num(i)||Wt.boo(i))return i===e;const s=Wt.obj(i);if(s&&n==="reference")return i===e;const o=Wt.arr(i);if(o&&t==="reference")return i===e;if((o||s)&&i===e)return!0;let a;for(a in i)if(!(a in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(a in r?e:i)if(!Wt.equ(i[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:i)if(i[a]!==e[a])return!1;if(Wt.und(a)){if(o&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function DO(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function FO(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function ka(i,e){const t=i;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function f0(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,o)=>s[o],i),{target:t,key:r}}else return{target:t,key:e}}const uw=/-\d+$/;function Nm(i,e,t){if(Wt.str(t)){if(uw.test(t)){const s=t.replace(uw,""),{target:o,key:a}=f0(i,s);Array.isArray(o[a])||(o[a]=[])}const{target:n,key:r}=f0(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function fw(i,e,t){var n,r;if(Wt.str(t)){const{target:s,key:o}=f0(i,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function tC(i,{children:e,key:t,ref:n,...r},{children:s,key:o,ref:a,...l}={},c=!1){const f=i.__r3f,h=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)r.hasOwnProperty(v[y])||h.unshift([v[y],$M+"remove"])}h.forEach(([v,y])=>{var x;if((x=i.__r3f)!=null&&x.primitive&&v==="object"||Wt.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,y,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),p.push([v,y,!1,w]);for(const _ in r){const b=r[_];_.startsWith(`${v}-`)&&p.push([_,b,!1,_.split("-")])}});const m={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}const OO=typeof process<"u"&&!1;function km(i,e){var t;const n=i.__r3f,r=n==null?void 0:n.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=LO(e)?e:tC(i,e),l=n==null?void 0:n.eventCount;i.__r3f&&(i.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,y,x]=a[p];if(Om(i)){const S="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?S:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?S:C)}let w=i,_=w[m];if(x.length&&(_=x.reduce((b,S)=>b[S],i),!(_&&_.set))){const[b,...S]=x.reverse();w=S.reverse().reduce((C,P)=>C[P],i),m=b}if(v===$M+"remove")if(w.constructor){let b=cw.get(w.constructor);b||(b=new w.constructor,cw.set(w.constructor,b)),v=b[m]}else v=0;if(y&&n)v?n.handlers[m]=v:delete n.handlers[m],n.eventCount=Object.keys(n.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Go)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&(OO?_.constructor.name===v.constructor.name:_.constructor===v.constructor))_.copy(v);else if(v!==void 0){var c;const b=(c=_)==null?void 0:c.isColor;!b&&_.setScalar?_.setScalar(v):_ instanceof Go&&v instanceof Go?_.mask=v.mask:_.set(v),!QM()&&s&&!s.linear&&b&&_.convertSRGBToLinear()}}else{var f;if(w[m]=v,(f=w[m])!=null&&f.isTexture&&w[m].format===ti&&w[m].type===Qr&&s){const b=w[m];Om(b)&&Om(s.gl)?b.colorSpace=s.gl.outputColorSpace:b.encoding=s.gl.outputEncoding}}Ga(i)}if(n&&n.parent&&i.raycast&&l!==n.eventCount){const p=Od(i).getState().internal,m=p.interaction.indexOf(i);m>-1&&p.interaction.splice(m,1),n.eventCount&&p.interaction.push(i)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=i.__r3f)!=null&&t.parent&&d0(i),i}function Ga(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function d0(i){i.onUpdate==null||i.onUpdate(i)}function NO(i,e){i.manual||(KM(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function dd(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function kO(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ja.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ja.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ja.ContinuousEventPriority;default:return ja.DefaultEventPriority}}function nC(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function GO(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{nC(t.capturedMap,e,n,r)})}function zO(i){function e(l){const{internal:c}=i.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function n(l,c){const f=i.getState(),h=new Set,p=[],m=c?c(f.internal.interaction):f.internal.interaction;for(let w=0;w<m.length;w++){const _=ic(m[w]);_&&(_.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(w){const _=ic(w);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(w,!0):[]}let y=m.flatMap(v).sort((w,_)=>{const b=ic(w.object),S=ic(_.object);return!b||!S?w.distance-_.distance:S.events.priority-b.events.priority||w.distance-_.distance}).filter(w=>{const _=dd(w);return h.has(_)?!1:(h.add(_),!0)});f.events.filter&&(y=f.events.filter(y,f));for(const w of y){let _=w.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...w,eventObject:_}),_=_.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let w of f.internal.capturedMap.get(l.pointerId).values())h.has(dd(w.intersection))||p.push(w.intersection);return p}function r(l,c,f,h){const p=i.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=ic(v.object)||p,{raycaster:x,pointer:w,camera:_,internal:b}=y,S=new F(w.x,w.y,0).unproject(_),C=I=>{var O,W;return(O=(W=b.capturedMap.get(I))==null?void 0:W.has(v.eventObject))!=null?O:!1},P=I=>{const O={intersection:v,target:c.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(v.eventObject,O):b.capturedMap.set(I,new Map([[v.eventObject,O]])),c.target.setPointerCapture(I)},R=I=>{const O=b.capturedMap.get(I);O&&nC(b.capturedMap,v.eventObject,O,I)};let E={};for(let I in c){let O=c[I];typeof O!="function"&&(E[I]=O)}let B={...v,...E,pointer:w,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const I="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(B.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(h(B),m.stopped===!0)break}}return l}function s(l){const{internal:c}=i.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(dd(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=i.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=i.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=n(f,m?t:void 0),w=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(b=>b.eventObject)),v&&!x.length&&w<=2&&(o(f,p.interaction),h&&h(f)),m&&s(x);function _(b){const S=b.eventObject,C=S.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=dd(b),E=p.hovered.get(R);E?E.stopped&&b.stopPropagation():(p.hovered.set(R,b),P.onPointerOver==null||P.onPointerOver(b),P.onPointerEnter==null||P.onPointerEnter(b))}P.onPointerMove==null||P.onPointerMove(b)}else{const R=P[l];R?(!v||p.initialHits.includes(S))&&(o(f,p.interaction.filter(E=>!p.initialHits.includes(E))),R(b)):v&&p.initialHits.includes(S)&&o(f,p.interaction.filter(E=>!p.initialHits.includes(E)))}}r(x,f,w,_)}}return{handlePointer:a}}const iC=i=>!!(i!=null&&i.render),rC=L.createContext(null),UO=(i,e)=>{const t=wO((a,l)=>{const c=new F,f=new F,h=new F;function p(w=l().camera,_=f,b=l().size){const{width:S,height:C,top:P,left:R}=b,E=S/C;_.isVector3?h.copy(_):h.set(..._);const B=w.getWorldPosition(c).distanceTo(h);if(KM(w))return{width:S/w.zoom,height:C/w.zoom,top:P,left:R,factor:1,distance:B,aspect:E};{const I=w.fov*Math.PI/180,O=2*Math.tan(I/2)*B,W=O*(S/C);return{width:W,height:O,top:P,left:R,factor:S/W,distance:B,aspect:E}}}let m;const v=w=>a(_=>({performance:{..._.performance,current:w}})),y=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>i(l(),w),advance:(w,_)=>e(w,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $v,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&v(w.performance.min),m=setTimeout(()=>v(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(_=>({..._,events:{..._.events,...w}})),setSize:(w,_,b,S,C)=>{const P=l().camera,R={width:w,height:_,top:S||0,left:C||0,updateStyle:b};a(E=>({size:R,viewport:{...E.viewport,...p(P,f,R)}}))},setDpr:w=>a(_=>{const b=eC(w);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(w="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,w!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,_,b)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:w,priority:_,store:b}),S.subscribers=S.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==w))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,NO(a,l),f.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>i(a)),t};let hd,HO=new Set,VO=new Set,WO=new Set;function Gm(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function rc(i,e){switch(i){case"before":return Gm(HO,e);case"after":return Gm(VO,e);case"tail":return Gm(WO,e)}}let zm,Um;function Hm(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),zm=e.internal.subscribers,hd=0;hd<zm.length;hd++)Um=zm[hd],Um.ref.current(Um.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jO(i){let e=!1,t=!1,n,r,s;function o(c){r=requestAnimationFrame(o),e=!0,n=0,rc("before",c),t=!0;for(const h of i.values()){var f;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(n+=Hm(c,s))}if(t=!1,rc("after",c),n===0)return rc("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,f=1){var h;if(!c)return i.forEach(p=>a(p.store.getState(),f));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,h,p){if(f&&rc("before",c),h)Hm(c,h,p);else for(const m of i.values())Hm(c,m.store.getState());f&&rc("after",c)}return{loop:o,invalidate:a,advance:l}}function sC(){const i=L.useContext(rC);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Li(i=t=>t,e){return sC()(i,e)}function _l(i,e=0){const t=sC(),n=t.getState().internal.subscribe,r=qM(i);return yu(()=>n(r,e,t),[e,n,t]),null}const dw=new WeakMap;function oC(i,e){return function(t,...n){let r=dw.get(t);return r||(r=new t,dw.set(t,r)),i&&i(r),Promise.all(n.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,DO(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function xu(i,e,t,n){const r=Array.isArray(e)?e:[e],s=_O(oC(t,n),[i,...r],{equal:Wt.equ});return Array.isArray(e)?s:s[0]}xu.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return SO(oC(t),[i,...n])};xu.clear=function(i,e){const t=Array.isArray(e)?e:[e];return MO([i,...t])};const cl=new Map,{invalidate:hw,advance:pw}=jO(cl),{reconciler:Kd,applyProps:Oa}=BO(cl,kO),Na={objects:"shallow",strict:!1},JO=(i,e)=>{const t=typeof i=="function"?i(e):i;return iC(t)?t:new Pv({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function XO(i,e){const t=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:n,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:n,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:o}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function YO(i){const e=cl.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||UO(hw,pw),o=t||Kd.createContainer(s,ja.ConcurrentRoot,null,!1,null,"",r,null);e||cl.set(i,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:h,size:p,scene:m,events:v,onCreated:y,shadows:x=!1,linear:w=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:C="always",dpr:P=[1,2],performance:R,raycaster:E,camera:B,onPointerMissed:I}=f,O=s.getState(),W=O.gl;O.gl||O.set({gl:W=JO(h,i)});let V=O.raycaster;V||O.set({raycaster:V=new UM});const{params:H,...q}=E||{};if(Wt.equ(q,V,Na)||Oa(V,{...q}),Wt.equ(H,V.params,Na)||Oa(V,{params:{...V.params,...H}}),!O.camera||O.camera===c&&!Wt.equ(c,B,Na)){c=B;const J=B instanceof eu,de=J?B:S?new Qi(0,0,0,0,.1,1e3):new Qt(75,0,.1,1e3);J||(de.position.z=5,B&&(Oa(de,B),("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(de.manual=!0,de.updateProjectionMatrix())),!O.camera&&!(B!=null&&B.rotation)&&de.lookAt(0,0,0)),O.set({camera:de}),V.camera=de}if(!O.scene){let J;m!=null&&m.isScene?J=m:(J=new Bv,m&&Oa(J,m)),O.set({scene:ka(J)})}if(!O.xr){var Z;const J=(ae,xe)=>{const Ae=s.getState();Ae.frameloop!=="never"&&pw(ae,!0,Ae,xe)},de=()=>{const ae=s.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?J:null),ae.gl.xr.isPresenting||hw(ae)},Y={connect(){const ae=s.getState().gl;ae.xr.addEventListener("sessionstart",de),ae.xr.addEventListener("sessionend",de)},disconnect(){const ae=s.getState().gl;ae.xr.removeEventListener("sessionstart",de),ae.xr.removeEventListener("sessionend",de)}};typeof((Z=W.xr)==null?void 0:Z.addEventListener)=="function"&&Y.connect(),O.set({xr:Y})}if(W.shadowMap){const J=W.shadowMap.enabled,de=W.shadowMap.type;if(W.shadowMap.enabled=!!x,Wt.boo(x))W.shadowMap.type=mc;else if(Wt.str(x)){var re;const Y={basic:K_,percentage:vh,soft:mc,variance:So};W.shadowMap.type=(re=Y[x])!=null?re:mc}else Wt.obj(x)&&Object.assign(W.shadowMap,x);(J!==W.shadowMap.enabled||de!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const z=QM();z&&("enabled"in z?z.enabled=!b:"legacyMode"in z&&(z.legacyMode=b)),l||Oa(W,{outputEncoding:w?3e3:3001,toneMapping:_?Yi:mv}),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==w&&O.set(()=>({linear:w})),O.flat!==_&&O.set(()=>({flat:_})),h&&!Wt.fun(h)&&!iC(h)&&!Wt.equ(h,W,Na)&&Oa(W,h),v&&!O.events.handlers&&O.set({events:v(s)});const K=XO(i,p);return Wt.equ(K,O.size,Na)||O.setSize(K.width,K.height,K.updateStyle,K.top,K.left),P&&O.viewport.dpr!==eC(P)&&O.setDpr(P),O.frameloop!==C&&O.setFrameloop(C),O.onPointerMissed||O.set({onPointerMissed:I}),R&&!Wt.equ(R,O.performance,Na)&&O.set(J=>({performance:{...J.performance,...R}})),a=y,l=!0,this},render(f){return l||this.configure(),Kd.updateContainer(X(QO,{store:s,children:f,onCreated:a,rootElement:i}),o,null,()=>{}),s},unmount(){aC(i)}}}function QO({store:i,children:e,onCreated:t,rootElement:n}){return yu(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),X(rC.Provider,{value:i,children:e})}function aC(i,e){const t=cl.get(i),n=t==null?void 0:t.fiber;if(n){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Kd.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),FO(r),cl.delete(i),e&&e(i)}catch{}},500)})}}Kd.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});const Vm={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function KO(i){const{handlePointer:e}=zO(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Vm).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,a])=>{const[l,c]=Vm[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[a]=Vm[s];n.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function mw(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function qO({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,f=L.useRef(!1);L.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,p,m]=L.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:_,top:b,width:S,height:C,bottom:P,right:R,x:E,y:B}=a.current.element.getBoundingClientRect(),I={left:_,top:b,width:S,height:C,bottom:P,right:R,x:E,y:B};a.current.element instanceof HTMLElement&&n&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),f.current&&!tN(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[w,c?mw(w,c):w,l?mw(w,l):w]},[o,n,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=w=>{!w||w===a.current.element||(v(),a.current.element=w,a.current.scrollContainers=lC(w),y())};return $O(m,!!e),ZO(p),L.useEffect(()=>{v(),y()},[e,m,p]),L.useEffect(()=>v,[]),[x,s,h]}function ZO(i){L.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function $O(i,e){L.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function lC(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...lC(i.parentElement)]}const eN=["x","y","top","bottom","left","right","width","height"],tN=(i,e)=>eN.every(t=>i[t]===e[t]);var nN=Object.defineProperty,iN=Object.defineProperties,rN=Object.getOwnPropertyDescriptors,gw=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,oN=Object.prototype.propertyIsEnumerable,vw=(i,e,t)=>e in i?nN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,yw=(i,e)=>{for(var t in e||(e={}))sN.call(e,t)&&vw(i,t,e[t]);if(gw)for(var t of gw(e))oN.call(e,t)&&vw(i,t,e[t]);return i},aN=(i,e)=>iN(i,rN(e)),xw,Aw;typeof window<"u"&&((xw=window.document)!=null&&xw.createElement||((Aw=window.navigator)==null?void 0:Aw.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function cC(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=cC(n,e,t);if(r)return r;n=e?null:n.sibling}}function uC(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const ww=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=ww;return}return ww.apply(this,arguments)};const ry=uC(L.createContext(null));class fC extends L.Component{render(){return L.createElement(ry.Provider,{value:this._reactInternals},this.props.children)}}function lN(){const i=L.useContext(ry);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const n of[i,i==null?void 0:i.alternate]){if(!n)continue;const r=cC(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[i,e])}function cN(){const i=lN(),[e]=L.useState(()=>new Map);e.clear();let t=i;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==ry&&!e.has(r)&&e.set(r,L.useContext(uC(r)))}t=t.return}return e}function uN(){const i=cN();return L.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>L.createElement(e,null,L.createElement(t.Provider,aN(yw({},n),{value:i.get(t)}))),e=>L.createElement(fC,yw({},e))),[i])}const fN=L.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:o=KO,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:w,camera:_,scene:b,onPointerMissed:S,onCreated:C,...P},R){L.useMemo(()=>PO(yO),[]);const E=uN(),[B,I]=qO({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=L.useRef(null),W=L.useRef(null);L.useImperativeHandle(R,()=>O.current);const V=qM(S),[H,q]=L.useState(!1),[Z,re]=L.useState(!1);if(H)throw H;if(Z)throw Z;const z=L.useRef(null);return yu(()=>{const J=O.current;I.width>0&&I.height>0&&J&&(z.current||(z.current=YO(J)),z.current.configure({gl:s,events:o,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:w,camera:_,scene:b,size:I,onPointerMissed:(...de)=>V.current==null?void 0:V.current(...de),onCreated:de=>{de.events.connect==null||de.events.connect(a?IO(a)?a.current:a:W.current),l&&de.setEvents({compute:(Y,ae)=>{const xe=Y[l+"X"],Ae=Y[l+"Y"];ae.pointer.set(xe/ae.size.width*2-1,-(Ae/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),C==null||C(de)}}),z.current.render(X(E,{children:X(ZM,{set:re,children:X(L.Suspense,{fallback:X(RO,{set:q}),children:e??null})})})))}),L.useEffect(()=>{const J=O.current;if(J)return()=>aC(J)},[]),X("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...r},...P,children:X("div",{ref:B,style:{width:"100%",height:"100%"},children:X("canvas",{ref:O,style:{display:"block"},children:t})})})}),sy=L.forwardRef(function(e,t){return X(fC,{children:X(fN,{...e,ref:t})})});function qr(){return qr=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},qr.apply(null,arguments)}const Au=new F,oy=new F,dN=new F,bw=new pe;function hN(i,e,t){const n=Au.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,s=t.height/2;return[n.x*r+r,-(n.y*s)+s]}function pN(i,e){const t=Au.setFromMatrixPosition(i.matrixWorld),n=oy.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),s=e.getWorldDirection(dN);return r.angleTo(s)>Math.PI/2}function mN(i,e,t,n){const r=Au.setFromMatrixPosition(i.matrixWorld),s=r.clone();s.project(e),bw.set(s.x,s.y),t.setFromCamera(bw,e);const o=t.intersectObjects(n,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function gN(i,e){if(e instanceof Qi)return e.zoom;if(e instanceof Qt){const t=Au.setFromMatrixPosition(i.matrixWorld),n=oy.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(r/2)*s)}else return 1}function vN(i,e,t){if(e instanceof Qt||e instanceof Qi){const n=Au.setFromMatrixPosition(i.matrixWorld),r=oy.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const h0=i=>Math.abs(i)<1e-10?0:i;function dC(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=h0(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const yN=(i=>e=>dC(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),xN=(i=>(e,t)=>dC(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function AN(i){return i&&typeof i=="object"&&"current"in i}const wN=L.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:f=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:v,material:y,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:_=hN,as:b="div",wrapperClass:S,pointerEvents:C="auto",...P},R)=>{const{gl:E,camera:B,scene:I,size:O,raycaster:W,events:V,viewport:H}=Li(),[q]=L.useState(()=>document.createElement(b)),Z=L.useRef(),re=L.useRef(null),z=L.useRef(0),K=L.useRef([0,0]),J=L.useRef(null),de=L.useRef(null),Y=(a==null?void 0:a.current)||V.connected||E.domElement.parentNode,ae=L.useRef(null),xe=L.useRef(!1),Ae=L.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&AN(h[0]),[h]);L.useLayoutEffect(()=>{const we=E.domElement;h&&h==="blending"?(we.style.zIndex=`${Math.floor(w[0]/2)}`,we.style.position="absolute",we.style.pointerEvents="none"):(we.style.zIndex=null,we.style.position=null,we.style.pointerEvents=null)},[h]),L.useLayoutEffect(()=>{if(re.current){const we=Z.current=V2(q);if(I.updateMatrixWorld(),f)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ie=_(re.current,B,O);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ie[0]}px,${Ie[1]}px,0);transform-origin:0 0;`}return Y&&(r?Y.prepend(q):Y.appendChild(q)),()=>{Y&&Y.removeChild(q),we.unmount()}}},[Y,f]),L.useLayoutEffect(()=>{S&&(q.className=S)},[S]);const ne=L.useMemo(()=>f?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,f]),Ue=L.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);L.useLayoutEffect(()=>{if(xe.current=!1,f){var we;(we=Z.current)==null||we.render(L.createElement("div",{ref:J,style:ne},L.createElement("div",{ref:de,style:Ue},L.createElement("div",{ref:R,className:n,style:t,children:i}))))}else{var Ie;(Ie=Z.current)==null||Ie.render(L.createElement("div",{ref:R,style:ne,className:n,children:i}))}});const Oe=L.useRef(!0);_l(we=>{if(re.current){B.updateMatrixWorld(),re.current.updateWorldMatrix(!0,!1);const Ie=f?K.current:_(re.current,B,O);if(f||Math.abs(z.current-B.zoom)>e||Math.abs(K.current[0]-Ie[0])>e||Math.abs(K.current[1]-Ie[1])>e){const fe=pN(re.current,B);let le=!1;Ae&&(Array.isArray(h)?le=h.map($e=>$e.current):h!=="blending"&&(le=[I]));const Se=Oe.current;if(le){const $e=mN(re.current,B,W,le);Oe.current=$e&&!fe}else Oe.current=!fe;Se!==Oe.current&&(p?p(!Oe.current):q.style.display=Oe.current?"block":"none");const Ge=Math.floor(w[0]/2),Te=h?Ae?[w[0],Ge]:[Ge-1,0]:w;if(q.style.zIndex=`${vN(re.current,B,Te)}`,f){const[$e,Ke]=[O.width/2,O.height/2],Ve=B.projectionMatrix.elements[5]*Ke,{isOrthographicCamera:bt,top:Ct,left:G,bottom:D,right:se}=B,be=yN(B.matrixWorldInverse),Me=bt?`scale(${Ve})translate(${h0(-(se+G)/2)}px,${h0((Ct+D)/2)}px)`:`translateZ(${Ve}px)`;let Ee=re.current.matrixWorld;c&&(Ee=B.matrixWorldInverse.clone().transpose().copyPosition(Ee).scale(re.current.scale),Ee.elements[3]=Ee.elements[7]=Ee.elements[11]=0,Ee.elements[15]=1),q.style.width=O.width+"px",q.style.height=O.height+"px",q.style.perspective=bt?"":`${Ve}px`,J.current&&de.current&&(J.current.style.transform=`${Me}${be}translate(${$e}px,${Ke}px)`,de.current.style.transform=xN(Ee,1/((l||10)/400)))}else{const $e=l===void 0?1:gN(re.current,B)*l;q.style.transform=`translate3d(${Ie[0]}px,${Ie[1]}px,0) scale(${$e})`}K.current=Ie,z.current=B.zoom}}if(!Ae&&ae.current&&!xe.current)if(f){if(J.current){const Ie=J.current.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const{isOrthographicCamera:fe}=B;if(fe||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof F?ae.current.scale.copy(P.scale.clone().divideScalar(1)):ae.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):ae.current.scale.setScalar(1/P.scale));else{const le=(l||10)/400,Se=Ie.clientWidth*le,Ge=Ie.clientHeight*le;ae.current.scale.set(Se,Ge,1)}xe.current=!0}}}else{const Ie=q.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const fe=1/H.factor,le=Ie.clientWidth*fe,Se=Ie.clientHeight*fe;ae.current.scale.set(le,Se,1),xe.current=!0}ae.current.lookAt(we.camera.position)}});const He=L.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return L.createElement("group",qr({},P,{ref:re}),h&&!Ae&&L.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ae},x||L.createElement("planeGeometry",null),y||L.createElement("shaderMaterial",{side:Ji,vertexShader:He.vertexShader,fragmentShader:He.fragmentShader})))}),_w=i=>{let e;const t=new Set,n=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,a={setState:n,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=i(n,r,a);return a},bN=i=>i?_w(i):_w,_N=i=>i;function SN(i,e=_N){const t=Rt.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Rt.useDebugValue(t),t}const Sw=i=>{const e=bN(i),t=n=>SN(e,n);return Object.assign(t,e),t},MN=i=>i?Sw(i):Sw;let sc=0;const CN=MN(i=>(Wa.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-sc)/(n-sc)*100})},Wa.onLoad=()=>{i({active:!1})},Wa.onError=e=>i(t=>({errors:[...t.errors,e]})),Wa.onProgress=(e,t,n)=>{t===n&&(sc=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-sc)/(n-sc)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),EN=(()=>parseInt(pl.replace(/\D+/g,"")))();function Mw(i,e){if(e===zS)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===Xd||e===yv){let t=i.getIndex();if(t===null){const o=[],a=i.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);i.setIndex(o),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===Xd)for(let o=1;o<=n;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var TN=Object.defineProperty,PN=(i,e,t)=>e in i?TN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,BN=(i,e,t)=>(PN(i,typeof e!="symbol"?e+"":e,t),t);class IN{constructor(){BN(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var RN=Object.defineProperty,LN=(i,e,t)=>e in i?RN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,it=(i,e,t)=>(LN(i,typeof e!="symbol"?e+"":e,t),t);const pd=new gl,Cw=new kr,DN=Math.cos(70*(Math.PI/180)),Ew=(i,e)=>(i%e+e)%e;let FN=class extends IN{constructor(e,t){super(),it(this,"object"),it(this,"domElement"),it(this,"enabled",!0),it(this,"target",new F),it(this,"minDistance",0),it(this,"maxDistance",1/0),it(this,"minZoom",0),it(this,"maxZoom",1/0),it(this,"minPolarAngle",0),it(this,"maxPolarAngle",Math.PI),it(this,"minAzimuthAngle",-1/0),it(this,"maxAzimuthAngle",1/0),it(this,"enableDamping",!1),it(this,"dampingFactor",.05),it(this,"enableZoom",!0),it(this,"zoomSpeed",1),it(this,"enableRotate",!0),it(this,"rotateSpeed",1),it(this,"enablePan",!0),it(this,"panSpeed",1),it(this,"screenSpacePanning",!0),it(this,"keyPanSpeed",7),it(this,"zoomToCursor",!1),it(this,"autoRotate",!1),it(this,"autoRotateSpeed",2),it(this,"reverseOrbit",!1),it(this,"reverseHorizontalOrbit",!1),it(this,"reverseVerticalOrbit",!1),it(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),it(this,"mouseButtons",{LEFT:go.ROTATE,MIDDLE:go.DOLLY,RIGHT:go.PAN}),it(this,"touches",{ONE:vo.ROTATE,TWO:vo.DOLLY_PAN}),it(this,"target0"),it(this,"position0"),it(this,"zoom0"),it(this,"_domElementKeyEvents",null),it(this,"getPolarAngle"),it(this,"getAzimuthalAngle"),it(this,"setPolarAngle"),it(this,"setAzimuthalAngle"),it(this,"getDistance"),it(this,"getZoomScale"),it(this,"listenToKeyEvents"),it(this,"stopListenToKeyEvents"),it(this,"saveState"),it(this,"reset"),it(this,"update"),it(this,"connect"),it(this,"dispose"),it(this,"dollyIn"),it(this,"dollyOut"),it(this,"getScale"),it(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=j=>{let ve=Ew(j,2*Math.PI),ke=f.phi;ke<0&&(ke+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let U=Math.abs(ve-ke);2*Math.PI-U<U&&(ve<ke?ve+=2*Math.PI:ke+=2*Math.PI),h.phi=ve-ke,n.update()},this.setAzimuthalAngle=j=>{let ve=Ew(j,2*Math.PI),ke=f.theta;ke<0&&(ke+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let U=Math.abs(ve-ke);2*Math.PI-U<U&&(ve<ke?ve+=2*Math.PI:ke+=2*Math.PI),h.theta=ve-ke,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",rt),this._domElementKeyEvents=j},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",rt),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=a.NONE},this.update=(()=>{const j=new F,ve=new F(0,1,0),ke=new Tn().setFromUnitVectors(e.up,ve),U=ke.clone().invert(),oe=new F,ye=new Tn,Be=2*Math.PI;return function(){const _t=n.object.position;ke.setFromUnitVectors(e.up,ve),U.copy(ke).invert(),j.copy(_t).sub(n.target),j.applyQuaternion(ke),f.setFromVector3(j),n.autoRotate&&l===a.NONE&&H(W()),n.enableDamping?(f.theta+=h.theta*n.dampingFactor,f.phi+=h.phi*n.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Nt=n.minAzimuthAngle,zt=n.maxAzimuthAngle;isFinite(Nt)&&isFinite(zt)&&(Nt<-Math.PI?Nt+=Be:Nt>Math.PI&&(Nt-=Be),zt<-Math.PI?zt+=Be:zt>Math.PI&&(zt-=Be),Nt<=zt?f.theta=Math.max(Nt,Math.min(zt,f.theta)):f.theta=f.theta>(Nt+zt)/2?Math.max(Nt,f.theta):Math.min(zt,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),n.zoomToCursor&&B||n.object.isOrthographicCamera?f.radius=ae(f.radius):f.radius=ae(f.radius*p),j.setFromSpherical(f),j.applyQuaternion(U),_t.copy(n.target).add(j),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(h.theta*=1-n.dampingFactor,h.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Rn=!1;if(n.zoomToCursor&&B){let It=null;if(n.object instanceof Qt&&n.object.isPerspectiveCamera){const wn=j.length();It=ae(wn*p);const pn=wn-It;n.object.position.addScaledVector(R,pn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const wn=new F(E.x,E.y,0);wn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/p)),n.object.updateProjectionMatrix(),Rn=!0;const pn=new F(E.x,E.y,0);pn.unproject(n.object),n.object.position.sub(pn).add(wn),n.object.updateMatrixWorld(),It=j.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;It!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(It).add(n.object.position):(pd.origin.copy(n.object.position),pd.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(pd.direction))<DN?e.lookAt(n.target):(Cw.setFromNormalAndCoplanarPoint(n.object.up,n.target),pd.intersectPlane(Cw,n.target))))}else n.object instanceof Qi&&n.object.isOrthographicCamera&&(Rn=p!==1,Rn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/p)),n.object.updateProjectionMatrix()));return p=1,B=!1,Rn||oe.distanceToSquared(n.object.position)>c||8*(1-ye.dot(n.object.quaternion))>c?(n.dispatchEvent(r),oe.copy(n.object.position),ye.copy(n.object.quaternion),Rn=!1,!0):!1}})(),this.connect=j=>{n.domElement=j,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",qe),n.domElement.addEventListener("pointerdown",G),n.domElement.addEventListener("pointercancel",se),n.domElement.addEventListener("wheel",Ee)},this.dispose=()=>{var j,ve,ke,U,oe,ye;n.domElement&&(n.domElement.style.touchAction="auto"),(j=n.domElement)==null||j.removeEventListener("contextmenu",qe),(ve=n.domElement)==null||ve.removeEventListener("pointerdown",G),(ke=n.domElement)==null||ke.removeEventListener("pointercancel",se),(U=n.domElement)==null||U.removeEventListener("wheel",Ee),(oe=n.domElement)==null||oe.ownerDocument.removeEventListener("pointermove",D),(ye=n.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",se),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",rt)};const n=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new c0,h=new c0;let p=1;const m=new F,v=new pe,y=new pe,x=new pe,w=new pe,_=new pe,b=new pe,S=new pe,C=new pe,P=new pe,R=new F,E=new pe;let B=!1;const I=[],O={};function W(){return 2*Math.PI/60/60*n.autoRotateSpeed}function V(){return Math.pow(.95,n.zoomSpeed)}function H(j){n.reverseOrbit||n.reverseHorizontalOrbit?h.theta+=j:h.theta-=j}function q(j){n.reverseOrbit||n.reverseVerticalOrbit?h.phi+=j:h.phi-=j}const Z=(()=>{const j=new F;return function(ke,U){j.setFromMatrixColumn(U,0),j.multiplyScalar(-ke),m.add(j)}})(),re=(()=>{const j=new F;return function(ke,U){n.screenSpacePanning===!0?j.setFromMatrixColumn(U,1):(j.setFromMatrixColumn(U,0),j.crossVectors(n.object.up,j)),j.multiplyScalar(ke),m.add(j)}})(),z=(()=>{const j=new F;return function(ke,U){const oe=n.domElement;if(oe&&n.object instanceof Qt&&n.object.isPerspectiveCamera){const ye=n.object.position;j.copy(ye).sub(n.target);let Be=j.length();Be*=Math.tan(n.object.fov/2*Math.PI/180),Z(2*ke*Be/oe.clientHeight,n.object.matrix),re(2*U*Be/oe.clientHeight,n.object.matrix)}else oe&&n.object instanceof Qi&&n.object.isOrthographicCamera?(Z(ke*(n.object.right-n.object.left)/n.object.zoom/oe.clientWidth,n.object.matrix),re(U*(n.object.top-n.object.bottom)/n.object.zoom/oe.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function K(j){n.object instanceof Qt&&n.object.isPerspectiveCamera||n.object instanceof Qi&&n.object.isOrthographicCamera?p=j:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function J(j){K(p/j)}function de(j){K(p*j)}function Y(j){if(!n.zoomToCursor||!n.domElement)return;B=!0;const ve=n.domElement.getBoundingClientRect(),ke=j.clientX-ve.left,U=j.clientY-ve.top,oe=ve.width,ye=ve.height;E.x=ke/oe*2-1,E.y=-(U/ye)*2+1,R.set(E.x,E.y,1).unproject(n.object).sub(n.object.position).normalize()}function ae(j){return Math.max(n.minDistance,Math.min(n.maxDistance,j))}function xe(j){v.set(j.clientX,j.clientY)}function Ae(j){Y(j),S.set(j.clientX,j.clientY)}function ne(j){w.set(j.clientX,j.clientY)}function Ue(j){y.set(j.clientX,j.clientY),x.subVectors(y,v).multiplyScalar(n.rotateSpeed);const ve=n.domElement;ve&&(H(2*Math.PI*x.x/ve.clientHeight),q(2*Math.PI*x.y/ve.clientHeight)),v.copy(y),n.update()}function Oe(j){C.set(j.clientX,j.clientY),P.subVectors(C,S),P.y>0?J(V()):P.y<0&&de(V()),S.copy(C),n.update()}function He(j){_.set(j.clientX,j.clientY),b.subVectors(_,w).multiplyScalar(n.panSpeed),z(b.x,b.y),w.copy(_),n.update()}function we(j){Y(j),j.deltaY<0?de(V()):j.deltaY>0&&J(V()),n.update()}function Ie(j){let ve=!1;switch(j.code){case n.keys.UP:z(0,n.keyPanSpeed),ve=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),ve=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),ve=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),ve=!0;break}ve&&(j.preventDefault(),n.update())}function fe(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const j=.5*(I[0].pageX+I[1].pageX),ve=.5*(I[0].pageY+I[1].pageY);v.set(j,ve)}}function le(){if(I.length==1)w.set(I[0].pageX,I[0].pageY);else{const j=.5*(I[0].pageX+I[1].pageX),ve=.5*(I[0].pageY+I[1].pageY);w.set(j,ve)}}function Se(){const j=I[0].pageX-I[1].pageX,ve=I[0].pageY-I[1].pageY,ke=Math.sqrt(j*j+ve*ve);S.set(0,ke)}function Ge(){n.enableZoom&&Se(),n.enablePan&&le()}function Te(){n.enableZoom&&Se(),n.enableRotate&&fe()}function $e(j){if(I.length==1)y.set(j.pageX,j.pageY);else{const ke=Je(j),U=.5*(j.pageX+ke.x),oe=.5*(j.pageY+ke.y);y.set(U,oe)}x.subVectors(y,v).multiplyScalar(n.rotateSpeed);const ve=n.domElement;ve&&(H(2*Math.PI*x.x/ve.clientHeight),q(2*Math.PI*x.y/ve.clientHeight)),v.copy(y)}function Ke(j){if(I.length==1)_.set(j.pageX,j.pageY);else{const ve=Je(j),ke=.5*(j.pageX+ve.x),U=.5*(j.pageY+ve.y);_.set(ke,U)}b.subVectors(_,w).multiplyScalar(n.panSpeed),z(b.x,b.y),w.copy(_)}function Ve(j){const ve=Je(j),ke=j.pageX-ve.x,U=j.pageY-ve.y,oe=Math.sqrt(ke*ke+U*U);C.set(0,oe),P.set(0,Math.pow(C.y/S.y,n.zoomSpeed)),J(P.y),S.copy(C)}function bt(j){n.enableZoom&&Ve(j),n.enablePan&&Ke(j)}function Ct(j){n.enableZoom&&Ve(j),n.enableRotate&&$e(j)}function G(j){var ve,ke;n.enabled!==!1&&(I.length===0&&((ve=n.domElement)==null||ve.ownerDocument.addEventListener("pointermove",D),(ke=n.domElement)==null||ke.ownerDocument.addEventListener("pointerup",se)),st(j),j.pointerType==="touch"?Le(j):be(j))}function D(j){n.enabled!==!1&&(j.pointerType==="touch"?ge(j):Me(j))}function se(j){var ve,ke,U;We(j),I.length===0&&((ve=n.domElement)==null||ve.releasePointerCapture(j.pointerId),(ke=n.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",D),(U=n.domElement)==null||U.ownerDocument.removeEventListener("pointerup",se)),n.dispatchEvent(o),l=a.NONE}function be(j){let ve;switch(j.button){case 0:ve=n.mouseButtons.LEFT;break;case 1:ve=n.mouseButtons.MIDDLE;break;case 2:ve=n.mouseButtons.RIGHT;break;default:ve=-1}switch(ve){case go.DOLLY:if(n.enableZoom===!1)return;Ae(j),l=a.DOLLY;break;case go.ROTATE:if(j.ctrlKey||j.metaKey||j.shiftKey){if(n.enablePan===!1)return;ne(j),l=a.PAN}else{if(n.enableRotate===!1)return;xe(j),l=a.ROTATE}break;case go.PAN:if(j.ctrlKey||j.metaKey||j.shiftKey){if(n.enableRotate===!1)return;xe(j),l=a.ROTATE}else{if(n.enablePan===!1)return;ne(j),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function Me(j){if(n.enabled!==!1)switch(l){case a.ROTATE:if(n.enableRotate===!1)return;Ue(j);break;case a.DOLLY:if(n.enableZoom===!1)return;Oe(j);break;case a.PAN:if(n.enablePan===!1)return;He(j);break}}function Ee(j){n.enabled===!1||n.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(j.preventDefault(),n.dispatchEvent(s),we(j),n.dispatchEvent(o))}function rt(j){n.enabled===!1||n.enablePan===!1||Ie(j)}function Le(j){switch(et(j),I.length){case 1:switch(n.touches.ONE){case vo.ROTATE:if(n.enableRotate===!1)return;fe(),l=a.TOUCH_ROTATE;break;case vo.PAN:if(n.enablePan===!1)return;le(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(n.touches.TWO){case vo.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ge(),l=a.TOUCH_DOLLY_PAN;break;case vo.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Te(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function ge(j){switch(et(j),l){case a.TOUCH_ROTATE:if(n.enableRotate===!1)return;$e(j),n.update();break;case a.TOUCH_PAN:if(n.enablePan===!1)return;Ke(j),n.update();break;case a.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;bt(j),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ct(j),n.update();break;default:l=a.NONE}}function qe(j){n.enabled!==!1&&j.preventDefault()}function st(j){I.push(j)}function We(j){delete O[j.pointerId];for(let ve=0;ve<I.length;ve++)if(I[ve].pointerId==j.pointerId){I.splice(ve,1);return}}function et(j){let ve=O[j.pointerId];ve===void 0&&(ve=new pe,O[j.pointerId]=ve),ve.set(j.pageX,j.pageY)}function Je(j){const ve=j.pointerId===I[0].pointerId?I[1]:I[0];return O[ve.pointerId]}this.dollyIn=(j=V())=>{de(j),n.update()},this.dollyOut=(j=V())=>{J(j),n.update()},this.getScale=()=>p,this.setScale=j=>{K(j),n.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};function qd(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Bo="srgb",Jr="srgb-linear",Tw=3001,ON=3e3;class ay extends Qn{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new UN(t)}),this.register(function(t){return new HN(t)}),this.register(function(t){return new qN(t)}),this.register(function(t){return new ZN(t)}),this.register(function(t){return new $N(t)}),this.register(function(t){return new WN(t)}),this.register(function(t){return new jN(t)}),this.register(function(t){return new JN(t)}),this.register(function(t){return new XN(t)}),this.register(function(t){return new zN(t)}),this.register(function(t){return new YN(t)}),this.register(function(t){return new VN(t)}),this.register(function(t){return new KN(t)}),this.register(function(t){return new QN(t)}),this.register(function(t){return new kN(t)}),this.register(function(t){return new ek(t)}),this.register(function(t){return new tk(t)})}load(e,t,n,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Ts.extractUrlBase(e);o=Ts.resolveURL(c,this.path)}else o=Ts.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new pi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(qd(new Uint8Array(e.slice(0,4)))===hC){try{o[wt.KHR_BINARY_GLTF]=new nk(e)}catch(f){r&&r(f);return}s=JSON.parse(o[wt.KHR_BINARY_GLTF].content)}else s=JSON.parse(qd(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new mk(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const f=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(f){case wt.KHR_MATERIALS_UNLIT:o[f]=new GN;break;case wt.KHR_DRACO_MESH_COMPRESSION:o[f]=new ik(s,this.dracoLoader);break;case wt.KHR_TEXTURE_TRANSFORM:o[f]=new rk;break;case wt.KHR_MESH_QUANTIZATION:o[f]=new sk;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function NN(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const wt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class kN{constructor(e){this.parser=e,this.name=wt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const f=new De(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],Jr);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new qv(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Kv(f),c.distance=h;break;case"spot":c=new Qv(f),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Or(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}class GN{constructor(){this.name=wt.KHR_MATERIALS_UNLIT}getMaterialType(){return di}extendParams(e,t,n){const r=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Jr),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,Bo))}return Promise.all(r)}}class zN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class UN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class HN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class VN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class WN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Jr)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Bo)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class jN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class JN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De().setRGB(a[0],a[1],a[2],Jr),Promise.all(s)}}class XN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class YN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De().setRGB(a[0],a[1],a[2],Jr),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,Bo)),Promise.all(s)}}class QN{constructor(e){this.parser=e,this.name=wt.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class KN{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Oi}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class qN{constructor(e){this.parser=e,this.name=wt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class ZN{constructor(e){this.parser=e,this.name=wt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $N{constructor(e){this.parser=e,this.name=wt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ek{constructor(e){this.name=wt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,f=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(m),f,h,p,r.mode,r.filter),m})})}else return null}}class tk{constructor(e){this.name=wt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const c of r.primitives)if(c.mode!==Ii.TRIANGLES&&c.mode!==Ii.TRIANGLE_STRIP&&c.mode!==Ii.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(f=>(l[c]=f,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const f=c.pop(),h=f.isGroup?f.children:[f],p=c[0].count,m=[];for(const v of h){const y=new at,x=new F,w=new Tn,_=new F(1,1,1),b=new Lv(v.geometry,v.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,S),l.SCALE&&_.fromBufferAttribute(l.SCALE,S),b.setMatrixAt(S,y.compose(x,w,_));for(const S in l)if(S==="_COLOR_0"){const C=l[S];b.instanceColor=new Vo(C.array,C.itemSize,C.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&v.geometry.setAttribute(S,l[S]);Bt.prototype.copy.call(b,v),this.parser.assignFinalMaterial(b),m.push(b)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const hC="glTF",oc=12,Pw={JSON:1313821514,BIN:5130562};class nk{constructor(e){this.name=wt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,oc);if(this.header={magic:qd(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==hC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-oc,r=new DataView(e,oc);let s=0;for(;s<n;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===Pw.JSON){const l=new Uint8Array(e,oc+s,o);this.content=qd(l)}else if(a===Pw.BIN){const l=oc+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ik{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=wt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const f in o){const h=p0[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=p0[f]||f.toLowerCase();if(o[f]!==void 0){const p=n.accessors[e.attributes[f]],m=$a[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(h,p){r.decodeDracoFile(f,function(m){for(const v in m.attributes){const y=m.attributes[v],x=l[v];x!==void 0&&(y.normalized=x)}h(m)},a,c,Jr,p)})})}}class rk{constructor(){this.name=wt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class sk{constructor(){this.name=wt.KHR_MESH_QUANTIZATION}}class pC extends bl{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,f=r-t,h=(n-t)/f,p=h*h,m=p*h,v=e*c,y=v-c,x=-2*m+3*p,w=m-p,_=1-x,b=w-p+h;for(let S=0;S!==a;S++){const C=o[y+S+a],P=o[y+S+l]*f,R=o[v+S+a],E=o[v+S]*f;s[S]=_*C+b*P+x*R+w*E}return s}}const ok=new Tn;class ak extends pC{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return ok.fromArray(s).normalize().toArray(s),s}}const Ii={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},$a={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Bw={9728:on,9729:qt,9984:Lc,9985:xh,9986:qa,9987:gr},Iw={33071:In,33648:il,10497:Rs},Wm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},p0={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...EN>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},vs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},lk={CUBICSPLINE:void 0,LINEAR:Ho,STEP:sl},jm={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ck(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new vu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:mr})),i.DefaultMaterial}function ho(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Or(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function uk(i,e,t){let n=!1,r=!1,s=!1;for(let c=0,f=e.length;c<f;c++){const h=e[c];if(h.POSITION!==void 0&&(n=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const o=[],a=[],l=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];if(n){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):i.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):i.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):i.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const f=c[0],h=c[1],p=c[2];return n&&(i.morphAttributes.position=f),r&&(i.morphAttributes.normal=h),s&&(i.morphAttributes.color=p),i.morphTargetsRelative=!0,i})}function fk(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function dk(i){let e;const t=i.extensions&&i.extensions[wt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Jm(t.attributes):e=i.indices+":"+Jm(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+Jm(i.targets[n]);return e}function Jm(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function m0(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function hk(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const pk=new at;class mk{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new NN,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new IM(this.options.manager):this.textureLoader=new kM(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new pi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};return ho(s,a,r),Or(a,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,f]of o.children.entries())s(f,a.children[c])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[wt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){n.load(Ts.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Wm[r.type],a=$a[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Ot(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Wm[r.type],c=$a[r.componentType],f=c.BYTES_PER_ELEMENT,h=f*l,p=r.byteOffset||0,m=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let y,x;if(m&&m!==h){const w=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+w+":"+r.count;let b=t.cache.get(_);b||(y=new c(a,w*m,r.count*m/f),b=new nu(y,m/f),t.cache.add(_,b)),x=new Ds(b,l,p%m/f,v)}else a===null?y=new c(r.count*l):y=new c(a,p,r.count*l),x=new Ot(y,l,v);if(r.sparse!==void 0){const w=Wm.SCALAR,_=$a[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,C=new _(o[1],b,r.sparse.count*w),P=new c(o[2],S,r.sparse.count*l);a!==null&&(x=new Ot(x.array.slice(),x.itemSize,x.normalized));for(let R=0,E=C.length;R<E;R++){const B=C[R];if(x.setX(B,P[R*l]),l>=2&&x.setY(B,P[R*l+1]),l>=3&&x.setZ(B,P[R*l+2]),l>=4&&x.setW(B,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=Bw[p.magFilter]||qt,f.minFilter=Bw[p.minFilter]||gr,f.wrapS=Iw[p.wrapS]||Rs,f.wrapT=Iw[p.wrapT]||Rs,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(y){const x=new en(y);x.needsUpdate=!0,p(x)}),t.load(Ts.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),Or(h,o),h.userData.mimeType=o.mimeType||hk(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),s.extensions[wt.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[wt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[wt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===Tw?Bo:Jr),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Bo?Tw:ON),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new ru,vn.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new Un,vn.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(a,l)),n=l}if(r||s||o){let a="ClonedMaterial:"+n.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return vu}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[wt.KHR_MATERIALS_UNLIT]){const h=r[wt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Jr),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,Bo)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ji);const f=s.alphaMode||jm.OPAQUE;if(f===jm.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===jm.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==di&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==di&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==di){const h=s.emissiveFactor;a.emissive=new De().setRGB(h[0],h[1],h[2],Jr)}return s.emissiveTexture!==void 0&&o!==di&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Bo)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Or(h,s),t.associations.set(h,{materials:e}),s.extensions&&ho(r,h,s),h})}createUniqueName(e){const t=Pt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(a){return n[wt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Rw(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],f=dk(c),h=r[f];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[wt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=Rw(new dt,c,t),r[f]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const f=o[l].material===void 0?ck(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let m=0,v=f.length;m<v;m++){const y=f[m],x=o[m];let w;const _=c[m];if(x.mode===Ii.TRIANGLES||x.mode===Ii.TRIANGLE_STRIP||x.mode===Ii.TRIANGLE_FAN||x.mode===void 0)w=s.isSkinnedMesh===!0?new Rv(y,_):new En(y,_),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),x.mode===Ii.TRIANGLE_STRIP?w.geometry=Mw(w.geometry,yv):x.mode===Ii.TRIANGLE_FAN&&(w.geometry=Mw(w.geometry,Xd));else if(x.mode===Ii.LINES)w=new qi(y,_);else if(x.mode===Ii.LINE_STRIP)w=new Kr(y,_);else if(x.mode===Ii.LINE_LOOP)w=new Dv(y,_);else if(x.mode===Ii.POINTS)w=new Fv(y,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(w.geometry.morphAttributes).length>0&&fk(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),Or(w,s),x.extensions&&ho(r,w,x),t.assignFinalMaterial(w),h.push(w)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&ho(r,h[0],s),h[0];const p=new Hr;s.extensions&&ho(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Qt(JS.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new Qi(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Or(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,f=o.length;c<f;c++){const h=o[c];if(h){a.push(h);const p=new at;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new iu(a,l)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],f=[];for(let h=0,p=r.channels.length;h<p;h++){const m=r.channels[h],v=r.samplers[m.sampler],y=m.target,x=y.node,w=r.parameters!==void 0?r.parameters[v.input]:v.input,_=r.parameters!==void 0?r.parameters[v.output]:v.output;y.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",w)),l.push(this.getDependency("accessor",_)),c.push(v),f.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(f)]).then(function(h){const p=h[0],m=h[1],v=h[2],y=h[3],x=h[4],w=[];for(let _=0,b=p.length;_<b;_++){const S=p[_],C=m[_],P=v[_],R=y[_],E=x[_];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const B=n._createAnimationTracks(S,C,P,R,E);if(B)for(let I=0;I<B.length;I++)w.push(B[I])}return new ll(s,void 0,w)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,f=a.length;c<f;c++)o.push(n.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const f=c[0],h=c[1],p=c[2];p!==null&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(p,pk)});for(let m=0,v=h.length;m<v;m++)f.add(h[m]);return f})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let f;if(s.isBone===!0?f=new Ch:c.length>1?f=new Hr:c.length===1?f=c[0]:f=new Bt,f!==c[0])for(let h=0,p=c.length;h<p;h++)f.add(c[h]);if(s.name&&(f.userData.name=s.name,f.name=o),Or(f,s),s.extensions&&ho(n,f,s),s.matrix!==void 0){const h=new at;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return r.associations.has(f)||r.associations.set(f,{}),r.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new Hr;n.name&&(s.name=r.createUniqueName(n.name)),Or(s,n),n.extensions&&ho(t,s,n);const o=n.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,h=l.length;f<h;f++)s.add(l[f]);const c=f=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof vn||p instanceof en)&&h.set(p,m);return f.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,n,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];vs[s.path]===vs.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(vs[s.path]){case vs.weights:c=jo;break;case vs.rotation:c=Fs;break;case vs.position:case vs.scale:c=Jo;break;default:switch(n.itemSize){case 1:c=jo;break;case 2:case 3:default:c=Jo;break}break}const f=r.interpolation!==void 0?lk[r.interpolation]:Ho,h=this._getArrayFromAccessor(n);for(let p=0,m=l.length;p<m;p++){const v=new c(l[p]+"."+vs[s.path],t.array,h,f);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=m0(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof Fs?ak:pC;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function gk(i,e,t){const n=e.attributes,r=new Hs;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(c[0],c[1],c[2])),a.normalized){const f=m0($a[a.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let c=0,f=s.length;c<f;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=m0($a[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;const o=new Vs;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}function Rw(i,e,t){const n=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){i.setAttribute(a,l)})}for(const o in n){const a=p0[o]||o.toLowerCase();a in i.attributes||r.push(s(n[o],a))}if(e.indices!==void 0&&!i.index){const o=t.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});r.push(o)}return Or(i,e),gk(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?uk(i,e.targets,t):i})}const Xm=new WeakMap;class vk extends Qn{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new pi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const n=JSON.stringify(t);if(Xm.has(e)){const l=Xm.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,f)=>{r._callbacks[s]={resolve:c,reject:f},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Xm.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new dt;e.index&&t.setIndex(new Ot(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ot(o,a))}return t}_loadLibrary(e,t){const n=new pi(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=yk.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function yk(){let i,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(f){i.onModuleLoaded=function(h){f({draco:h})},DracoDecoderModule(i)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(f=>{const h=f.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,c),y=v.attributes.map(x=>x.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const f=c.attributeIDs,h=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const x in f){const w=self[h[x]];let _,b;if(c.useUniqueIDs)b=f[x],_=a.GetAttributeByUniqueId(p,b);else{if(b=a.GetAttributeId(p,o[f[x]]),b===-1)continue;_=a.GetAttribute(p,b)}y.attributes.push(r(o,a,p,x,w,_))}return v===o.TRIANGULAR_MESH&&(y.index=n(o,a,p)),o.destroy(p),y}function n(o,a,l){const f=l.num_faces()*3,h=f*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,f,h){const p=h.num_components(),v=l.num_points()*p,y=v*f.BYTES_PER_ELEMENT,x=s(o,f),w=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,h,x,y,w);const _=new f(o.HEAPF32.buffer,w,v).slice();return o._free(w),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let md;const Ym=()=>{if(md)return md;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const y=h.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?n[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,y,x){const w=s.exports.sbrk,_=m+3&-4,b=w(_*v),S=w(y.length),C=new Uint8Array(s.exports.memory.buffer);C.set(y,S);const P=h(b,m,v,S,y.length);if(P===0&&x&&x(b,_,v),p.set(C.subarray(b,b+m*v)),w(b-w(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return md={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[c[y]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,y,x){l(s.exports[f[y]],h,p,m,v,s.exports[c[x]])}},md},xk=()=>parseInt(pl.replace(/\D+/g,"")),mC=xk();let gd=null,gC="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function vC(i=!0,e=!0,t){return n=>{t&&t(n),i&&(gd||(gd=new vk),gd.setDecoderPath(typeof i=="string"?i:gC),n.setDRACOLoader(gd)),e&&n.setMeshoptDecoder(typeof Ym=="function"?Ym():Ym)}}const wu=(i,e,t,n)=>xu(ay,i,vC(e,t,n));wu.preload=(i,e,t,n)=>xu.preload(ay,i,vC(e,t,n));wu.clear=i=>xu.clear(ay,i);wu.setDecoderPath=i=>{gC=i};const yC=L.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const h=Li(P=>P.invalidate),p=Li(P=>P.camera),m=Li(P=>P.gl),v=Li(P=>P.events),y=Li(P=>P.setEvents),x=Li(P=>P.set),w=Li(P=>P.get),_=Li(P=>P.performance),b=e||p,S=n||v.connected||m.domElement,C=L.useMemo(()=>new FN(b),[b]);return _l(()=>{C.enabled&&C.update()},-1),L.useEffect(()=>(s&&C.connect(s===!0?S:s),C.connect(S),()=>void C.dispose()),[s,S,t,C,h]),L.useEffect(()=>{const P=B=>{h(),t&&_.regress(),o&&o(B)},R=B=>{a&&a(B)},E=B=>{l&&l(B)};return C.addEventListener("change",P),C.addEventListener("start",R),C.addEventListener("end",E),()=>{C.removeEventListener("start",R),C.removeEventListener("end",E),C.removeEventListener("change",P)}},[o,a,l,C,h,y]),L.useEffect(()=>{if(i){const P=w().controls;return x({controls:C}),()=>x({controls:P})}},[i,C]),L.createElement("primitive",qr({ref:f,object:C,enableDamping:r},c))});var xC={exports:{}},Ak="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wk=Ak,bk=wk;function AC(){}function wC(){}wC.resetWarningCache=AC;var _k=function(){function i(n,r,s,o,a,l){if(l!==bk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wC,resetWarningCache:AC};return t.PropTypes=t,t};xC.exports=_k();var ly=xC.exports;const At=N_(ly),Qm=mC>=154?"opaque_fragment":"output_fragment";class Sk extends ru{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:r}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${Qm}>`,`
        ${r?`#include <${Qm}>`:`#extension GL_OES_standard_derivatives : enable
#include <${Qm}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${mC>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Mk=L.forwardRef((i,e)=>{const[t]=L.useState(()=>new Sk(null));return L.createElement("primitive",qr({},i,{object:t,ref:e,attach:"material"}))});let po,ac;const Ck=L.createContext(null),Lw=new at,Dw=new F,Ek=L.forwardRef(({children:i,range:e,limit:t=1e3,...n},r)=>{const s=L.useRef(null);L.useImperativeHandle(r,()=>s.current,[]);const[o,a]=L.useState([]),[[l,c,f]]=L.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);L.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),_l(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),Lw.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),po=0;po<o.length;po++)ac=o[po].current,ac.getWorldPosition(Dw).applyMatrix4(Lw),Dw.toArray(l,po*3),s.current.geometry.attributes.position.needsUpdate=!0,ac.matrixWorldNeedsUpdate=!0,ac.color.toArray(c,po*3),s.current.geometry.attributes.color.needsUpdate=!0,f.set([ac.size],po),s.current.geometry.attributes.size.needsUpdate=!0});const h=L.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return L.createElement("points",qr({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},n),L.createElement("bufferGeometry",null,L.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Oo}),L.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:Oo}),L.createElement("bufferAttribute",{attach:"attributes-size",count:f.length,array:f,itemSize:1,usage:Oo})),L.createElement(Ck.Provider,{value:h},i))}),Tk=L.forwardRef(({children:i,positions:e,colors:t,sizes:n,stride:r=3,...s},o)=>{const a=L.useRef(null);return L.useImperativeHandle(o,()=>a.current,[]),_l(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),n&&(l.size.needsUpdate=!0)}),L.createElement("points",qr({ref:a},s),L.createElement("bufferGeometry",null,L.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:Oo}),t&&L.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:Oo}),n&&L.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/r,array:n,itemSize:1,usage:Oo})),i)}),Pk=L.forwardRef((i,e)=>i.positions instanceof Float32Array?L.createElement(Tk,qr({},i,{ref:e})):L.createElement(Ek,qr({},i,{ref:e})));function cy({all:i,scene:e,camera:t}){const n=Li(({gl:o})=>o),r=Li(({camera:o})=>o),s=Li(({scene:o})=>o);return L.useLayoutEffect(()=>{const o=[];i&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),n.compile(e||s,t||r);const a=new Mv(128);new Sv(.01,1e5,a).update(n,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const bC=()=>{const{progress:i}=CN(),[e,t]=L.useState(!0);return L.useEffect(()=>{i===100&&setTimeout(()=>t(!1),500)},[i]),e?Ne(wN,{as:"div",center:!0,className:"w-full h-full flex justify-center items-center bg-black bg-opacity-80",children:[Ne("div",{className:"text-center flex flex-col items-center",children:[X("div",{className:"loader mb-4"}),X("p",{className:"text-lg font-bold text-white mb-2",children:"Loading..."}),Ne("p",{className:"text-lg font-bold text-white",children:[i.toFixed(0),"%"]})]}),X("style",{jsx:!0,children:`
        .loader {
          width: 50px;
          aspect-ratio: 1;
          display: grid;
          border: 4px solid #0000;
          border-radius: 50%;
          border-right-color: #514b82; /* Purple color */
          animation: l15 1s infinite linear;
        }
        .loader::before,
        .loader::after {
          content: "";
          grid-area: 1/1;
          margin: 2px;
          border: inherit;
          border-radius: 50%;
          animation: l15 2s infinite;
        }
        .loader::after {
          margin: 8px;
          animation-duration: 3s;
        }
        @keyframes l15 {
          100% {
            transform: rotate(1turn);
          }
        }
      `})]}):null},Bk=()=>{const i=wu("./planet/scene.gltf");return X("primitive",{object:i.scene,scale:2.5,"position-y":0,"rotation-y":0})},Ik=()=>X(sy,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:49,near:.1,far:200,position:[-4,3,6]},children:Ne(L.Suspense,{fallback:X(bC,{}),children:[X(yC,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),X(Bk,{}),X(cy,{all:!0})]})}),Rk=({isMobile:i})=>{const e=wu("./desktop_pc/scene.gltf"),t=L.useRef();return L.useEffect(()=>()=>{var n;e&&((n=e.scenes)==null||n.forEach(r=>{r.traverse(s=>{s.geometry&&s.geometry.dispose(),s.material&&s.material.dispose()})}))},[e]),_l((n,r)=>{t.current&&i&&(t.current.rotation.y+=r*.5)}),Ne("mesh",{ref:t,children:[X("hemisphereLight",{intensity:.15,groundColor:"black"}),X("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),X("pointLight",{intensity:1}),X("primitive",{object:e.scene,scale:i?.5:.75,position:i?[0,-3,0]:[0,-3.25,-1.5],rotation:i?[0,0,0]:[-.01,-.2,-.1]})]})},Lk=()=>{const[i,e]=L.useState(!1);return L.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const n=r=>{e(r.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[]),Ne(sy,{frameloop:"demand",shadows:!0,dpr:[1,1.5],camera:i?{position:[0,0,20],fov:50}:{position:[20,3,5],fov:25},gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},onCreated:({gl:t})=>{t.canvas.addEventListener("webglcontextlost",n=>{n.preventDefault(),console.log("WebGL context lost, attempting to restore..."),setTimeout(()=>{t.getContext("webgl2",{powerPreference:"high-performance"})},300)})},children:[Ne(L.Suspense,{fallback:X(bC,{}),children:[!i&&X(yC,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2,autoRotate:!0,autoRotateSpeed:.5}),X(Rk,{isMobile:i})]}),X(cy,{all:!0})]})};function el(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Fw(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Ow(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fw(Object(t),!0).forEach(function(n){el(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Fw(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function _C(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}new pe;new pe;var Pi=function i(e,t,n){var r=this;_C(this,i),el(this,"dot2",function(s,o){return r.x*s+r.y*o}),el(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=n},Dk=[new Pi(1,1,0),new Pi(-1,1,0),new Pi(1,-1,0),new Pi(-1,-1,0),new Pi(1,0,1),new Pi(-1,0,1),new Pi(1,0,-1),new Pi(-1,0,-1),new Pi(0,1,1),new Pi(0,-1,1),new Pi(0,1,-1),new Pi(0,-1,-1)],Nw=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],kw=new Array(512),Gw=new Array(512),Fk=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=Nw[t]^e&255:n=Nw[t]^e>>8&255,kw[t]=kw[t+256]=n,Gw[t]=Gw[t+256]=Dk[n%12]}};Fk(0);function Ok(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function zw(i){var e=Ok(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Nk=function i(e){var t=this;_C(this,i),el(this,"seed",0),el(this,"init",function(n){t.seed=n,t.value=zw(n)}),el(this,"value",zw(this.seed)),this.init(e)},kk=new Nk(Math.random()),Gk={radius:1,center:[0,0,0]};function zk(i,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kk,n=Ow(Ow({},Gk),e),r=n.radius,s=n.center,o=0;o<i.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,f=t.value()*2-1,h=Math.sqrt(l*l+c*c+f*f);l=a*l/h,c=a*c/h,f=a*f/h,i[o]=l*r+s[0],i[o+1]=c*r+s[1],i[o+2]=f*r+s[2]}return i}const Uk=i=>{const e=L.useRef(),[t]=L.useState(()=>zk(new Float32Array(2001),{radius:1.2}));return _l((n,r)=>{e.current.rotation.x-=r/15,e.current.rotation.y-=r/20}),X("group",{rotation:[0,0,Math.PI/4],children:X(Pk,{ref:e,positions:t,stride:3,frustumCulled:!0,...i,children:X(Mk,{transparent:!0,color:"#915EFF",size:.003,sizeAttenuation:!0,depthWrite:!1})})})},Hk=()=>{const[i,e]=L.useState(!1);return L.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const n=r=>{e(r.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[]),X("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:Ne(sy,{camera:{position:[0,0,1]},children:[X(Uk,{}),X(cy,{all:!0})]})})},SC=L.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),Rh=L.createContext({});function Vk(){return L.useContext(Rh).visualElement}const Lh=L.createContext(null),Dh=typeof document<"u",Vc=Dh?L.useLayoutEffect:L.useEffect,MC=L.createContext({strict:!1});function Wk(i,e,t,n){const r=Vk(),s=L.useContext(MC),o=L.useContext(Lh),a=L.useContext(SC).reducedMotion,l=L.useRef();n=n||s.renderer,!l.current&&n&&(l.current=n(i,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return L.useInsertionEffect(()=>{c&&c.update(t,o)}),Vc(()=>{c&&c.render()}),L.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?Vc:L.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Ja(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function jk(i,e,t){return L.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Ja(t)&&(t.current=n))},[e])}function Wc(i){return typeof i=="string"||Array.isArray(i)}function Fh(i){return typeof i=="object"&&typeof i.start=="function"}const uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fy=["initial",...uy];function Oh(i){return Fh(i.animate)||fy.some(e=>Wc(i[e]))}function CC(i){return!!(Oh(i)||i.variants)}function Jk(i,e){if(Oh(i)){const{initial:t,animate:n}=i;return{initial:t===!1||Wc(t)?t:void 0,animate:Wc(n)?n:void 0}}return i.inherit!==!1?e:{}}function Xk(i){const{initial:e,animate:t}=Jk(i,L.useContext(Rh));return L.useMemo(()=>({initial:e,animate:t}),[Uw(e),Uw(t)])}function Uw(i){return Array.isArray(i)?i.join(" "):i}const Hw={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jc={};for(const i in Hw)jc[i]={isEnabled:e=>Hw[i].some(t=>!!e[t])};function Yk(i){for(const e in i)jc[e]={...jc[e],...i[e]}}function Nh(i){const e=L.useRef(null);return e.current===null&&(e.current=i()),e.current}const xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Qk=1;function Kk(){return Nh(()=>{if(xc.hasEverUpdated)return Qk++})}const dy=L.createContext({}),EC=L.createContext({}),qk=Symbol.for("motionComponentSymbol");function Zk({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&Yk(i);function s(a,l){let c;const f={...L.useContext(SC),...a,layoutId:$k(a)},{isStatic:h}=f,p=Xk(a),m=h?void 0:Kk(),v=n(a,h);if(!h&&Dh){p.visualElement=Wk(r,v,f,e);const y=L.useContext(EC),x=L.useContext(MC).strict;p.visualElement&&(c=p.visualElement.loadFeatures(f,x,i,m,y))}return L.createElement(Rh.Provider,{value:p},c&&p.visualElement?L.createElement(c,{visualElement:p.visualElement,...f}):null,t(r,a,m,jk(v,p.visualElement,l),v,h,p.visualElement))}const o=L.forwardRef(s);return o[qk]=r,o}function $k({layoutId:i}){const e=L.useContext(dy).id;return e&&i!==void 0?e+"-"+i:i}function eG(i){function e(n,r={}){return Zk(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const tG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hy(i){return typeof i!="string"||i.includes("-")?!1:!!(tG.indexOf(i)>-1||/[A-Z]/.test(i))}const Zd={};function nG(i){Object.assign(Zd,i)}const kh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(kh);function TC(i,{layout:e,layoutId:t}){return ta.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Zd[i]||i==="opacity")}const ii=i=>!!(i&&i.getVelocity),iG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rG=kh.length;function sG(i,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,r){let s="";for(let o=0;o<rG;o++){const a=kh[o];if(i[a]!==void 0){const l=iG[a]||a;s+=`${l}(${i[a]}) `}}return e&&!i.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(i,n?"":s):t&&n&&(s="none"),s}const PC=i=>e=>typeof e=="string"&&e.startsWith(i),BC=PC("--"),g0=PC("var(--"),oG=(i,e)=>e&&typeof i=="number"?e.transform(i):i,ul=(i,e,t)=>Math.min(Math.max(t,i),e),na={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Ac={...na,transform:i=>ul(0,1,i)},vd={...na,default:1},wc=i=>Math.round(i*1e5)/1e5,Jc=/(-)?([\d]*\.?[\d])+/g,v0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,aG=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bu(i){return typeof i=="string"}const _u=i=>({test:e=>bu(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),ws=_u("deg"),hr=_u("%"),ot=_u("px"),lG=_u("vh"),cG=_u("vw"),Vw={...hr,parse:i=>hr.parse(i)/100,transform:i=>hr.transform(i*100)},Ww={...na,transform:Math.round},IC={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:ws,skewX:ws,skewY:ws,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:Ac,originX:Vw,originY:Vw,originZ:ot,zIndex:Ww,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:Ww};function py(i,e,t,n){const{style:r,vars:s,transform:o,transformOrigin:a}=i;let l=!1,c=!1,f=!0;for(const h in e){const p=e[h];if(BC(h)){s[h]=p;continue}const m=IC[h],v=oG(p,m);if(ta.has(h)){if(l=!0,o[h]=v,!f)continue;p!==(m.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):r[h]=v}if(e.transform||(l||n?r.transform=sG(i.transform,t,f,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const my=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RC(i,e,t){for(const n in e)!ii(e[n])&&!TC(n,t)&&(i[n]=e[n])}function uG({transformTemplate:i},e,t){return L.useMemo(()=>{const n=my();return py(n,e,{enableHardwareAcceleration:!t},i),Object.assign({},n.vars,n.style)},[e])}function fG(i,e,t){const n=i.style||{},r={};return RC(r,n,i),Object.assign(r,uG(i,e,t)),i.transformValues?i.transformValues(r):r}function dG(i,e,t){const n={},r=fG(i,e,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const hG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $d(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||hG.has(i)}let LC=i=>!$d(i);function pG(i){i&&(LC=e=>e.startsWith("on")?!$d(e):i(e))}try{pG(require("@emotion/is-prop-valid").default)}catch{}function mG(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(LC(r)||t===!0&&$d(r)||!e&&!$d(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function jw(i,e,t){return typeof i=="string"?i:ot.transform(e+t*i)}function gG(i,e,t){const n=jw(e,i.x,i.width),r=jw(t,i.y,i.height);return`${n} ${r}`}const vG={offset:"stroke-dashoffset",array:"stroke-dasharray"},yG={offset:"strokeDashoffset",array:"strokeDasharray"};function xG(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?vG:yG;i[s.offset]=ot.transform(-n);const o=ot.transform(e),a=ot.transform(t);i[s.array]=`${o} ${a}`}function gy(i,{attrX:e,attrY:t,originX:n,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,f,h){if(py(i,l,c,h),f){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:p,style:m,dimensions:v}=i;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(n!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=gG(v,n!==void 0?n:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&xG(p,s,o,a,!1)}const DC=()=>({...my(),attrs:{}}),vy=i=>typeof i=="string"&&i.toLowerCase()==="svg";function AG(i,e,t,n){const r=L.useMemo(()=>{const s=DC();return gy(s,e,{enableHardwareAcceleration:!1},vy(n),i.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};RC(s,i.style,i),r.style={...s,...r.style}}return r}function wG(i=!1){return(t,n,r,s,{latestValues:o},a)=>{const c=(hy(t)?AG:dG)(n,o,a,t),h={...mG(n,typeof t=="string",i),...c,ref:s},{children:p}=n,m=L.useMemo(()=>ii(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),L.createElement(t,{...h,children:m})}}const yy=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function FC(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}const OC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NC(i,e,t,n){FC(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(OC.has(r)?r:yy(r),e.attrs[r])}function xy(i,e){const{style:t}=i,n={};for(const r in t)(ii(t[r])||e.style&&ii(e.style[r])||TC(r,i))&&(n[r]=t[r]);return n}function kC(i,e){const t=xy(i,e);for(const n in i)if(ii(i[n])||ii(e[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=i[n]}return t}function Ay(i,e,t,n={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),e}const eh=i=>Array.isArray(i),bG=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),_G=i=>eh(i)?i[i.length-1]||0:i;function Nd(i){const e=ii(i)?i.get():i;return bG(e)?e.toValue():e}function SG({scrapeMotionValuesFromProps:i,createRenderState:e,onMount:t},n,r,s){const o={latestValues:MG(n,r,s,i),renderState:e()};return t&&(o.mount=a=>t(n,a,o)),o}const GC=i=>(e,t)=>{const n=L.useContext(Rh),r=L.useContext(Lh),s=()=>SG(i,e,n,r);return t?s():Nh(s)};function MG(i,e,t,n){const r={},s=n(i,{});for(const p in s)r[p]=Nd(s[p]);let{initial:o,animate:a}=i;const l=Oh(i),c=CC(i);e&&c&&!l&&i.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!Fh(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=Ay(i,m);if(!v)return;const{transitionEnd:y,transition:x,...w}=v;for(const _ in w){let b=w[_];if(Array.isArray(b)){const S=f?b.length-1:0;b=b[S]}b!==null&&(r[_]=b)}for(const _ in y)r[_]=y[_]}),r}const CG={useVisualState:GC({scrapeMotionValuesFromProps:kC,createRenderState:DC,onMount:(i,e,{renderState:t,latestValues:n})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}gy(t,n,{enableHardwareAcceleration:!1},vy(e.tagName),i.transformTemplate),NC(e,t)}})},EG={useVisualState:GC({scrapeMotionValuesFromProps:xy,createRenderState:my})};function TG(i,{forwardMotionProps:e=!1},t,n){return{...hy(i)?CG:EG,preloadedFeatures:t,useRender:wG(e),createVisualElement:n,Component:i}}function Vr(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const zC=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function Gh(i,e="page"){return{point:{x:i[e+"X"],y:i[e+"Y"]}}}const PG=i=>e=>zC(e)&&i(e,Gh(e));function Xr(i,e,t,n){return Vr(i,e,PG(t),n)}const BG=(i,e)=>t=>e(i(t)),Ps=(...i)=>i.reduce(BG);function UC(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const Jw=UC("dragHorizontal"),Xw=UC("dragVertical");function HC(i){let e=!1;if(i==="y")e=Xw();else if(i==="x")e=Jw();else{const t=Jw(),n=Xw();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function VC(){const i=HC(!0);return i?(i(),!1):!0}class Js{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Yw(i,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||VC())return;const a=i.getProps();i.animationState&&a.whileHover&&i.animationState.setActive("whileHover",e),a[n]&&a[n](s,o)};return Xr(i.current,t,r,{passive:!i.getProps()[n]})}class IG extends Js{mount(){this.unmount=Ps(Yw(this.node,!0),Yw(this.node,!1))}unmount(){}}class RG extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ps(Vr(this.node.current,"focus",()=>this.onFocus()),Vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WC=(i,e)=>e?i===e?!0:WC(i,e.parentElement):!1,Fi=i=>i;function Km(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,Gh(t))}class LG extends Js{constructor(){super(...arguments),this.removeStartListeners=Fi,this.removeEndListeners=Fi,this.removeAccessibleListeners=Fi,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=Xr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f}=this.node.getProps();WC(this.node.current,a.target)?c&&c(a,l):f&&f(a,l)},{passive:!(n.onTap||n.onPointerUp)}),o=Xr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ps(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Km("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=Vr(this.node.current,"keyup",o),Km("down",(a,l)=>{this.startPress(a,l)})},t=Vr(this.node.current,"keydown",e),n=()=>{this.isPressing&&Km("cancel",(s,o)=>this.cancelPress(s,o))},r=Vr(this.node.current,"blur",n);this.removeAccessibleListeners=Ps(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VC()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(e,t)}mount(){const e=this.node.getProps(),t=Xr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Vr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ps(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const y0=new WeakMap,qm=new WeakMap,DG=i=>{const e=y0.get(i.target);e&&e(i)},FG=i=>{i.forEach(DG)};function OG({root:i,...e}){const t=i||document;qm.has(t)||qm.set(t,{});const n=qm.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(FG,{root:i,...e})),n[r]}function NG(i,e,t){const n=OG(e);return y0.set(i,t),n.observe(i),()=>{y0.delete(i),n.unobserve(i)}}const kG={some:0,all:1};class GG extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:kG[r]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=f?h:p;m&&m(c)};return NG(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zG(e,t))&&this.startObserver()}unmount(){}}function zG({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const UG={inView:{Feature:GG},tap:{Feature:LG},focus:{Feature:RG},hover:{Feature:IG}};function jC(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const HG=i=>/^\-?\d*\.?\d+$/.test(i),VG=i=>/^0[^.\s]+$/.test(i),Yr={delta:0,timestamp:0},JC=1/60*1e3,WG=typeof performance<"u"?()=>performance.now():()=>Date.now(),XC=typeof window<"u"?i=>window.requestAnimationFrame(i):i=>setTimeout(()=>i(WG()),JC);function jG(i){let e=[],t=[],n=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,f=!1)=>{const h=f&&r,p=h?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(n=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,n=e.length,n)for(let c=0;c<n;c++){const f=e[c];f(l),o.has(f)&&(a.schedule(f),i())}r=!1,s&&(s=!1,a.process(l))}};return a}const JG=40;let x0=!0,Xc=!1,A0=!1;const Su=["read","update","preRender","render","postRender"],zh=Su.reduce((i,e)=>(i[e]=jG(()=>Xc=!0),i),{}),Gn=Su.reduce((i,e)=>{const t=zh[e];return i[e]=(n,r=!1,s=!1)=>(Xc||YG(),t.schedule(n,r,s)),i},{}),Os=Su.reduce((i,e)=>(i[e]=zh[e].cancel,i),{}),Zm=Su.reduce((i,e)=>(i[e]=()=>zh[e].process(Yr),i),{}),XG=i=>zh[i].process(Yr),YC=i=>{Xc=!1,Yr.delta=x0?JC:Math.max(Math.min(i-Yr.timestamp,JG),1),Yr.timestamp=i,A0=!0,Su.forEach(XG),A0=!1,Xc&&(x0=!1,XC(YC))},YG=()=>{Xc=!0,x0=!0,A0||XC(YC)};function wy(i,e){i.indexOf(e)===-1&&i.push(e)}function by(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}class _y{constructor(){this.subscriptions=[]}add(e){return wy(this.subscriptions,e),()=>by(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Sy(i,e){return e?i*(1e3/e):0}const QG=i=>!isNaN(parseFloat(i));class KG{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=Yr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Gn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QG(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _y);const n=this.events[e].add(t);return e==="change"?()=>{n(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(i,e){return new KG(i,e)}const My=(i,e)=>t=>!!(bu(t)&&aG.test(t)&&t.startsWith(i)||e&&Object.prototype.hasOwnProperty.call(t,e)),QC=(i,e,t)=>n=>{if(!bu(n))return n;const[r,s,o,a]=n.match(Jc);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qG=i=>ul(0,255,i),$m={...na,transform:i=>Math.round(qG(i))},Io={test:My("rgb","red"),parse:QC("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+$m.transform(i)+", "+$m.transform(e)+", "+$m.transform(t)+", "+wc(Ac.transform(n))+")"};function ZG(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const w0={test:My("#"),parse:ZG,transform:Io.transform},Xa={test:My("hsl","hue"),parse:QC("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+hr.transform(wc(e))+", "+hr.transform(wc(t))+", "+wc(Ac.transform(n))+")"},Xn={test:i=>Io.test(i)||w0.test(i)||Xa.test(i),parse:i=>Io.test(i)?Io.parse(i):Xa.test(i)?Xa.parse(i):w0.parse(i),transform:i=>bu(i)?i:i.hasOwnProperty("red")?Io.transform(i):Xa.transform(i)},KC="${c}",qC="${n}";function $G(i){var e,t;return isNaN(i)&&bu(i)&&(((e=i.match(Jc))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(v0))===null||t===void 0?void 0:t.length)||0)>0}function th(i){typeof i=="number"&&(i=`${i}`);const e=[];let t=0,n=0;const r=i.match(v0);r&&(t=r.length,i=i.replace(v0,KC),e.push(...r.map(Xn.parse)));const s=i.match(Jc);return s&&(n=s.length,i=i.replace(Jc,qC),e.push(...s.map(na.parse))),{values:e,numColors:t,numNumbers:n,tokenised:i}}function ZC(i){return th(i).values}function $C(i){const{values:e,numColors:t,tokenised:n}=th(i),r=e.length;return s=>{let o=n;for(let a=0;a<r;a++)o=o.replace(a<t?KC:qC,a<t?Xn.transform(s[a]):wc(s[a]));return o}}const ez=i=>typeof i=="number"?0:i;function tz(i){const e=ZC(i);return $C(i)(e.map(ez))}const Ns={test:$G,parse:ZC,createTransformer:$C,getAnimatableNone:tz},nz=new Set(["brightness","contrast","saturate","opacity"]);function iz(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(Jc)||[];if(!n)return i;const r=t.replace(n,"");let s=nz.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const rz=/([a-z-]*)\(.*?\)/g,b0={...Ns,getAnimatableNone:i=>{const e=i.match(rz);return e?e.map(iz).join(" "):i}},sz={...IC,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:b0,WebkitFilter:b0},Cy=i=>sz[i];function Ey(i,e){let t=Cy(i);return t!==b0&&(t=Ns),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const eE=i=>e=>e.test(i),oz={test:i=>i==="auto",parse:i=>i},tE=[na,ot,hr,ws,cG,lG,oz],lc=i=>tE.find(eE(i)),az=[...tE,Xn,Ns],lz=i=>az.find(eE(i));function cz(i){const e={};return i.values.forEach((t,n)=>e[n]=t.get()),e}function uz(i){const e={};return i.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function Uh(i,e,t){const n=i.getProps();return Ay(n,e,t!==void 0?t:n.custom,cz(i),uz(i))}function fz(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,fl(t))}function Ty(i,e){const t=Uh(i,e);let{transitionEnd:n={},transition:r={},...s}=t?i.makeTargetAnimatable(t,!1):{};s={...s,...n};for(const o in s){const a=_G(s[o]);fz(i,o,a)}}function _0(i,e){[...e].reverse().forEach(n=>{const r=i.getVariant(n);r&&Ty(i,r),i.variantChildren&&i.variantChildren.forEach(s=>{_0(s,e)})})}function dz(i,e){if(Array.isArray(e))return _0(i,e);if(typeof e=="string")return _0(i,[e]);Ty(i,e)}function hz(i,e,t){var n,r;const s=Object.keys(e).filter(a=>!i.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let f=null;Array.isArray(c)&&(f=c[0]),f===null&&(f=(r=(n=t[l])!==null&&n!==void 0?n:i.readValue(l))!==null&&r!==void 0?r:e[l]),f!=null&&(typeof f=="string"&&(HG(f)||VG(f))?f=parseFloat(f):!lz(f)&&Ns.test(c)&&(f=Ey(l,c)),i.addValue(l,fl(f,{owner:i})),t[l]===void 0&&(t[l]=f),f!==null&&i.setBaseTarget(l,f))}}function pz(i,e){return e?(e[i]||e.default||e).from:void 0}function mz(i,e,t){const n={};for(const r in i){const s=pz(r,e);if(s!==void 0)n[r]=s;else{const o=t.getValue(r);o&&(n[r]=o.get())}}return n}function nh(i){return!!(ii(i)&&i.add)}const gz="framerAppearId",vz="data-"+yy(gz);let yz=Fi,ih=Fi;const kd=i=>i*1e3,xz={current:!1},Py=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,By=i=>e=>1-i(1-e),Iy=i=>i*i,Az=By(Iy),Ry=Py(Iy),$t=(i,e,t)=>-t*i+t*e+i;function eg(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function wz({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=eg(l,a,i+1/3),s=eg(l,a,i),o=eg(l,a,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const tg=(i,e,t)=>{const n=i*i;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},bz=[w0,Io,Xa],_z=i=>bz.find(e=>e.test(i));function Qw(i){const e=_z(i);let t=e.parse(i);return e===Xa&&(t=wz(t)),t}const nE=(i,e)=>{const t=Qw(i),n=Qw(e),r={...t};return s=>(r.red=tg(t.red,n.red,s),r.green=tg(t.green,n.green,s),r.blue=tg(t.blue,n.blue,s),r.alpha=$t(t.alpha,n.alpha,s),Io.transform(r))};function iE(i,e){return typeof i=="number"?t=>$t(i,e,t):Xn.test(i)?nE(i,e):sE(i,e)}const rE=(i,e)=>{const t=[...i],n=t.length,r=i.map((s,o)=>iE(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}},Sz=(i,e)=>{const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=iE(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}},sE=(i,e)=>{const t=Ns.createTransformer(e),n=th(i),r=th(e);return n.numColors===r.numColors&&n.numNumbers>=r.numNumbers?Ps(rE(n.values,r.values),t):o=>`${o>0?e:i}`},Yc=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},Kw=(i,e)=>t=>$t(i,e,t);function Mz(i){return typeof i=="number"?Kw:typeof i=="string"?Xn.test(i)?nE:sE:Array.isArray(i)?rE:typeof i=="object"?Sz:Kw}function Cz(i,e,t){const n=[],r=t||Mz(i[0]),s=i.length-1;for(let o=0;o<s;o++){let a=r(i[o],i[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Ps(l,a)}n.push(a)}return n}function oE(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;ih(s===e.length),ih(!n||!Array.isArray(n)||n.length===s-1),i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const o=Cz(e,n,r),a=o.length,l=c=>{let f=0;if(a>1)for(;f<i.length-2&&!(c<i[f+1]);f++);const h=Yc(i[f],i[f+1],c);return o[f](h)};return t?c=>l(ul(i[0],i[s-1],c)):l}function Ez(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=Yc(0,e,n);i.push($t(t,1,r))}}function Tz(i){const e=[0];return Ez(e,i.length-1),e}function Pz(i,e){return i.map(t=>t*e)}const aE=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,Bz=1e-7,Iz=12;function Rz(i,e,t,n,r){let s,o,a=0;do o=e+(t-e)/2,s=aE(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>Bz&&++a<Iz);return o}function lE(i,e,t,n){if(i===e&&t===n)return Fi;const r=s=>Rz(s,0,1,i,t);return s=>s===0||s===1?s:aE(r(s),e,n)}const cE=i=>1-Math.sin(Math.acos(i)),Ly=By(cE),Lz=Py(Ly),uE=lE(.33,1.53,.69,.99),Dy=By(uE),Dz=Py(Dy),Fz=i=>(i*=2)<1?.5*Dy(i):.5*(2-Math.pow(2,-10*(i-1))),Oz={linear:Fi,easeIn:Iy,easeInOut:Ry,easeOut:Az,circIn:cE,circInOut:Lz,circOut:Ly,backIn:Dy,backInOut:Dz,backOut:uE,anticipate:Fz},qw=i=>{if(Array.isArray(i)){ih(i.length===4);const[e,t,n,r]=i;return lE(e,t,n,r)}else if(typeof i=="string")return Oz[i];return i},Nz=i=>Array.isArray(i)&&typeof i[0]!="number";function kz(i,e){return i.map(()=>e||Ry).splice(0,i.length-1)}function S0({keyframes:i,ease:e=Ry,times:t,duration:n=300}){i=[...i];const r=Nz(e)?e.map(qw):qw(e),s={done:!1,value:i[0]},o=Pz(t&&t.length===i.length?t:Tz(i),n);function a(){return oE(o,i,{ease:Array.isArray(r)?r:kz(i,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=n,s),flipTarget:()=>{i.reverse(),l=a()}}}const ng=.001,Gz=.01,Zw=10,zz=.05,Uz=1;function Hz({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,s;yz(i<=Zw*1e3);let o=1-e;o=ul(zz,Uz,o),i=ul(Gz,Zw,i/1e3),o<1?(r=c=>{const f=c*o,h=f*i,p=f-t,m=M0(c,o),v=Math.exp(-h);return ng-p/m*v},s=c=>{const h=c*o*i,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*i,v=Math.exp(-h),y=M0(Math.pow(c,2),o);return(-r(c)+ng>0?-1:1)*((p-m)*v)/y}):(r=c=>{const f=Math.exp(-c*i),h=(c-t)*i+1;return-ng+f*h},s=c=>{const f=Math.exp(-c*i),h=(t-c)*(i*i);return f*h});const a=5/i,l=Wz(r,s,a);if(i=i*1e3,isNaN(l))return{stiffness:100,damping:10,duration:i};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:i}}}const Vz=12;function Wz(i,e,t){let n=t;for(let r=1;r<Vz;r++)n=n-i(n)/e(n);return n}function M0(i,e){return i*Math.sqrt(1-e*e)}const jz=["duration","bounce"],Jz=["stiffness","damping","mass"];function $w(i,e){return e.some(t=>i[t]!==void 0)}function Xz(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!$w(i,Jz)&&$w(i,jz)){const t=Hz(i);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const Yz=5;function fE({keyframes:i,restDelta:e,restSpeed:t,...n}){let r=i[0],s=i[i.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:f,duration:h,isResolvedFromDuration:p}=Xz(n);let m=Qz,v=f?-(f/1e3):0;const y=l/(2*Math.sqrt(a*c));function x(){const w=s-r,_=Math.sqrt(a/c)/1e3,b=Math.abs(w)<5;if(t||(t=b?.01:2),e||(e=b?.005:.5),y<1){const S=M0(_,y);m=C=>{const P=Math.exp(-y*_*C);return s-P*((v+y*_*w)/S*Math.sin(S*C)+w*Math.cos(S*C))}}else if(y===1)m=S=>s-Math.exp(-_*S)*(w+(v+_*w)*S);else{const S=_*Math.sqrt(y*y-1);m=C=>{const P=Math.exp(-y*_*C),R=Math.min(S*C,300);return s-P*((v+y*_*w)*Math.sinh(R)+S*w*Math.cosh(R))/S}}}return x(),{next:w=>{const _=m(w);if(p)o.done=w>=h;else{let b=v;if(w!==0)if(y<1){const P=Math.max(0,w-Yz);b=Sy(_-m(P),w-P)}else b=0;const S=Math.abs(b)<=t,C=Math.abs(s-_)<=e;o.done=S&&C}return o.value=o.done?s:_,o},flipTarget:()=>{v=-v,[r,s]=[s,r],x()}}}fE.needsInterpolation=(i,e)=>typeof i=="string"||typeof e=="string";const Qz=i=>0;function Kz({keyframes:i=[0],velocity:e=0,power:t=.8,timeConstant:n=350,restDelta:r=.5,modifyTarget:s}){const o=i[0],a={done:!1,value:o};let l=t*e;const c=o+l,f=s===void 0?c:s(c);return f!==c&&(l=f-o),{next:h=>{const p=-l*Math.exp(-h/n);return a.done=!(p>r||p<-r),a.value=a.done?f:f+p,a},flipTarget:()=>{}}}const qz={decay:Kz,keyframes:S0,tween:S0,spring:fE};function dE(i,e,t=0){return i-e-t}function Zz(i,e=0,t=0,n=!0){return n?dE(e+-i,e,t):e-(i-e)+t}function $z(i,e,t,n){return n?i>=e+t:i<=-t}const e4=i=>{const e=({delta:t})=>i(t);return{start:()=>Gn.update(e,!0),stop:()=>Os.update(e)}};function rh({duration:i,driver:e=e4,elapsed:t=0,repeat:n=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:f,onRepeat:h,onUpdate:p,type:m="keyframes",...v}){const y=t;let x,w=0,_=i,b=!1,S=!0,C;const P=qz[o.length>2?"keyframes":m]||S0,R=o[0],E=o[o.length-1];let B={done:!1,value:R};const{needsInterpolation:I}=P;I&&I(R,E)&&(C=oE([0,100],[R,E],{clamp:!1}),o=[0,100]);const O=P({...v,duration:i,keyframes:o});function W(){w++,r==="reverse"?(S=w%2===0,t=Zz(t,_,s,S)):(t=dE(t,_,s),r==="mirror"&&O.flipTarget()),b=!1,h&&h()}function V(){x&&x.stop(),f&&f()}function H(Z){S||(Z=-Z),t+=Z,b||(B=O.next(Math.max(0,t)),C&&(B.value=C(B.value)),b=S?B.done:t<=0),p&&p(B.value),b&&(w===0&&(_=_!==void 0?_:t),w<n?$z(t,_,s,S)&&W():V())}function q(){l&&l(),x=e(H),x.start()}return a&&q(),{stop:()=>{c&&c(),x&&x.stop()},set currentTime(Z){t=y,H(Z)},sample:Z=>{t=y;const re=i&&typeof i=="number"?Math.max(i*.5,50):50;let z=0;for(H(0);z<=Z;){const K=Z-z;H(Math.min(K,re)),z+=re}return B}}}function t4(i){return!i||Array.isArray(i)||typeof i=="string"&&hE[i]}const hc=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,hE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function n4(i){if(i)return Array.isArray(i)?hc(i):hE[i]}function i4(i,e,t,{delay:n=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return i.animate({[e]:t,offset:l},{delay:n,duration:r,easing:n4(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const eb={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ig={},pE={};for(const i in eb)pE[i]=()=>(ig[i]===void 0&&(ig[i]=eb[i]()),ig[i]);function r4(i,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[n]}const s4=new Set(["opacity","clipPath","filter","transform"]),yd=10;function o4(i,e,{onUpdate:t,onComplete:n,...r}){if(!(pE.waapi()&&s4.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!t4(r.ease)){if(r.repeat===1/0)return;const h=rh({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let v=0;for(;!p.done&&v<2e4;)p=h.sample(v),m.push(p.value),v+=yd;o=m,a=v-yd,c="linear"}const f=i4(i.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return f.onfinish=()=>{i.set(r4(o,r)),Gn.update(()=>f.cancel()),n&&n()},{get currentTime(){return f.currentTime||0},set currentTime(h){f.currentTime=h},stop:()=>{const{currentTime:h}=f;if(h){const p=rh({...r,autoplay:!1});i.setWithVelocity(p.sample(h-yd).value,p.sample(h).value,yd)}Gn.update(()=>f.cancel())}}}function mE(i,e){const t=performance.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Os.read(n),i(s-e))};return Gn.read(n,!0),()=>Os.read(n)}function a4({keyframes:i,elapsed:e,onUpdate:t,onComplete:n}){const r=()=>{t&&t(i[i.length-1]),n&&n()};return e?{stop:mE(r,-e)}:r()}function l4({keyframes:i,velocity:e=0,min:t,max:n,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:f,onUpdate:h,onComplete:p,onStop:m}){const v=i[0];let y;function x(S){return t!==void 0&&S<t||n!==void 0&&S>n}function w(S){return t===void 0?n:n===void 0||Math.abs(t-S)<Math.abs(n-S)?t:n}function _(S){y&&y.stop(),y=rh({keyframes:[0,1],velocity:0,...S,driver:f,onUpdate:C=>{h&&h(C),S.onUpdate&&S.onUpdate(C)},onComplete:p,onStop:m})}function b(S){_({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(x(v))b({velocity:e,keyframes:[v,w(v)]});else{let S=r*e+v;typeof c<"u"&&(S=c(S));const C=w(S),P=C===t?-1:1;let R,E;const B=I=>{R=E,E=I,e=Sy(I-R,Yr.delta),(P===1&&I>C||P===-1&&I<C)&&b({keyframes:[I,C],velocity:e})};_({type:"decay",keyframes:[v,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:x(S)?B:void 0})}return{stop:()=>y&&y.stop()}}const c4={type:"spring",stiffness:500,damping:25,restSpeed:10},u4=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),f4={type:"keyframes",duration:.8},d4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h4=(i,{keyframes:e})=>e.length>2?f4:ta.has(i)?i.startsWith("scale")?u4(e[1]):c4:d4,C0=(i,e)=>i==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ns.test(e)&&!e.startsWith("url("));function p4({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}function tb(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function nb(i){return typeof i=="number"?0:Ey("",i)}function gE(i,e){return i[e]||i.default||i}function m4(i,e,t,n){const r=C0(e,t);let s=n.from!==void 0?n.from:i.get();return s==="none"&&r&&typeof t=="string"?s=Ey(e,t):tb(s)&&typeof t=="string"?s=nb(t):!Array.isArray(t)&&tb(t)&&typeof s=="string"&&(t=nb(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const Fy=(i,e,t,n={})=>r=>{const s=gE(n,i)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-kd(o);const l=m4(e,i,t,s),c=l[0],f=l[l.length-1],h=C0(i,c),p=C0(i,f);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!p||xz.current||s.type===!1)return a4(m);if(s.type==="inertia")return l4(m);if(p4(s)||(m={...m,...h4(i,m)}),m.duration&&(m.duration=kd(m.duration)),m.repeatDelay&&(m.repeatDelay=kd(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=o4(e,i,m);if(v)return v}return rh(m)};function vE(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>E0(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=E0(i,e,t);else{const r=typeof e=="function"?Uh(i,e,t.custom):e;n=yE(i,r,t)}return n.then(()=>i.notify("AnimationComplete",e))}function E0(i,e,t={}){const n=Uh(i,e,t.custom);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>yE(i,n,t):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=r;return g4(i,e,c+l,f,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(t.delay)])}function yE(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:o,...a}=i.makeTargetAnimatable(e);const l=i.getValue("willChange");n&&(s=n);const c=[],f=r&&i.animationState&&i.animationState.getState()[r];for(const h in a){const p=i.getValue(h),m=a[h];if(!p||m===void 0||f&&x4(f,h))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=i.getProps()[vz];x&&(v.elapsed=window.HandoffAppearAnimations(x,h,p,Gn))}let y=p.start(Fy(h,p,m,i.shouldReduceMotion&&ta.has(h)?{type:!1}:v));nh(l)&&(l.add(h),y=y.then(()=>l.remove(h))),c.push(y)}return Promise.all(c).then(()=>{o&&Ty(i,o)})}function g4(i,e,t=0,n=0,r=1,s){const o=[],a=(i.variantChildren.size-1)*n,l=r===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(i.variantChildren).sort(y4).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(E0(c,e,{...s,delay:t+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function v4(i){i.values.forEach(e=>e.stop())}function y4(i,e){return i.sortNodePosition(e)}function x4({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}const A4=[...uy].reverse(),w4=uy.length;function b4(i){return e=>Promise.all(e.map(({animation:t,options:n})=>vE(i,t,n)))}function _4(i){let e=b4(i);const t=M4();let n=!0;const r=(l,c)=>{const f=Uh(i,c);if(f){const{transition:h,transitionEnd:p,...m}=f;l={...l,...m,...p}}return l};function s(l){e=l(i)}function o(l,c){const f=i.getProps(),h=i.getVariantContext(!0)||{},p=[],m=new Set;let v={},y=1/0;for(let w=0;w<w4;w++){const _=A4[w],b=t[_],S=f[_]!==void 0?f[_]:h[_],C=Wc(S),P=_===c?b.isActive:null;P===!1&&(y=w);let R=S===h[_]&&S!==f[_]&&C;if(R&&n&&i.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...v},!b.isActive&&P===null||!S&&!b.prevProp||Fh(S)||typeof S=="boolean")continue;const E=S4(b.prevProp,S);let B=E||_===c&&b.isActive&&!R&&C||w>y&&C;const I=Array.isArray(S)?S:[S];let O=I.reduce(r,{});P===!1&&(O={});const{prevResolvedValues:W={}}=b,V={...W,...O},H=q=>{B=!0,m.delete(q),b.needsAnimating[q]=!0};for(const q in V){const Z=O[q],re=W[q];v.hasOwnProperty(q)||(Z!==re?eh(Z)&&eh(re)?!jC(Z,re)||E?H(q):b.protectedKeys[q]=!0:Z!==void 0?H(q):m.add(q):Z!==void 0&&m.has(q)?H(q):b.protectedKeys[q]=!0)}b.prevProp=S,b.prevResolvedValues=O,b.isActive&&(v={...v,...O}),n&&i.blockInitialAnimation&&(B=!1),B&&!R&&p.push(...I.map(q=>({animation:q,options:{type:_,...l}})))}if(m.size){const w={};m.forEach(_=>{const b=i.getBaseTarget(_);b!==void 0&&(w[_]=b)}),p.push({animation:w})}let x=!!p.length;return n&&f.initial===!1&&!i.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function a(l,c,f){var h;if(t[l].isActive===c)return Promise.resolve();(h=i.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(f,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function S4(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!jC(e,i):!1}function mo(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M4(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class C4 extends Js{constructor(e){super(e),e.animationState||(e.animationState=_4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Fh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let E4=0;class T4 extends Js{constructor(){super(...arguments),this.id=E4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const P4={animation:{Feature:C4},exit:{Feature:T4}},ib=(i,e)=>Math.abs(i-e);function B4(i,e){const t=ib(i.x,e.x),n=ib(i.y,e.y);return Math.sqrt(t**2+n**2)}class xE{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=sg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=B4(c.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=c,{timestamp:m}=Yr;this.history.push({...p,timestamp:m});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=rg(f,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=sg(c.type==="pointercancel"?this.lastMoveEventInfo:rg(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),p&&p(c,m)},!zC(e))return;this.handlers=t,this.transformPagePoint=n;const r=Gh(e),s=rg(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Yr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,sg(s,this.history)),this.removeListeners=Ps(Xr(window,"pointermove",this.handlePointerMove),Xr(window,"pointerup",this.handlePointerUp),Xr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Os.update(this.updatePoint)}}function rg(i,e){return e?{point:e(i.point)}:i}function rb(i,e){return{x:i.x-e.x,y:i.y-e.y}}function sg({point:i},e){return{point:i,delta:rb(i,AE(e)),offset:rb(i,I4(e)),velocity:R4(e,.1)}}function I4(i){return i[0]}function AE(i){return i[i.length-1]}function R4(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=AE(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>kd(e)));)t--;if(!n)return{x:0,y:0};const s=(r.timestamp-n.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mi(i){return i.max-i.min}function T0(i,e=0,t=.01){return Math.abs(i-e)<=t}function sb(i,e,t,n=.5){i.origin=n,i.originPoint=$t(e.min,e.max,i.origin),i.scale=mi(t)/mi(e),(T0(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=$t(t.min,t.max,i.origin)-i.originPoint,(T0(i.translate)||isNaN(i.translate))&&(i.translate=0)}function bc(i,e,t,n){sb(i.x,e.x,t.x,n?n.originX:void 0),sb(i.y,e.y,t.y,n?n.originY:void 0)}function ob(i,e,t){i.min=t.min+e.min,i.max=i.min+mi(e)}function L4(i,e,t){ob(i.x,e.x,t.x),ob(i.y,e.y,t.y)}function ab(i,e,t){i.min=e.min-t.min,i.max=i.min+mi(e)}function _c(i,e,t){ab(i.x,e.x,t.x),ab(i.y,e.y,t.y)}function D4(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?$t(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?$t(t,i,n.max):Math.min(i,t)),i}function lb(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function F4(i,{top:e,left:t,bottom:n,right:r}){return{x:lb(i.x,t,r),y:lb(i.y,e,n)}}function cb(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function O4(i,e){return{x:cb(i.x,e.x),y:cb(i.y,e.y)}}function N4(i,e){let t=.5;const n=mi(i),r=mi(e);return r>n?t=Yc(e.min,e.max-n,i.min):n>r&&(t=Yc(i.min,i.max-r,e.min)),ul(0,1,t)}function k4(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const P0=.35;function G4(i=P0){return i===!1?i=0:i===!0&&(i=P0),{x:ub(i,"left","right"),y:ub(i,"top","bottom")}}function ub(i,e,t){return{min:fb(i,e),max:fb(i,t)}}function fb(i,e){return typeof i=="number"?i:i[e]||0}const db=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sc=()=>({x:db(),y:db()}),hb=()=>({min:0,max:0}),hn=()=>({x:hb(),y:hb()});function ar(i){return[i("x"),i("y")]}function wE({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function z4({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function U4(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function og(i){return i===void 0||i===1}function B0({scale:i,scaleX:e,scaleY:t}){return!og(i)||!og(e)||!og(t)}function xo(i){return B0(i)||bE(i)||i.z||i.rotate||i.rotateX||i.rotateY}function bE(i){return pb(i.x)||pb(i.y)}function pb(i){return i&&i!=="0%"}function sh(i,e,t){const n=i-t,r=e*n;return t+r}function mb(i,e,t,n,r){return r!==void 0&&(i=sh(i,r,n)),sh(i,t,n)+e}function I0(i,e=0,t=1,n,r){i.min=mb(i.min,e,t,n,r),i.max=mb(i.max,e,t,n,r)}function _E(i,{x:e,y:t}){I0(i.x,e.translate,e.scale,e.originPoint),I0(i.y,t.translate,t.scale,t.originPoint)}function H4(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ya(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_E(i,o)),n&&xo(s.latestValues)&&Ya(i,s.latestValues))}e.x=gb(e.x),e.y=gb(e.y)}function gb(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function bs(i,e){i.min=i.min+e,i.max=i.max+e}function vb(i,e,[t,n,r]){const s=e[r]!==void 0?e[r]:.5,o=$t(i.min,i.max,s);I0(i,e[t],e[n],o,e.scale)}const V4=["x","scaleX","originX"],W4=["y","scaleY","originY"];function Ya(i,e){vb(i.x,e,V4),vb(i.y,e,W4)}function SE(i,e){return wE(U4(i.getBoundingClientRect(),e))}function j4(i,e,t){const n=SE(i,t),{scroll:r}=e;return r&&(bs(n.x,r.offset.x),bs(n.y,r.offset.y)),n}const J4=new WeakMap;class X4{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(Gh(l,"page").point)},s=(l,c)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=HC(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(v=>{let y=this.getAxisMotionValue(v).get()||0;if(hr.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(y=mi(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&p(l,c);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=c;if(h&&this.currentDirection===null){this.currentDirection=Y4(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,v),this.updateAxis("y",c.point,v),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new xE(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!xd(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=D4(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&Ja(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=F4(n.layoutBox,e):this.constraints=!1,this.elastic=G4(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ar(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=k4(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ja(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=j4(n,r.root,this.visualElement.getTransformPagePoint());let o=O4(r.layout.layoutBox,s);if(t){const a=t(z4(o));this.hasMutatedConstraints=!!a,a&&(o=wE(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ar(f=>{if(!xd(f,t,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Fy(e,n,0,t))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ar(t=>{const{drag:n}=this.getProps();if(!xd(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-$t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ja(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ar(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=N4({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ar(o=>{if(!xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set($t(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;J4.set(this.visualElement,this);const e=this.visualElement.current,t=Xr(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Ja(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();const o=Vr(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ar(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=P0,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xd(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function Y4(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class Q4 extends Js{constructor(e){super(e),this.removeGroupControls=Fi,this.removeListeners=Fi,this.controls=new X4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fi}unmount(){this.removeGroupControls(),this.removeListeners()}}class K4 extends Js{constructor(){super(...arguments),this.removePointerDownListener=Fi}onPointerDown(e){this.session=new xE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:n,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Xr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function q4(){const i=L.useContext(Lh);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=L.useId();return L.useEffect(()=>n(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function yb(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const cc={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(ot.test(i))i=parseFloat(i);else return i;const t=yb(i,e.target.x),n=yb(i,e.target.y);return`${t}% ${n}%`}},ME=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Z4(i){const e=ME.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]}function R0(i,e,t=1){const[n,r]=Z4(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);return s?s.trim():g0(r)?R0(r,e,t+1):r}function $4(i,{...e},t){const n=i.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),i.values.forEach(r=>{const s=r.get();if(!g0(s))return;const o=R0(s,n);o&&r.set(o)});for(const r in e){const s=e[r];if(!g0(s))continue;const o=R0(s,n);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const xb="_$css",eU={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=i.includes("var("),s=[];r&&(i=i.replace(ME,m=>(s.push(m),xb)));const o=Ns.parse(i);if(o.length>5)return n;const a=Ns.createTransformer(i),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,f=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=f;const h=$t(c,f,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(r){let m=0;p=p.replace(xb,()=>{const v=s[m];return m++,v})}return p}};class tU extends Rt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;nG(nU),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Gn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CE(i){const[e,t]=q4(),n=L.useContext(dy);return Rt.createElement(tU,{...i,layoutGroup:n,switchLayoutGroup:L.useContext(EC),isPresent:e,safeToRemove:t})}const nU={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:eU};function iU(i,e,t={}){const n=ii(i)?i:fl(i);return n.start(Fy("",n,e,t)),{stop:()=>n.stop(),isAnimating:()=>n.isAnimating()}}const EE=["TopLeft","TopRight","BottomLeft","BottomRight"],rU=EE.length,Ab=i=>typeof i=="string"?parseFloat(i):i,wb=i=>typeof i=="number"||ot.test(i);function sU(i,e,t,n,r,s){r?(i.opacity=$t(0,t.opacity!==void 0?t.opacity:1,oU(n)),i.opacityExit=$t(e.opacity!==void 0?e.opacity:1,0,aU(n))):s&&(i.opacity=$t(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<rU;o++){const a=`border${EE[o]}Radius`;let l=bb(e,a),c=bb(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||wb(l)===wb(c)?(i[a]=Math.max($t(Ab(l),Ab(c),n),0),(hr.test(c)||hr.test(l))&&(i[a]+="%")):i[a]=c}(e.rotate||t.rotate)&&(i.rotate=$t(e.rotate||0,t.rotate||0,n))}function bb(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const oU=TE(0,.5,Ly),aU=TE(.5,.95,Fi);function TE(i,e,t){return n=>n<i?0:n>e?1:t(Yc(i,e,n))}function _b(i,e){i.min=e.min,i.max=e.max}function Bi(i,e){_b(i.x,e.x),_b(i.y,e.y)}function Sb(i,e,t,n,r){return i-=e,i=sh(i,1/t,n),r!==void 0&&(i=sh(i,1/r,n)),i}function lU(i,e=0,t=1,n=.5,r,s=i,o=i){if(hr.test(e)&&(e=parseFloat(e),e=$t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$t(s.min,s.max,n);i===s&&(a-=e),i.min=Sb(i.min,e,t,a,r),i.max=Sb(i.max,e,t,a,r)}function Mb(i,e,[t,n,r],s,o){lU(i,e[t],e[n],e[r],e.scale,s,o)}const cU=["x","scaleX","originX"],uU=["y","scaleY","originY"];function Cb(i,e,t,n){Mb(i.x,e,cU,t?t.x:void 0,n?n.x:void 0),Mb(i.y,e,uU,t?t.y:void 0,n?n.y:void 0)}function Eb(i){return i.translate===0&&i.scale===1}function PE(i){return Eb(i.x)&&Eb(i.y)}function L0(i,e){return i.x.min===e.x.min&&i.x.max===e.x.max&&i.y.min===e.y.min&&i.y.max===e.y.max}function Tb(i){return mi(i.x)/mi(i.y)}class fU{constructor(){this.members=[]}add(e){wy(this.members,e),e.scheduleRender()}remove(e){if(by(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pb(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y;if((r||s)&&(n=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:f}=t;l&&(n+=`rotate(${l}deg) `),c&&(n+=`rotateX(${c}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=i.x.scale*e.x,a=i.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const dU=(i,e)=>i.depth-e.depth;class hU{constructor(){this.children=[],this.isDirty=!1}add(e){wy(this.children,e),this.isDirty=!0}remove(e){by(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dU),this.isDirty=!1,this.children.forEach(e)}}function pU(i){window.MotionDebug&&window.MotionDebug.record(i)}const Bb=["","X","Y","Z"],Ib=1e3;let mU=0;const Ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BE({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=mU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ao.totalNodes=Ao.resolvedTargetDeltas=Ao.recalculatedProjection=0,this.nodes.forEach(yU),this.nodes.forEach(bU),this.nodes.forEach(_U),this.nodes.forEach(xU),pU(Ao)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _y),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),i){let h;const p=()=>this.root.updateBlockedByResize=!1;i(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=mE(p,250),xc.hasAnimatedSinceResize&&(xc.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||TU,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=f.getProps(),_=!this.targetLayout||!L0(this.targetLayout,v)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const S={...gE(y,"layout"),onPlay:x,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Os.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rb);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(PU),this.potentialNodes.clear()),this.nodes.forEach(wU),this.nodes.forEach(gU),this.nodes.forEach(vU),this.clearAllSnapshots(),Zm.update(),Zm.preRender(),Zm.render())}clearAllSnapshots(){this.nodes.forEach(AU),this.sharedNodes.forEach(MU)}scheduleUpdateProjection(){Gn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!PE(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||xo(this.latestValues)||f)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),BU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bs(a.x,l.offset.x),bs(a.y,l.offset.y)),a}removeElementScroll(o){const a=hn();Bi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:h}=c;if(c!==this.root&&f&&h.layoutScroll){if(f.isRoot){Bi(a,o);const{scroll:p}=this.root;p&&(bs(a.x,-p.offset.x),bs(a.y,-p.offset.y))}bs(a.x,f.offset.x),bs(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=hn();Bi(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ya(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xo(f.latestValues)&&Ya(l,f.latestValues)}return xo(this.latestValues)&&Ya(l,this.latestValues),l}removeTransform(o){const a=hn();Bi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xo(c.latestValues))continue;B0(c.latestValues)&&c.updateSnapshot();const f=hn(),h=c.measurePageBox();Bi(f,h),Cb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return xo(this.latestValues)&&Cb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),_c(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?L4(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),_E(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),_c(this.relativeTargetOrigin,this.target,p.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||B0(this.parent.latestValues)||bE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Bi(this.layoutCorrected,this.layout.layoutBox),H4(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Sc(),this.projectionDeltaWithTransform=Sc());const m=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;bc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Pb(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=Sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=hn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,x=this.getStack(),w=!x||x.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(EU));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const C=S/1e3;Db(h.x,o.x,C),Db(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_c(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CU(this.relativeTarget,this.relativeTargetOrigin,p,C),b&&L0(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=hn()),Bi(b,this.relativeTarget)),y&&(this.animationValues=f,sU(f,c,this.latestValues,C,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Os.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{xc.hasAnimatedSinceResize=!0,this.currentAnimation=iU(0,Ib,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ib),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&IE(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hn();const h=mi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=mi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Bi(a,l),Ya(a,f),bc(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let f=0;f<Bb.length;f++){const h="rotate"+Bb[f];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const f in c)o.setStaticValue(f,c[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Nd(o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Nd(o.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Pb(this.projectionDeltaWithTransform,this.treeScale,p),f&&(c.transform=f(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Zd){if(p[y]===void 0)continue;const{correct:x,applyTo:w}=Zd[y],_=c.transform==="none"?p[y]:x(p[y],h);if(w){const b=w.length;for(let S=0;S<b;S++)c[w[S]]=_}else c[y]=_}return this.options.layoutId&&(c.pointerEvents=h===this?Nd(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function gU(i){i.updateLayout()}function vU(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,o=t.source!==i.layout.source;s==="size"?ar(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=mi(p);p.min=n[h].min,p.max=p.min+m}):IE(s,t.layoutBox,n)&&ar(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=mi(n[h]);p.max=p.min+m});const a=Sc();bc(a,n,t.layoutBox);const l=Sc();o?bc(l,i.applyTransform(r,!0),t.measuredBox):bc(l,n,t.layoutBox);const c=!PE(a);let f=!1;if(!i.resumeFrom){const h=i.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=hn();_c(v,t.layoutBox,p.layoutBox);const y=hn();_c(y,n,m.layoutBox),L0(v,y)||(f=!0),h.options.layoutRoot&&(i.relativeTarget=y,i.relativeTargetOrigin=v,i.relativeParent=h)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function yU(i){Ao.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function xU(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function AU(i){i.clearSnapshot()}function Rb(i){i.clearMeasurements()}function wU(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function Lb(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0}function bU(i){i.resolveTargetDelta()}function _U(i){i.calcProjection()}function SU(i){i.resetRotation()}function MU(i){i.removeLeadSnapshot()}function Db(i,e,t){i.translate=$t(e.translate,0,t),i.scale=$t(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function Fb(i,e,t,n){i.min=$t(e.min,t.min,n),i.max=$t(e.max,t.max,n)}function CU(i,e,t,n){Fb(i.x,e.x,t.x,n),Fb(i.y,e.y,t.y,n)}function EU(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const TU={duration:.45,ease:[.4,0,.1,1]};function PU(i,e){let t=i.root;for(let s=i.path.length-1;s>=0;s--)if(i.path[s].instance){t=i.path[s];break}const r=(t&&t!==i.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&i.mount(r,!0)}function Ob(i){i.min=Math.round(i.min),i.max=Math.round(i.max)}function BU(i){Ob(i.x),Ob(i.y)}function IE(i,e,t){return i==="position"||i==="preserve-aspect"&&!T0(Tb(e),Tb(t),.2)}const IU=BE({attachResizeListener:(i,e)=>Vr(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},RE=BE({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!ag.current){const i=new IU(0,{});i.mount(window),i.setOptions({layoutScroll:!0}),ag.current=i}return ag.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),RU={pan:{Feature:K4},drag:{Feature:Q4,ProjectionNode:RE,MeasureLayout:CE}},LU=new Set(["width","height","top","left","right","bottom","x","y"]),LE=i=>LU.has(i),DU=i=>Object.keys(i).some(LE),Nb=i=>i===na||i===ot,kb=(i,e)=>parseFloat(i.split(", ")[e]),Gb=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/);if(r)return kb(r[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?kb(s[1],i):0}},FU=new Set(["x","y","z"]),OU=kh.filter(i=>!FU.has(i));function NU(i){const e=[];return OU.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&i.render(),e}const zb={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:Gb(4,13),y:Gb(5,14)},kU=(i,e,t)=>{const n=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",i.display||"block"),t.forEach(c=>{a[c]=zb[c](n,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const f=e.getValue(c);f&&f.jump(a[c]),i[c]=zb[c](l,s)}),i},GU=(i,e,t={},n={})=>{e={...e},n={...n};const r=Object.keys(e).filter(LE);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=i.getValue(l);if(!i.hasValue(l))return;let f=t[l],h=lc(f);const p=e[l];let m;if(eh(p)){const v=p.length,y=p[0]===null?1:0;f=p[y],h=lc(f);for(let x=y;x<v;x++)m?ih(lc(p[x])===m):m=lc(p[x])}else m=lc(p);if(h!==m)if(Nb(h)&&Nb(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===ot&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(f===0||p===0)?f===0?c.set(m.transform(f)):e[l]=h.transform(p):(o||(s=NU(i),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=kU(e,i,a);return s.length&&s.forEach(([f,h])=>{i.getValue(f).set(h)}),i.render(),Dh&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function zU(i,e,t,n){return DU(e)?GU(i,e,t,n):{target:e,transitionEnd:n}}const UU=(i,e,t,n)=>{const r=$4(i,e,n);return e=r.target,n=r.transitionEnd,zU(i,e,t,n)},D0={current:null},DE={current:!1};function HU(){if(DE.current=!0,!!Dh)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>D0.current=i.matches;i.addListener(e),e()}else D0.current=!1}function VU(i,e,t){const{willChange:n}=e;for(const r in e){const s=e[r],o=t[r];if(ii(s))i.addValue(r,s),nh(n)&&n.add(r);else if(ii(o))i.addValue(r,fl(s,{owner:i})),nh(n)&&n.remove(r);else if(o!==s)if(i.hasValue(r)){const a=i.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=i.getStaticValue(r);i.addValue(r,fl(a!==void 0?a:s,{owner:i}))}}for(const r in t)e[r]===void 0&&i.removeValue(r);return e}const FE=Object.keys(jc),WU=FE.length,Ub=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jU=fy.length;class JU{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Oh(t),this.isVariantNode=CC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{});for(const h in f){const p=f[h];a[h]!==void 0&&ii(p)&&(p.set(a[h],!1),nh(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),DE.current||HU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Os.update(this.notifyUpdate),Os.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=ta.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Gn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,r,s,o){let a,l;for(let c=0;c<WU;c++){const f=FE[c],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:v}=jc[f];m&&(a=m),h(t)&&(!this.features[f]&&p&&(this.features[f]=new p(this)),v&&(l=v))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:f,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:v}=t;this.projection.setOptions({layoutId:c,layout:f,alwaysMeasureLayout:!!h||p&&Ja(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ub.length;n++){const r=Ub[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=VU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<jU;n++){const r=fy[n],s=this.props[r];(Wc(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=fl(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r=typeof n=="string"||typeof n=="object"?(t=Ay(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ii(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new _y),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class OE extends JU{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},s){let o=mz(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),o&&(o=r(o))),s){hz(this,n,o);const a=UU(this,n,o,t);t=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:t,...n}}}function XU(i){return window.getComputedStyle(i)}class YU extends OE{readValueFromInstance(e,t){if(ta.has(t)){const n=Cy(t);return n&&n.default||0}else{const n=XU(e),r=(BC(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return SE(e,t)}build(e,t,n,r){py(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return xy(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ii(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,r){FC(e,t,n,r)}}class QU extends OE{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ta.has(t)){const n=Cy(t);return n&&n.default||0}return t=OC.has(t)?t:yy(t),e.getAttribute(t)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(e,t){return kC(e,t)}build(e,t,n,r){gy(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){NC(e,t,n,r)}mount(e){this.isSVGTag=vy(e.tagName),super.mount(e)}}const KU=(i,e)=>hy(i)?new QU(e,{enableHardwareAcceleration:!1}):new YU(e,{enableHardwareAcceleration:!0}),qU={layout:{ProjectionNode:RE,MeasureLayout:CE}},ZU={...P4,...UG,...RU,...qU},xt=eG((i,e)=>TG(i,e,ZU,KU));function NE(){const i=L.useRef(!1);return Vc(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function $U(){const i=NE(),[e,t]=L.useState(0),n=L.useCallback(()=>{i.current&&t(e+1)},[e]);return[L.useCallback(()=>Gn.postRender(n),[n]),e]}class e5 extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function t5({children:i,isPresent:e}){const t=L.useId(),n=L.useRef(null),r=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!n.current||!s||!o)return;n.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),L.createElement(e5,{isPresent:e,childRef:n,sizeRef:r},L.cloneElement(i,{ref:n}))}const lg=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=Nh(n5),l=L.useId(),c=L.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:f=>{a.set(f,!0);for(const h of a.values())if(!h)return;n&&n()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[t]);return L.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[t]),L.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),o==="popLayout"&&(i=L.createElement(t5,{isPresent:t},i)),L.createElement(Lh.Provider,{value:c},i)};function n5(){return new Map}function i5(i){return L.useEffect(()=>()=>i(),[])}const za=i=>i.key||"";function r5(i,e){i.forEach(t=>{const n=za(t);e.set(n,t)})}function s5(i){const e=[];return L.Children.forEach(i,t=>{L.isValidElement(t)&&e.push(t)}),e}const o5=({children:i,custom:e,initial:t=!0,onExitComplete:n,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{r&&(o="wait");let[a]=$U();const l=L.useContext(dy).forceRender;l&&(a=l);const c=NE(),f=s5(i);let h=f;const p=new Set,m=L.useRef(h),v=L.useRef(new Map).current,y=L.useRef(!0);if(Vc(()=>{y.current=!1,r5(f,v),m.current=h}),i5(()=>{y.current=!0,v.clear(),p.clear()}),y.current)return L.createElement(L.Fragment,null,h.map(b=>L.createElement(lg,{key:za(b),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},b)));h=[...h];const x=m.current.map(za),w=f.map(za),_=x.length;for(let b=0;b<_;b++){const S=x[b];w.indexOf(S)===-1&&p.add(S)}return o==="wait"&&p.size&&(h=[]),p.forEach(b=>{if(w.indexOf(b)!==-1)return;const S=v.get(b);if(!S)return;const C=x.indexOf(b),P=()=>{v.delete(b),p.delete(b);const R=m.current.findIndex(E=>E.key===b);if(m.current.splice(R,1),!p.size){if(m.current=f,c.current===!1)return;a(),n&&n()}};h.splice(C,0,L.createElement(lg,{key:za(S),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},S))}),h=h.map(b=>{const S=b.key;return p.has(S)?b:L.createElement(lg,{key:za(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),L.createElement(L.Fragment,null,p.size?h:h.map(b=>L.cloneElement(b)))};function a5(i,e){var t;return typeof i=="string"?e?((t=e[i])!==null&&t!==void 0||(e[i]=document.querySelectorAll(i)),i=e[i]):i=document.querySelectorAll(i):i instanceof Element&&(i=[i]),Array.from(i||[])}function l5(){const i=new Set,e={subscribe(t){return i.add(t),()=>void i.delete(t)},start(t,n){const r=[];return i.forEach(s=>{r.push(vE(s,t,{transitionOverride:n}))}),Promise.all(r)},set(t){return i.forEach(n=>{dz(n,t)})},stop(){i.forEach(t=>{v4(t)})},mount(){return()=>{e.stop()}}};return e}function c5(){const i=Nh(l5);return Vc(i.mount,[]),i}const Mu=c5,u5={any:0,all:1};function f5(i,e,{root:t,margin:n,amount:r="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=a5(i),o=new WeakMap,a=c=>{c.forEach(f=>{const h=o.get(f.target);if(f.isIntersecting!==!!h)if(f.isIntersecting){const p=e(f);typeof p=="function"?o.set(f.target,p):l.unobserve(f.target)}else h&&(h(f),o.delete(f.target))})},l=new IntersectionObserver(a,{root:t,rootMargin:n,threshold:typeof r=="number"?r:u5[r]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function Cu(i,{root:e,margin:t,amount:n,once:r=!1}={}){const[s,o]=L.useState(!1);return L.useEffect(()=>{if(!i.current||r&&s)return;const a=()=>(o(!0),r?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:t,amount:n==="some"?"any":n};return f5(i.current,a,l)},[e,i,t,r]),s}const yn={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px] text-center",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider text-center"},d5=({texts:i})=>{const[e,t]=L.useState(""),[n,r]=L.useState(0),[s,o]=L.useState(!0);return L.useEffect(()=>{const a=setInterval(()=>{if(s){const l=i[n];e.length<l.length?t(c=>l.slice(0,c.length+1)):(o(!1),clearInterval(a),setTimeout(()=>{o(!0),t(""),r(c=>(c+1)%i.length)},2e3))}},100);return()=>{clearInterval(a)}},[n,s,i,e]),Ne("span",{className:"inline-block text-[#915EFF] font-bold",children:[e.split("").map((a,l)=>X(xt.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},children:a},l)),s&&X(xt.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},className:"inline-block ml-1",children:"|"})]})},h5=()=>X("img",{src:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/72x72/1f44b.png",alt:"Waving Hand",className:"wave-emoji",style:{display:"inline-block",marginLeft:"10px",width:"50px",height:"50px"}}),p5=()=>{const i=["Web Developer","Mobile Developer","Frontend Specialist","UI/UX Enthusiast"];return Ne("section",{className:"relative w-full h-screen mx-auto",children:[Ne("div",{className:`absolute inset-0 top-[120px] max-w-7xl mx-auto ${yn.paddingX} flex flex-row items-start gap-5`,children:[Ne("div",{className:"flex flex-col justify-center items-center mt-5",children:[X("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),X("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Ne("div",{children:[Ne("h1",{className:`${yn.heroHeadText} text-white`,children:["Hi, I'm ",X("span",{className:"text-[#915EFF]",children:"Hamza"})," ",X(h5,{})]}),Ne("p",{className:`${yn.heroSubText} mt-2 text-white-100`,children:["I'm a ",X(d5,{texts:i}),X("br",{}),X("b",{children:"Welcome to my portfolio, please view on desktop for an interactive experience!"})]})]})]}),X("br",{}),X("br",{}),X("br",{}),X(Lk,{}),X("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:X("a",{href:"#about",children:X("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:X(xt.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]})},m5="/assets/5CC3C4C4-FB4B-4275-A430-A1FD2E3EE0D5-97daf502.jpeg",g5="/assets/logo0-3305e1ac.png",v5="/assets/github-3b4e1609.png",y5="/assets/docker-602a695a.png",x5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",A5="/assets/java-7b6569e8.png",w5="/assets/ubuntu-6cdfb66a.png",b5="/assets/reactjs-966214a8.png",_5="/assets/postgresql-37e8b3be.png",S5="/assets/mongodb-54000b2b.png",M5="/assets/tailwind-6ece120d.png",C5="/assets/python-8422e3b3.png",E5="/assets/c__-bb5916d9.svg",T5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",P5="/assets/threejs-fe160e71.svg",B5="/assets/azure-ad55067f.png",I5="/assets/powershell-207bfba0.svg",R5="/assets/cisco-5b403523.svg",L5="/assets/connectwise-b1608c48.png",D5="/assets/virtualbox-d0fddcae.png",F5="/assets/kali_linux-998bf119.svg",O5="/assets/wireshark-03b75a7a.png",N5="/assets/nmap-17280756.svg",k5="/assets/johntheripper-24bb2ad9.svg",G5="/assets/photoshop-4e8a5535.svg",z5="/assets/premiere-86a3c358.svg",U5="/assets/cinema4d-690cdea2.png",H5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAzFBMVEX///8WPnAUd73yaT8AMWkAI2IAJ2T6+/ygqbuirb/yYjP4uKrxWiQAbbkAcrsZPW2Wo7cALWf5v7ICN2xqfZv96OPxXSsAK2YLOW0AbLkAImKMmrDg5Or7/f4FdLzk7vaSuNvw9vrAyNTP1d5KY4h5iqRtodCzzeXU4/EkfsDp8fijw+CHsdgnS3k/W4SxuskgUIJec5MfRnZEXoXHztm4wM3+8/AADlvxUhBBi8VVlst6qdQAFl3H2uzW5PEhfcBxg54mYZcjZp9ujK9ZvFe9AAAHtElEQVR4nO2dbWPaNhCAbWYMrLOL526YNwcChJBAKZSshQxou///nyYgJCCdbVnym9p7viax9XC6O0kGomkIgiAIgiAIgiAIgiAIgiAIgiAIgiBIEPVqYjzR1/7nXSQZGH4xkqKxoK/919ffI/iagWFZTwr3A2P4928R/IGGaIiGaIiGaIiGaIiGaIiGP6thqrunIhi6NWGAHfCf17yjFfMwNFO9Gz1tczGspHk3NEwDNEwWNEwDNEwWNEwDNEwWNEwDNEwWNEyDbA3pLXEezw/TNWS2xGne7IVsDfMADdUHDdXnFzTMe0CJQxt6683dtDfe3nTzHllS0Ibvfd+3bctqWpPNdPwzeDKGpVd8Imqve1vFMzPE8FVz3dvlPUwJogxfLEvT+7xHKgqP4QG7Oend5D1YIXgNj5Lrcd7DFSCGIZmuVqnXz3vEcYlleAzks2KTNa4hcbTuHgRv1m3Xr2kn6gIT35BM1uaz2Fyt/Es9+/+SsA2EiOEhjj2Rm1VM6m7lhG0gxAyJY0mgriplWCo1N7HTUTFD0jseY95MNcNSyVrHC6N6hmTFGisbi2FI9oexwngX42aFMHTvNpPSYWNoc4raE/41TiEMj+c0/Zvt4/OaaPJY+taW92bFMLzY0e8eNz6PZbPHebPCGR64n06adpQibzIW0pCwm+6tCEl7zXVkVVRDwnYTEUh7zXNeVWBDUnymdqijv+fYbhTakAyv54c5+qVoxYIbkg1sLyyOHIqFNyRz9bkZ3Dz8fVQuKmBICuvaClacRFRUJQw17TF4DWCvw/9UEUOtvwkMox3e+lUxJGG0gsIYfn6jjqG22wcV1WbYhlEhQ60bOFObIZsplQw1bdqMX1DVMtTGAYoh1UYxQ20bMFGDU1E1Q20XUFKtoFRUzlDbwc3fD2r86hmSKMJBDDgqVtAwUBGepyoaaluwogbMUyUNA5qGBdZTNQ21KTxRob6vqKG2gdao9hT4TVUNuyWoZ1jAYylVDbUdlIrQ4k1ZQ7JfBBSBTYa6htoamKc+G0SFDR+gYsO2fYUNwXnKZqLKhuA8bdJHxEob3gP1lOmJShtqd1AqUgubXAxbSRk+AJlIr04Zw5b0+KOhY1gWft/6lA0ivcWoMHeTHT4HDh1D4XfIVoAgUl3/gY6hIz3+aFzasCN8KSCIdu/qNzoN6m6u5Oh5mHnX92wMhC/VB4K4v/qNAWXozWSHz8GQMnSYb3vi55ntic2rDzE8UTnhDWWHz8GCMjTq4te6YXvidUusG5Qh8/VgKTCiEtH9JnExaGFz+fNv9M1GcoPnoka/rDKpMWYz0br8QBGd9EZNdvgc3NLtwpD4IFcFqKYXR6d96tXUnVt5gUiYAi5RTMnSjZmm/ubtp3Qp1RvirYmfLt0QZUoN9LDGflub0oVGdzP5eONHKjfkKjiQiG/9gu5M3kfp0fPQpoNYlvlkEztN35Y1febdull8ZAYqNXOJq7HV9C0R50yhkVhdxKBPr4alpimwh/LPP6MnqcQqPx50IuoN0Q9uHZgw0/R8IPVAV9KM0pAkIj15pKrpM9MSz28DZyqpkU0aAl1Kak/DJuK51NAVTa7zxoK5tSNRa27YUnM6VJzTFS2TzeEJevEttzZlDU9HGfSaNJtl94kBXU2lgsjuL47FlA2hmdkkBV5emQnE9vzjwTBdZrLZ35+pMreXKHOPbDHdAQVbN6oJGkTBHPLJHEixxZS0iw6TCBLHliIwtUaiG9+zhmN2VZFlnTnAbBJJsRFt+2y7sB+rTJnJZmt4wQcmiMKlrs/kob9hkhD4Ev6U6dCPL8g89cTWxV3GcM9cW9dbGYcQDKIrmIpMt/jECmYeQmDhTzDEhrGnBL+/Zy8ttX0RhG1YpNoI1btJtGBmu4pLukCy6A2RkVzvEL8zfeJA4sPn4ZZtykRRIIqTSEEzi2NSAKDYkIkaPxf3UYI5lJkTFXA+GR/jNo2LNvEJyEHSh3L7erQV+F91XD1m639Nw/0Sup5eXqUzfB7a7OLq8JKXYy3gzh1//wMMoO7kUUdfGUKpSAb1OcYK5GXVFjBDdTeLh6Iho3PBXNQ9k/+FP628AwKoe27O31EIbDJOGB7vwcbh4cyPZYBg5lsKllt2CX4e24zPcez/mAX56a2cOuElc6jxnyaY41ajO0f/Pz3QTzdlHokkRj3kP7EZzuIpLI8qTwsHLlZH4hXl9KgHRvEYSHNR60APNrud2sJ04Er1EsGCCGpaNfz/6blGwxu254POOZqVzmDeHnoNIyR8hwhmebgWwTyw3LyGkmiaZUdfLpe6UzaJXFjwjrQKkYNnVqGzTQTPyXGtBtHxwmdcXFwv9z5IUxmCa1RBnGERv2253UpqpnqtXBfbwQyWwNGNAMYyw4dM8ah8K8uH0SuPijhDzwxmstnozAobwBeqjsxUNZwCdfkg+iNTtHG45kiNL45+GAnF0WiMcjjYFqTfNmIucjzHaKsRv1fmn03+QBrm50ItQjnp1HXTiI6kZ5h6vXBLNF469aHTCLH0jIYzVFfvRGVVHxIPw3W9N1PPc12DuA/rqyJ39xh0VrX2Yjgj5bJcLjcMfTZctGsrxWMHUjmR9zAQBEEQBEEQBEEQBEEQBEEQBEEQBPlF+R+eOre/9RsSCgAAAABJRU5ErkJggg==",V5="/assets/rhhs-e7215809.jpg",W5="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCABkAGQDASIAAhEBAxEB/8QAHAABAAIDAQEBAAAAAAAAAAAAAAYHBAUIAwEC/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAIDBAUB/9oADAMBAAIQAxAAAAHqkAAAAAAAAAB5+gAAAAI/G2QRnG+V9Cq+hIXgU9Kw0GnOnghPMBClc1N3eH139510lWjoXQVnpK91/elLbOq6b2xyZn34Op9LzPlyz9KI45nSxNDb62qA5kyQnoPxIkJx/J27xD9TYy2upI10AupiyUsesIzAAAAAAAAAAAAA/8QAJRAAAgMAAQIFBQAAAAAAAAAABAUCAwYBABQHFRYwUBIgIyU2/9oACAEBAAEFAvjYWRs9zQXmCgZks3v/AGXLPlbUQ78o641Acr6tMBxOnV/mr1VE7vsu1NI+hD1oJtyhrU6BaK6mtF+WiVI8BStJ9GjSr9I09wEIsZ2RjxCPThrUlAWHwaAbz9doqmNwdy7uTDJP2RIdr5kkZlT4nYGWzfRV1sW+kkxrVO4smi8nzhsEvbMjtILi/wCX2eet0IF/h/EvpljAWR/pBTyPwhX8EV5xXVxdn1pBEVAULycipLlLBK/rN8Pq7wTcIzo6zAdy9F8p/8QAKREAAQMDAgUDBQAAAAAAAAAAAgABAwQREiExBRNRcaEGMEEQIJHR4f/aAAgBAwEBPwH2tvtijKY2AN3UNLOBNK0eY+HVfHUcQk5ow4287flTU8tPZpWtf6yVhxSOD9fCj4mUFpGbVkXqCqYcQe1u3ZN6gqy2d9eyPjEszWn11fz+0Vezi+La/wAuoyyASdFTRGTkTbrkRXd8d1yw6LAeieCJ9xZFRwl8IRwFhb49/wD/xAAmEQACAQIFBAIDAAAAAAAAAAABAgADEQQFEiExEzBBURDhIqHw/9oACAECAQE/Ae+TpFzGdSLXtKZWmLaorBuPmlgkrUw49fuNl2skA7f1omVJe78fV4crRb3YbQ5YBvT2i5eQw1N+P3aVVCVGURMVVpqFU8Tr1bAauJ1H9zqP7gxFUcMYuNrL5vHbWxY+e/8A/8QANxAAAgEDAgQDAwkJAAAAAAAAAQIDBBESADEFEyFRFCJBMnGhECMwUFJhgbHBIDNCcoKy0eHw/9oACAEBAAY/Avq1sWDYmxt6H6Tm0QBZDd7/AGdcqkUfOMGkv6L/AMfoosEDzTOI0B2voLxCzO3UNAOlvcTfXKtL+85WWHlvqcMWjKDM5W93pqr58LJDHjh0s3Xvc6AwZklAMOO573v9/wCynCXhkEj2xk/h21WxRiXKkQu+S223tpKuAOImvbMWOhHIWQq2Sum6nTvNWTyO6YMfL1F79tQ01TWTJLPKJUGO523toI08zAJgNugvftrnmqnMtwcjj/jUnCYqmZjS3zRo1+11sbaCjYdPkermV2jS1xGOuoaqIEJKLgNvrhHEdgLX/pa/66qp26GuhkH4Mf8AWjwxqqalgoqZiEhbHzgdfidcPyq5gyTMnMy39nfvvrjEKVs1SI1KqZmyt5gL/HXBZ/GSVtTIc5Q8mWJy2+7VVP4po6pXBEjVfKWIdsdVlDJxWeFFUtIYpDbcdF7dTrjpdprs7ovJkwYnmd/w1W0UlRKgemMmBlLGPyZCx1wuqHEZmWR3AjJ7Eb999cXqzVNHRUxQLTjZrtYX/PVB/Kf7jqGOnKCZJL3c2Frdf01w3mVATw0KxyKqXzsbn89NV8yop5nFn5D45ap4TS3SC+HnO53Pw1NP4SMyzX5jEXyvvoY8PpunUfNg658lDA8u5YoOummWkhWVvacILn11M0lGucvVmBN73vosgmjYoUJEl+hFvXVJTQ1rxrTM7KXTK+Vvd21xCKgnhNFUkNy29o2NwNtUlPUJhNGCGW9/U/Wv/8QAJhABAAICAgIABgMBAAAAAAAAAREhADFBUWFxEDBQgZGhINHh8f/aAAgBAQABPyH6asNwb7HzHsRkB0Zr8YB2EhMLduv8fKGma+JOXxkN7FF475CdTxle03rOFzpxePoKkqBJvVN4YijECMLweOMlPII85EgICbZ/juAkSUy9+MBggckONn9YkFRCoYeXkwDInILyYFOT9AAOFhrJF6ZNsCEQvFwDTx9H2coSaJFhGqYyOTJBNzMtinWa3EE/BF/ABsgbTlzhydh7jI7xBniX6yT7RnKR/ayfzqM5Ce7n1jOKMOSTPIS33lnCEDGi0ILVY27CCiwTBL7PAftPPj3iKgFEgsmj+CsAD17BeLBCnB7U055SPDHfOSPoyQ52d++ozQK+u94SLM38LEUxdUlGg4n4seFpAyQKuMcclZAxDNOynvEqp4QtEkJKw31kMCCiNDOBopyLB9pj5cdjO3v75r1CS0s82DjdDo0lI7pnGpMJySuXDgVApKRQw/8ATGlQTx6EIlubyPtICGqzxH1X/9oADAMBAAIAAwAAABDzzzzzzzzzzXzzzzrjf7zx2G43PYE66491/wD88888888888888//EACQRAQACAgAFBAMAAAAAAAAAAAERMQAhQVFxgZEwYaHwECCx/9oACAEDAQE/EPSRUJ+oxTR99sjfjNSBf2/bGujE85IN60kNUY6iqT8+KeTJY/nfiC4cQR8uTEFSQbIHob42Xk4aVQA2aQHLUUGQowaHNN2cY3w6uAk1oghTt1cNszggpGQ11LoO+NeEHyZOmYT2rKAm2u/9ziR8GBshnoYrMroZtBDUi1ER41hUAB49f//EACMRAAIBAwMEAwAAAAAAAAAAAAERACExQVFxkTCBobEQIGH/2gAIAQIBAT8Q6V/qMliEBs8iO9n4jd380LSQzgS/Aid2wXQFmrJQrpDhIyFE2dR2HuCUis3KtpvS3FYTYiBrkABrZ6d4UgFkTXYtcntLAAJHBiCwZd7ykCVlbY9U2mN+TCQImtzBaS3MpZALogXbe7r+YhLiInnr/wD/xAAhEAEBAQADAAICAwEAAAAAAAABESEAMUFRYTBQECBxsf/aAAgBAQABPxD9a2AcgYAq+EEz7/IA2+BaMXcaY2Xj/wCTINE0B8oqh3p/CjpdZr3mxmGtP9488AQkgopNJErLOH27PlLFK+j2agcgO6Voi99GVPXwMgLpK+VQQVb03COcoA4EKADAzy/0SMMi4+ljR6unFZBoCgVaieg03gU1txdoBKHfnATUdoIiPy5/xBBwVOYgOsV0Xa62WBJmyxUQ1ExvDljOqQkFRmq2p1AGO96pHa2nSjOAp1xUCUTYkIPukWhSlYENdev41tO4+gJIe+8jt54DUgSWj0vClEW9pUTtWPsOVM5VqQfrmw9BuG2e9rxCa8Oj0+MfcbpahG8ZgI4sJwAEFJSZwCTcVMwrk6e5epwoH1h6h3XTwRa6qKcaMKDBIGMRnGIqSHQpRaAVGEtAKmJKHdCyCjQ4Hmto9SzRbrrgBkj4HHQ6IEAUDoCHRlOaGrZYglRbWHnKyQGREsAapiZ5xVqUJ5it4ggLRVeMnacytLna1ICBOIJSybKFIihkmHLHjo6DRDcPfDlITyH42R/YeNsdarMkX1nociHj/oKbNU+U6UVwOmLCnfR4QyE45bBupQBHKHrOIMM3seqE4AQaFgKQzH1IVGpY+7HP2v8A/9k=",j5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADMCAMAAAAI/LzAAAAAsVBMVEX///9ONZTzczPzcS9NM5NLMZPzbypILJFFKZDzbSVBIo5JL5L//PvyYQDv7fREJ5D29flpV6I+HY3+9PDyaBg7GIzSzuHX0+T84tn96eKckr84EovLxtymncUtAIaNgbb6yrlUPZdeSZyBc692ZqlwX6bi3+u5stH4u6T72s75waz2m3b1jmL3q470gU33pIX4s5nCvNevp8rzeD30hlbxVAAWAH+OirYAAHX60sNXTJiEJwlvAAAMrklEQVR4nO1da3ejOAwFjHkEQkhC3m9ISJp3k3RmO///hy0kASzbadppG8yc3nP2w069s7pYliVZUiXpBz/4wQ++G24/bwm+DK7T1Vt5C/E1cPtBVW0Ezuh33pJ8Hn1V1nVVxpPK5DlvWT4Ld1pS5QgqliuBk7c0n4TTOHM5wxj+d8hbnk9h0JMJ9AqtaSHgIte6bt4SfQKzEiBjTZp5S/QJDBqAjFyaFXZrBoNBDZKRh0X1BVy/plNc5FKQt1R/Cce3aC6yOiyqnv1hyci/ikrGZ7QsOjRFdQMO/xKZvqrSXIxq3kL9NYIKTaZXXO+s1aO4qKWi3jMRhhQZa1JUYyaxZCrFdWckqQYtgNoocgygY0AGT8K8JfoEqJ3BRpHJUGdGbRSZjAW9M2NW1Ps/RgtuTW+et0Cfgm8AMgW+MiM8G4QJ0KtFPjJRtFklPOdGoZMzEZludmqwWuQrM0Y4S06NWvSNibYmyTbh3qjoXCRpPtQjG6BWChzJZAhHM8MwStMiX5cknGD2j7yc/euw63lL8HWwX3eLcSdvKe7gvd+7fvI8tNovNt8qzeewWb1vnb33FAWZHipvhN2ejmcubHv/enehvYrIRECK+U76j8fKROh4NFd3lc0+asoF2klMS9Bem/HHRkp5Yd9Z+lRWEmgr4RTNXpZfyuZVPqS97N9evjZTMkpZNCMQcUGZeAoqL99eP/ayxd7u3j4+GJBLJODbZDptM1uvndoPkvJ9GFNcIgEXb61fn8jF5p1tfDA8TaGgvdz+3PYCrvc2QunZzqPJKObtY/1kwn00hbJnHdI4pRLeXL6gdBKhvTh3zf7IclG09c31K1opzbU4W3M8ndAHyHS2NBnkiUNmL60ZA6Cg463lT1uGOiqLY50XZYZLRKbNPwj2ht1GRRQy9XaH/dQxm5c1z+J2ViZntSeIS7MwEatkMbj2rL7j7GK8NeNHy81Bp9M5cWxZDG3NUbRoY/iry085SA9hb5ac85wo2poVsH3ib6NinnIQn5KtvFyiW2S0LUOmfmtjorAhD/kBxuv6jhAPwUAA0fGzvfFuMVfMvB20+mm3PCJC+qcy+eXRcQ1Nbpv2rkkyeV+ckeuvEeJpJ0qPUBk4xDbHh8v+4zeDhgfgFdpZZNaTtEsi4Zb83vYLuZgOgba50TijDr80Qtt6pElARG9NmOcOkcZANBu0zffQtF+g4PE13lGgjOVdurxOmOX1fryAVhod76fbvhMLoFJIi1WqDvUscu+T1fY6/QnaPkUbtoS8tXWeUY0NvSzznC2zl5AMOianZp/9AG1Xe+YCRWiXIxsYLJuni9Rt+L2Rd5WwTdhwxTvGtou6QZGWIxvglCFteTnA9Q1UPuUqIBlfaquz27agbYCW27FZgC3IUixjaM/MiwUYk6uvDjXYrPNfktfW1BVS401tnPyASm8g8+wFkF6PkuShaIdbO+YUpAGRgRRj+MEv20CSSYOXBeVCazllNkB4iRTSP27DlACKf/aUWS6Uefs27QaY2j6Pq/OJ/PwaCCopPYt/+LpN/wgk1ZmIwFzlQYbcGSoTA6KC+Kf1dsZFU8hDTjk/0RbncmheiZ3xqNeYPSSjbLIbSdsuwaenTUAuuYA6eW3Q8fv4CA92tokIUY4+5Xcr5TxuGmCxypSe1zfwYGf/xjx32rRfmkNeAyRZ2GeyOpOBTRRyRy+lEogmJwny3SCtL1JYA7Tnh8ecFEeHygqY2sOdAJBf4rwrLdgHm4uWMSvtDbX04acGSMBNre45Lzaex0ty0lvzcDJk2gIhngvCHhpt2ZZ4j9D2Hm7Nw00A6RibRImFm1ZgMo8ccRz6mvoxIVGpTQVA5frdkoivxSupZam1DVuDtJ50xRwacystk8PVGlZbYbK0Drem/OqNH0pmme0MMsfXD9mcNnrDwXVFhw5VIkuWfnBX1S29mjafPwGdRMfH1gaRwWR2Df7uxWMykjWMPSMOdrcmy7qfapq9ge6P9lAyHSITUU58rTDuYcSTpEC280KdmszrCmUsy8Y06wmAW6OgsfRAEEcmuwZb54p/o5ssGlOPFxmZUVx/XglaWWHwBi5d7x4Xo5HG1EyDqf4k7i3Tp+kymAvIXpTDuBEd+6NDRgY+QCPzgaVBRFbWzPyT+blE3vITEfceWR6AtHRnnmPWuBr4RJ3zBpqAsfQwZHc2Oqa1FW63Bsl0dgRpdDylycBuXEovY304IPoC4NZ4DytAyRL9ZHrYufYwV0bpH2WuNSKuDmd6bdkojYi2oDZ85fXuFxN+DYhXC6LapzXB186lVHvaW8RhfcBJn9NwRPQGjE3A5lHFQXb2wYmyt/614Ue1knvzGkUiT1PQJnV5wlnWhT4ke+mWsAKn/Bgj0Emf+rRT9vn6yUCWUjqOqY08E6HtYu1lJ9odZFNoCCcgxnhL3rN3KyO/iMx+bcbVb5rnZR9cal7VLDIBydVeX6xWx8glezopqZa1iDEUDaqb5mlNsNHWXG/8y2F3XvfHcnm9GRNBYZh2yVXSTqx6p/OElEjK7BJ8Jpo2aTJR/Jo+4Jq79pIJsb8Jdqfd7oD4NgySvjJskZ2Yy33ckZHqf58YdaBX6eagzu5S8BjdSsvo//GdDN5ES06by0GTnA3P8Zyc29AYUH+JZL+i6ECa5vZxNw0HTpAd7Mr0Zl9pyyL76XnTdOzTS/wIQmzm49EnzoJxk4xjgM7gis/rDaxvc64IcKqElKWRc6OBEfZsl271OeZcq+FMiD55I+hO+WI+g4Faos6gg/OljN6NASYhmKhTCsTsQKWGZbFm6gw3AEPoSoKObqTIVPjfvE+NORgUYmdujJYagSOjNgQdDggMQEyG2y1bhYZZUC1jyXANFSQjqjGTnBqclMP4kGeMyPOPZUG1jNmZ0oi36kA6ZljYeZouNcXMmPJWkf6/jH1hyVCTP7HFWwWsmaoLO4DmGV4hRoOzxoFj20ojQa2Z9AwExT7vq8NrBquiTtMZzIDVxTLvbsfA4qmWoINObJ/yAHimOaRm0NZ6gs6hcJo6mGLGmy4ZwlHHpd8DQQcduSMo6ZWMEx3xyIF2DoHvV314r4o7hBqMY5Iv94wzmNWGw2Ej+qdmWJYFuUQuj6i+GX0eVDytDRuG/BZENc1ulR5jqhr0RjAQ1WsO/8jMhNm7EHbS2Vy+uxEM1JKYzlmran18Z24EPbkjoIflFpmMz4wxvg/LEJRMq/RhLbOqgS5kdsb+i/NvjOYTMX2A/z5uy6zZIBAzBnjufVjNopBHyH2RLnVKH4NaGYp6abozyg9TVVwxDN3SrUrJqFiYvofUSVD1RSVD/fYPVTbwaBrMqlU/6E5H/qQKn5ni2oeBoL5ZUjmTofbcd8IwbLWajhs6zX6rPwVGQp86TTG9GSbVVPnF/iKTOfBFsSxsookiUwv6rAb1J2BrKjNBT4wEn8Qx92S3JkUJm2HeDMsNmVnhQDJqA4t6ZqhHMawO2SUgoaFmxZzioQnTsxVO4pxMrVl/QmGVjJ3KzvnuMyKBg30x/bILQpBJqow4ocqIzEbp/kFca+aALCB3XP4ApNasobizm23wKmb5XVaN5sChUQ1xb01pDg6N1WMrAfogtlYtgcn0YU6jwvozFJmKyGQawMnHKrOiBXPr/AdpMUCVkkT+Gb2CftIQNNUc4xn+mhmMmTPj1ApDxoGP57zyC6iIQpOBz681jgsA3zQF9pqjiAaG+ZxSoCnYuxs1aWKgNQM3vB4w7gooA5ZrAlszqU+9WbJ1fs4v0kLIYmaaL5hT+WaLrQUC1UIlgS9NUKYtx+4KSwaEo0ZV0DKAM7IunzMZzB5w96Jn1tnjHAqc0Yj0DAT52G+pzKc/2zNrFuiqURHZmEVKBC1A5Dgzt2JzqGLZmLq9ydwQm0yzSp5vVR3YzK3oTlUf45o0laWD2GTSNr9Ez7qs8e2P5n6p4YY9cW//K7qwGMgasi6NGzoHdeRKA3H9sitaVJ0WvwTD5aRuRUQAq4F0oW+Se3iGRSelXyK7X/cA08nGKBT5WrwL8IKuF/w3gR1AxGIMhyI7k/fQpDxnzO/WKAimPWjQhsK+wbwD/QC8w4paUvZewNe+hpC1Pu+FOwAWrdi/Cvi5B+IAbBWZDPWCdqOTriBwqVrsQpORYKkGLhWaDNQzdn5BoeBQ/YuHQtvmA3RpBH6HfQdCH3o0v4ocB7hd2BjIK9YoDpqwAdXy8xboM4D1DTKeFDmokQ7w8ZLfTVsUUA1oeqH1TGr6VpansTCnM7BICCqqrFuqKmOMe3kL81nM5WE38A29NPFrhT4xZwz8vtTs/p4d+tNC27ILLvk/x5UK7Wj+4Ac/KBD+BwKz8knSrixAAAAAAElFTkSuQmCC",J5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAggAAAFBCAMAAAAlnadoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRF3t7e+MnI50JA+tbW9a6t5jUz6VBO611c8IaF8ZOS/fHx7nh3/OTk86Cf5Ccl////sr2duQAAAz5JREFUeNrs2WFOAjEUhVFoZzrDgGX/u9WoPxUBTXzTd74dvJsToOFwkN67SlcQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAhGEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAiE/6tO52XuO25ezi8VhF8qWEsfonKuIDzdNIiCTwsTCBh8fElMIDzcsfUBa0cQHuvUB+0EwgNtrQ9b20C4+61Q+sCVCsKdDuY+dHMFgYOgEgJC2EofvrKB8GNLT9ACQtp3Y+xXZDgItSepgnCzlgVCA+Hm/ws9TRMINyp5IBQQfCDE+0gIBqFlgtBASP9kiPdwiAVhzQVhBcFPxWg/F0NBuPRkXUDwZgj2bggFYc0GYQUh7/+OQf+DDAVhzgahgPBlPV0ggADCExCOOw+EP4Jw3XkggAACCCCAAAIIIIAAAggggAACCCCAAAIIINgLBHuBYC8Q7AWCvUCwFwj2AsFeINjLYSA4DASHgeAwEBwGgsNAcBgIDgPBYSCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggACCvUCwFwj2AsFeINgLBHuBYC8Q7AWCvRwGgsNAcBgIDgPBYSA4DASHgeAwEBwGAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCB8N1fZO4QZBO0kEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIRhAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCQSAIBA0PQXrrVYABAElImenGtH+pAAAAAElFTkSuQmCC",X5="/assets/aws-7b4cd421.png",Y5="/assets/greencarbo--a54635ed.jpg",Q5="/assets/docto-website-6aaf9eb5.png",K5="/assets/bigmama-1-4b8fab79.jpg",q5="/assets/bigmama-2-c48b253d.jpg",Z5="/assets/Blue and White Professional Corporate Resume-b0aeb0bb.pdf",Hb=[{id:"about",title:"About"},{id:"education",title:"Education"},{id:"work",title:"Work"},{id:"skills",title:"Skills"},{id:"projects",title:"Projects"},{id:"contact",title:"Contact"}],$5=[{title:"DUT Dveloppement Web et Mobile",company_name:"Ecole Suprieure de Technologie",icon:H5,iconBg:"#fff",date:"2022 - 2024",points:["Diplme obtenu en dveloppement web et mobile.","Spcialisation en technologies frontend et backend.","Projets pratiques en dveloppement d'applications web et mobiles."]},{title:"Baccalaurat Sciences Physiques (Biof)",company_name:"Lyce Ibn Khaldoun Casablanca",icon:V5,iconBg:"#fff",date:"2021 - 2022",points:["Obtention du baccalaurat."]}],Vb=[{title:"Dveloppeur Full Stack (Stage)",company_name:"Marsa Maroc",icon:W5,iconBg:"#fff",date:"Aot 2023",points:["Ralisation d'une tude de cas AWS pour l'hbergement d'applications web et mobiles (IaaS/PaaS/SaaS).","Conception d'une architecture de suivi des assignations d'quipements et tracking import/export.","Calcul dtaill des cots IT (infra, RH) du dveloppement  la production.","Rdaction d'un rapport comparatif des modles de services cloud."]},{title:"Dveloppeur Frontend / Backend (Stage)",company_name:"FreeRay  Spcialiste en efficacit nergtique",icon:j5,iconBg:"#fff",date:"Aot 2022",points:["Dveloppement de formulaires dynamiques (HTML5, CSS3, JavaScript).","Intgration d'un backend simple pour traitement et validation des requtes.","Collaboration avec l'quipe nergtique pour modliser les consommations.","Prsentation des rsultats  la direction."]},{title:"Assistant Vente Informatique",company_name:"MediaTech (Stage)",icon:J5,iconBg:"#1294C8",date:"_",points:["Assistance  la clientle pour l'achat de matriel informatique et priphriques.","Support technique de base pour les clients (installation de logiciels, dpannage).","Gestion des stocks et mise en rayon des produits informatiques.","Participation aux oprations commerciales et promotions du magasin."]}],eH=[{name:"GreenCarbo",description:"Plateforme web de suivi des missions carbone pour entreprises. Dashboard interactif, gestion des utilisateurs et rapports PDF tlchargeables.",tags:[{name:"Laravel",color:"blue-text-gradient"},{name:"React",color:"green-text-gradient"},{name:"TailwindCSS",color:"pink-text-gradient"},{name:"Docker",color:"blue-text-gradient"}],image:Y5,source_code_link:"https://github.com/hamza1br/greencarbo",live_project_link:"#"},{name:"Annuaire Mdecins",description:"Application de recherche multicritres de professionnels de sant : filtrage par spcialit, ville, nom, rsultat instantan.",tags:[{name:"Vue.js",color:"blue-text-gradient"},{name:"Laravel",color:"green-text-gradient"},{name:"MySQL",color:"pink-text-gradient"},{name:"Axios",color:"blue-text-gradient"}],image:Q5,source_code_link:"https://github.com/hamza1br/annuaire-medecins",live_project_link:"#"},{name:"Gestion de Pizzeria",description:"Contexte : Cration d'un site web de gestion de pizzeria. Fonctionnalits cls : Commande en ligne (menus, pizzas personnalisables), Toast POS, Dispatch et suivi de livraison en temps rel, Gestion automatique des stocks (alertes de rapprovisionnement), Espace Admin scuris avec gestion des rles, Notifications email/SMS  chaque tape, Carrousel de 2 images avec effet de fondu toutes les 4s.",tags:[{name:"React",color:"blue-text-gradient"},{name:"Node.js",color:"green-text-gradient"},{name:"MongoDB",color:"pink-text-gradient"},{name:"Tailwind",color:"blue-text-gradient"}],image:K5,source_code_link:"https://github.com/hamza1br/gestion-pizzeria",live_project_link:"#"}],tH=[{title:"Stage chez Marsa Maroc",description:"tude et implmentation des services AWS",date:"2023"},{title:"Dveloppement Web Freelance",description:"Cration de sites web et applications pour clients",date:"2022-2023"},{title:"Projets Open Source",description:"Contributions  divers projets sur GitHub",date:"2022-prsent"}],nH=()=>{const[i,e]=L.useState(""),[t,n]=L.useState(!1),[r,s]=L.useState(!1);L.useEffect(()=>{const h=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const o={position:"relative",width:"28px",height:"20px",display:"flex",justifyContent:"center",cursor:"pointer",flexDirection:"column",alignItems:"center"},a={background:"white",display:"block",height:"2px",width:"18px",borderRadius:"2px",position:"absolute",transition:"all 0.2s ease-out"},l={...a,top:t?"50%":"5px",transform:t?"rotate(-45deg)":"none"},c={...a,opacity:t?0:1,top:"50%",transition:"opacity 0.2s ease-out"},f={...a,top:t?"50%":"15px",transform:t?"rotate(45deg)":"none"};return X("nav",{className:`${yn.paddingX} w-full flex items-center py-5 fixed top-0 z-20 transition-all duration-300 ${r?"bg-primary shadow-lg":"bg-transparent"}`,children:Ne("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Ne(AP,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[X("img",{src:g5,alt:"logo",className:"w-9 h-9 object-contain"}),X(xt.p,{className:"text-white text-[18px] font-bold cursor-pointer flex items-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:Ne("span",{className:"block",style:{fontFamily:"'Dancing Script', cursive",fontSize:"26px",background:"linear-gradient(90deg, #915EFF, #00BFFF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textFillColor:"transparent"},children:["</","Hamza",">"]})})]}),X("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:Hb.map(h=>X(xt.li,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:h.id*.1},children:X("a",{href:`#${h.id}`,className:`${i===h.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer transition-colors duration-300`,onClick:()=>e(h.title),children:h.title})},h.id))}),Ne("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[Ne("div",{style:o,onClick:()=>n(!t),children:[X("span",{style:l}),X("span",{style:c}),X("span",{style:f})]}),X(xt.div,{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,initial:{opacity:0,scale:.95},animate:{opacity:t?1:0,scale:t?1:.95},transition:{duration:.2},children:X("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:Hb.map(h=>X(xt.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:h.id*.1},className:`font-poppins font-medium cursor-pointer text-[16px] ${i===h.title?"text-white":"text-secondary"}`,onClick:()=>{n(!t),e(h.title)},children:X("a",{href:`#${h.id}`,children:h.title})},h.id))})})]})]})})},kE=i=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:i}}}),lr=(i,e,t,n)=>({hidden:{x:i==="left"?100:i==="right"?-100:0,y:i==="up"?100:i==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),Wb=(i,e,t,n)=>({hidden:{x:i==="left"?"-100%":i==="right"?"100%":0,y:i==="up"||i==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),iH=(i,e)=>({hidden:{},show:{transition:{staggerChildren:i,delayChildren:e||0}}}),ia=(i,e)=>function(){return Ne(xt.section,{variants:iH(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${yn.padding} max-w-7xl mx-auto relative z-0`,children:[X("span",{className:"hash-span",id:e,children:""}),X(i,{})]})},rH=()=>{const i=L.useRef(null),e=Cu(i,{once:!0,amount:.2}),t=Mu();return L.useEffect(()=>{e&&t.start("visible")},[e,t]),Ne("div",{ref:i,className:"pt-[60px] md:pt-0 overflow-hidden",children:[X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("p",{className:yn.sectionSubText,children:"Introduction"})}),X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("h2",{className:yn.sectionHeadText,children:"Overview."})}),Ne("div",{className:"mt-10 flex flex-col md:flex-row items-center md:items-start gap-10",children:[Ne(xt.div,{variants:lr("right","spring",.5,.75),className:"w-full md:w-1/3 flex flex-col items-center",children:[X("div",{className:"relative w-64 h-64 rounded-full overflow-hidden shadow-[0_0_22.5px_7.5px_rgba(128,0,1028,1.0)]",children:X("div",{className:"w-full h-full overflow-hidden",children:X("img",{src:m5,alt:"Barchach Hamza",className:"w-full h-full object-cover",style:{objectFit:"cover",objectPosition:"50% 50%"}})})}),Ne("div",{className:"mt-10 flex flex-wrap gap-5 justify-center",children:[X(xt.button,{className:"px-6 py-3 text-white bg-gradient-to-r from-blue-500 to-purple-500 rounded-md shadow-md hover:bg-gradient-to-r hover:from-blue-600 hover:to-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transform transition duration-500 ease-in-out hover:scale-105 active:translate-y-1 active:shadow-none no-select",style:{boxShadow:"0px 5px 0px 0px rgba(0,0,0,0.6)",transition:"all ease 0.1s"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open(Z5,"_blank"),children:X("span",{className:"font-semibold",children:"Resume"})}),X(xt.button,{className:"px-6 py-3 text-white bg-gradient-to-r from-blue-400 to-blue-600 rounded-md shadow-md hover:bg-gradient-to-r hover:from-blue-500 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transform transition duration-500 ease-in-out hover:scale-105 active:translate-y-1 active:shadow-none no-select",style:{boxShadow:"0px 5px 0px 0px rgba(0,0,0,0.6)",transition:"all ease 0.1s"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("YOUR_LINKEDIN_URL","_blank"),children:X("span",{className:"font-semibold",children:"LinkedIn"})}),X(xt.button,{className:"px-6 py-3 text-white bg-gradient-to-r from-gray-600 to-gray-800 rounded-md shadow-md hover:bg-gradient-to-r hover:from-gray-700 hover:to-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-opacity-50 transform transition duration-500 ease-in-out hover:scale-105 active:translate-y-1 active:shadow-none no-select",style:{boxShadow:"0px 5px 0px 0px rgba(0,0,0,0.6)",transition:"all ease 0.1s"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("https://github.com/hamza1br","_blank"),children:X("span",{className:"font-semibold",children:"GitHub"})})]})]}),X(xt.div,{variants:lr("left","spring",.5,.75),className:"w-full md:w-2/3",children:Ne(xt.ul,{variants:lr("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl space-y-6 list-none",children:[Ne(xt.li,{className:"flex items-start",variants:lr("up","spring",.1,.75),children:[X("span",{className:"mr-4 text-2xl flex-shrink-0",children:""}),X("span",{children:"Diplom en DUT (Diplme Universitaire de Technologie) en Dveloppement Web et Mobile."})]}),Ne(xt.li,{className:"flex items-start",variants:lr("up","spring",.2,.75),children:[X("span",{className:"mr-4 text-2xl flex-shrink-0",children:""}),X("span",{children:"Baccalaurat en Sciences Physiques (Biof) obtenu en 2021-2022."})]}),Ne(xt.li,{className:"flex items-start",variants:lr("up","spring",.3,.75),children:[X("span",{className:"mr-4 text-2xl flex-shrink-0",children:""}),X("span",{children:"Stage chez Marsa Maroc : tude de cas AWS pour hberger des applications web et mobiles."})]}),Ne(xt.li,{className:"flex items-start",variants:lr("up","spring",.4,.75),children:[X("span",{className:"mr-4 text-2xl flex-shrink-0",children:""}),X("span",{children:"Centres d'intrt : Approfondir les concepts cloud, matrise de Docker, optimisation backend Laravel, UX/UI moderne, CI/CD sur OVH et AWS."})]})]})})]})]})},sH=ia(rH,"about"),oH=[{name:"Python",icon:C5},{name:"Java",icon:A5},{name:"C++",icon:E5},{name:"JavaScript",icon:x5},{name:"TypeScript",icon:T5},{name:"Docker",icon:y5},{name:"Tailwind CSS",icon:M5},{name:"React JS",icon:b5},{name:"PostgreSQL",icon:_5},{name:"MongoDB",icon:S5},{name:"Three.js",icon:P5}],aH=[{name:"AWS",icon:X5},{name:"Ubuntu",icon:w5},{name:"PowerShell",icon:I5},{name:"Azure",icon:B5},{name:"Cisco",icon:R5},{name:"ConnectWise",icon:L5},{name:"VirtualBox",icon:D5},{name:"Kali Linux",icon:F5},{name:"Wireshark",icon:O5},{name:"Nmap",icon:N5},{name:"John the Ripper",icon:k5}],lH=[{name:"Photoshop",icon:G5},{name:"Premiere Pro",icon:z5},{name:"Cinema 4D",icon:U5}],cH=()=>{const[i,e]=L.useState({programming:[],itTools:[],contentProduction:[]}),t=L.useRef(null),n=Cu(t,{once:!0,amount:.2}),r=Mu();L.useEffect(()=>{n&&r.start("visible")},[n,r]);const s=(l,c)=>{let f=[],h=0,p=6;if(l<500)f=[c.slice(0,3),c.slice(3,5),c.slice(5,8),c.slice(8,10)];else for(;h<c.length;){const m=h+p;f.push(c.slice(h,m)),h+=p,p=p===6?5:6}return f};L.useEffect(()=>{const l=()=>{const f={programming:s(window.innerWidth,oH),itTools:s(window.innerWidth,aH),contentProduction:s(window.innerWidth,lH)};e(f)};l();const c=()=>{l()};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{delay:Math.random()*1.5,duration:.5,type:"spring"}},hover:{scale:1.05,zIndex:2,transition:{duration:.3}}},a=(l,c)=>Ne(xt.div,{className:"category-container",initial:"hidden",animate:r,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},children:[X(xt.h2,{className:"category-title top",variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},style:{fontFamily:"'', cursive",fontSize:"26px",background:"linear-gradient(90deg, #915EFF, #00BFFF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textFillColor:"transparent",filter:"drop-shadow(0 0 10px #915EFF)"},children:`<${l}>`}),X("div",{className:"honeycomb-grid",children:c==null?void 0:c.map((f,h)=>X("div",{className:`honeycomb-row ${h%2===1?"staggered-row":""}`,children:f.map(p=>X(xt.div,{className:"hexagon",variants:o,initial:"hidden",animate:"visible",whileHover:"hover",children:X("img",{src:p.icon,alt:p.name,style:{userSelect:"none"},draggable:"false"})},p.name))},`${l}-row-${h}`))}),X(xt.h2,{className:"category-title bottom",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},style:{fontFamily:"'', cursive",fontSize:"26px",background:"linear-gradient(90deg, #915EFF, #00BFFF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textFillColor:"transparent",filter:"drop-shadow(0 0 10px #915EFF)"},children:`</${l}>`})]},l);return X("section",{className:"skills",ref:t,children:Ne("div",{className:"container",children:[Ne(xt.div,{variants:kE(),children:[X("p",{className:`${yn.sectionSubText} text-center`,children:"Technical Proficiencies"}),X("h2",{className:`${yn.sectionHeadText} text-center`,children:"Skills."})]}),a("programming",i.programming),a("itTools",i.itTools),a("contentProduction",i.contentProduction)]})})},uH=ia(cH,"skills");var Hh={},GE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(GE);var zE=GE.exports;Hh.__esModule=!0;Hh.default=void 0;var fH=Oy(L),ys=Oy(ly),dH=Oy(zE);function Oy(i){return i&&i.__esModule?i:{default:i}}const UE=({animate:i=!0,className:e="",layout:t="2-columns",lineColor:n="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",n),fH.default.createElement("div",{className:(0,dH.default)(e,"vertical-timeline",{"vertical-timeline--animate":i,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));UE.propTypes={children:ys.default.oneOfType([ys.default.arrayOf(ys.default.node),ys.default.node]).isRequired,className:ys.default.string,animate:ys.default.bool,layout:ys.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:ys.default.string};var hH=UE;Hh.default=hH;var Vh={};function F0(){return F0=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},F0.apply(this,arguments)}function pH(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,O0(i,e)}function O0(i,e){return O0=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},O0(i,e)}function mH(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var N0=new Map,Ad=new WeakMap,jb=0,HE=void 0;function gH(i){HE=i}function vH(i){return i?(Ad.has(i)||(jb+=1,Ad.set(i,jb.toString())),Ad.get(i)):"0"}function yH(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?vH(i.root):i[e])}).toString()}function xH(i){var e=yH(i),t=N0.get(e);if(!t){var n=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(f){return a.intersectionRatio>=f});i.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=n.get(a.target))==null||l.forEach(function(f){f(c,a)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},N0.set(e,t)}return t}function Ny(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=HE),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=xH(t),o=s.id,a=s.observer,l=s.elements,c=l.get(i)||[];return l.has(i)||l.set(i,c),c.push(e),a.observe(i),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(i),a.unobserve(i)),l.size===0&&(a.disconnect(),N0.delete(o))}}var AH=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Jb(i){return typeof i.children!="function"}var oh=function(i){pH(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),Jb(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,f=r.fallbackInView;this._unobserveCb=Ny(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},f)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!Jb(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,f=mH(a,AH);return L.createElement(c||"div",F0({ref:this.handleNode},f),l)},e}(L.Component);oh.displayName="InView";oh.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function wH(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,f=e.fallbackInView,h=L.useRef(),p=L.useState({inView:!!c}),m=p[0],v=p[1],y=L.useCallback(function(w){h.current!==void 0&&(h.current(),h.current=void 0),!l&&w&&(h.current=Ny(w,function(_,b){v({inView:_,entry:b}),b.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:n},f))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,f,n]);L.useEffect(function(){!h.current&&m.entry&&!a&&!l&&v({inView:!!c})});var x=[y,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const bH=Object.freeze(Object.defineProperty({__proto__:null,InView:oh,default:oh,defaultFallbackInView:gH,observe:Ny,useInView:wH},Symbol.toStringTag,{value:"Module"})),_H=W2(bH);Vh.__esModule=!0;Vh.default=void 0;var xs=ky(L),Yt=ky(ly),wd=ky(zE),SH=_H;function ky(i){return i&&i.__esModule?i:{default:i}}const VE=({children:i="",className:e="",contentArrowStyle:t=null,contentStyle:n=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:f=null,id:h="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:y={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>xs.default.createElement(SH.InView,y,({inView:w,ref:_})=>xs.default.createElement("div",{ref:_,id:h,className:(0,wd.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":i===""}),style:m},xs.default.createElement(xs.default.Fragment,null,xs.default.createElement("span",{style:f,onClick:l,className:(0,wd.default)(a,"vertical-timeline-element-icon",{"bounce-in":w||x,"is-hidden":!(w||x)})},o),xs.default.createElement("div",{style:n,onClick:c,className:(0,wd.default)(v,"vertical-timeline-element-content",{"bounce-in":w||x,"is-hidden":!(w||x)})},xs.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),i,xs.default.createElement("span",{className:(0,wd.default)(s,"vertical-timeline-element-date")},r)))));VE.propTypes={children:Yt.default.oneOfType([Yt.default.arrayOf(Yt.default.node),Yt.default.node]),className:Yt.default.string,contentArrowStyle:Yt.default.shape({}),contentStyle:Yt.default.shape({}),date:Yt.default.node,dateClassName:Yt.default.string,icon:Yt.default.element,iconClassName:Yt.default.string,iconStyle:Yt.default.shape({}),iconOnClick:Yt.default.func,onTimelineElementClick:Yt.default.func,id:Yt.default.string,position:Yt.default.string,style:Yt.default.shape({}),textClassName:Yt.default.string,visible:Yt.default.bool,intersectionObserverProps:Yt.default.shape({root:Yt.default.object,rootMargin:Yt.default.string,threshold:Yt.default.number,triggerOnce:Yt.default.bool})};var MH=VE;Vh.default=MH;var WE={VerticalTimeline:Hh.default,VerticalTimelineElement:Vh.default};const CH=({education:i})=>Ne(WE.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:i.date,iconStyle:{background:i.iconBg},icon:X("div",{className:"flex justify-center items-center w-full h-full",children:X("img",{src:i.icon,alt:i.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[Ne("div",{children:[X("h3",{className:"text-white text-[24px] font-bold",children:i.title}),X("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:i.company_name})]}),X("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:i.points.map((e,t)=>X("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),EH=()=>{const i=L.useRef(null),e=Cu(i,{once:!0,amount:.2}),t=Mu();return L.useEffect(()=>{e&&t.start("visible")},[e,t]),Ne("div",{ref:i,children:[X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("p",{className:`${yn.sectionSubText} text-center`,children:"What I have Studied so far"})}),X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("h2",{className:`${yn.sectionHeadText} text-center`,children:"Education."})}),X("div",{className:"mt-20 flex flex-col",children:X(WE.VerticalTimeline,{children:$5.map((n,r)=>X(CH,{education:n},`experience-${r}`))})})]})},TH=ia(EH,"education"),PH=Rt.memo(({experience:i,isActive:e,onClick:t,index:n})=>Ne(xt.div,{variants:lr("right","spring",n*.1,.5),className:`flex items-center p-4 rounded-lg cursor-pointer transition-all duration-300 ${e?"bg-tertiary":"bg-primary"}`,onClick:t,children:[X("div",{className:"flex-shrink-0 w-16 h-16 rounded-full overflow-hidden mr-4",children:X("img",{src:i.icon,alt:i.company_name,className:"w-full h-full object-cover"})}),Ne("div",{children:[X("h3",{className:"text-white text-[18px] font-bold",children:i.title}),X("p",{className:"text-secondary text-[14px]",children:i.company_name})]})]})),BH=Rt.memo(({experience:i})=>Ne(xt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2,ease:"easeInOut"},className:"bg-tertiary p-8 rounded-lg",children:[X("h3",{className:"text-white text-[24px] font-bold mb-4",children:i.title}),X("p",{className:"text-secondary text-[16px] mb-4",children:i.company_name}),X("p",{className:"text-white-100 text-[14px] mb-4",children:i.date}),X("ul",{className:"list-disc ml-5 space-y-2",children:i.points.map((e,t)=>X("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]},i.company_name)),IH=()=>{const[i,e]=L.useState(0),[t,n]=L.useTransition(),r=L.useRef(null),s=Cu(r,{once:!0,amount:.2}),o=Mu(),a=L.useCallback(c=>{n(()=>{e(c)})},[]),l=L.useMemo(()=>Vb[i],[i]);return L.useEffect(()=>{s&&o.start("visible")},[s,o]),Ne("div",{ref:r,children:[X(xt.div,{initial:"hidden",animate:o,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("p",{className:`${yn.sectionSubText} text-center`,children:"My Professional Journey"})}),X(xt.div,{initial:"hidden",animate:o,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("h2",{className:`${yn.sectionHeadText} text-center`,children:"Work Experience"})}),Ne("div",{className:"mt-20 flex flex-col md:flex-row gap-10",children:[X("div",{className:"md:w-1/3",children:X("div",{className:"flex flex-col space-y-4",children:Vb.map((c,f)=>X(PH,{experience:c,isActive:f===i,onClick:()=>a(f),index:f},`experience-${f}`))})}),X("div",{className:"md:w-2/3",children:X(o5,{mode:"wait",initial:!1,children:!t&&X(BH,{experience:l},l.company_name)})})]})]})},RH=ia(IH,"work"),LH=({title:i,description:e,date:t,index:n})=>X(xt.div,{variants:lr("up","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:Ne("div",{className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[X("h3",{className:"text-white text-[20px] font-bold text-center",children:i}),X("p",{className:"text-secondary text-[14px] text-center",children:e}),X("p",{className:"text-white-100 text-[12px]",children:t})]})}),DH=()=>Ne(j2,{children:[Ne(xt.div,{variants:kE(),children:[X("p",{className:yn.sectionSubText,children:"Mes activits"}),X("h2",{className:yn.sectionHeadText,children:"Activits Extra-scolaires"})]}),X("div",{className:"mt-20 flex flex-wrap gap-7",children:tH.map((i,e)=>X(LH,{index:e,...i},`activity-${e}`))})]}),FH=ia(DH,"extra");var OH=Object.defineProperty,NH=Object.defineProperties,kH=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,GH=Object.prototype.hasOwnProperty,zH=Object.prototype.propertyIsEnumerable,Yb=(i,e,t)=>e in i?OH(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,uc=(i,e)=>{for(var t in e||(e={}))GH.call(e,t)&&Yb(i,t,e[t]);if(Xb)for(var t of Xb(e))zH.call(e,t)&&Yb(i,t,e[t]);return i},fc=(i,e)=>NH(i,kH(e)),UH=class extends L.Component{constructor(i){super(i),this.ref=Rt.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(i=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:fc(uc({},this.state.style),{willChange:"transform"})})),this.setTransition(),i(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:fc(uc({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(i=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),i(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:fc(uc({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:fc(uc({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(i=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),i(e)}getValues(i){const e=(i.nativeEvent.clientX-this.left)/this.width,t=(i.nativeEvent.clientY-this.top)/this.height,n=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-n*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=n*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}update(i){const e=this.getValues(i);this.setState(Object.assign({},this.state,{style:fc(uc({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const i=Object.assign({},this.props.style,this.state.style);return X("div",{style:i,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};function Qb(i){return i!==null&&typeof i=="object"&&"constructor"in i&&i.constructor===Object}function Gy(i,e){i===void 0&&(i={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>t.indexOf(n)<0).forEach(n=>{typeof i[n]>"u"?i[n]=e[n]:Qb(e[n])&&Qb(i[n])&&Object.keys(e[n]).length>0&&Gy(i[n],e[n])})}const jE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pr(){const i=typeof document<"u"?document:{};return Gy(i,jE),i}const HH={document:jE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(i){return typeof setTimeout>"u"?(i(),null):setTimeout(i,0)},cancelAnimationFrame(i){typeof setTimeout>"u"||clearTimeout(i)}};function Kn(){const i=typeof window<"u"?window:{};return Gy(i,HH),i}function VH(i){return i===void 0&&(i=""),i.trim().split(" ").filter(e=>!!e.trim())}function WH(i){const e=i;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function k0(i,e){return e===void 0&&(e=0),setTimeout(i,e)}function ah(){return Date.now()}function jH(i){const e=Kn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(i,null)),!t&&i.currentStyle&&(t=i.currentStyle),t||(t=i.style),t}function JH(i,e){e===void 0&&(e="x");const t=Kn();let n,r,s;const o=jH(i);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),r||0}function bd(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"}function XH(i){return typeof window<"u"&&typeof window.HTMLElement<"u"?i instanceof HTMLElement:i&&(i.nodeType===1||i.nodeType===11)}function fi(){const i=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!XH(n)){const r=Object.keys(Object(n)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(n,a);l!==void 0&&l.enumerable&&(bd(i[a])&&bd(n[a])?n[a].__swiper__?i[a]=n[a]:fi(i[a],n[a]):!bd(i[a])&&bd(n[a])?(i[a]={},n[a].__swiper__?i[a]=n[a]:fi(i[a],n[a])):i[a]=n[a])}}}return i}function _d(i,e,t){i.style.setProperty(e,t)}function JE(i){let{swiper:e,targetPosition:t,side:n}=i;const r=Kn(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",f=(p,m)=>c==="next"&&p>=m||c==="prev"&&p<=m,h=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let v=s+m*(t-s);if(f(v,t)&&(v=t),e.wrapperEl.scrollTo({[n]:v}),f(v,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:v})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function XE(i){return i.querySelector(".swiper-slide-transform")||i.shadowRoot&&i.shadowRoot.querySelector(".swiper-slide-transform")||i}function Wr(i,e){e===void 0&&(e="");const t=Kn(),n=[...i.children];return t.HTMLSlotElement&&i instanceof HTMLSlotElement&&n.push(...i.assignedElements()),e?n.filter(r=>r.matches(e)):n}function YH(i,e){const t=[e];for(;t.length>0;){const n=t.shift();if(i===n)return!0;t.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function QH(i,e){const t=Kn();let n=e.contains(i);return!n&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(i),n||(n=YH(i,e))),n}function lh(i){try{console.warn(i);return}catch{}}function G0(i,e){e===void 0&&(e=[]);const t=document.createElement(i);return t.classList.add(...Array.isArray(e)?e:VH(e)),t}function KH(i,e){const t=[];for(;i.previousElementSibling;){const n=i.previousElementSibling;e?n.matches(e)&&t.push(n):t.push(n),i=n}return t}function qH(i,e){const t=[];for(;i.nextElementSibling;){const n=i.nextElementSibling;e?n.matches(e)&&t.push(n):t.push(n),i=n}return t}function Cs(i,e){return Kn().getComputedStyle(i,null).getPropertyValue(e)}function Kb(i){let e=i,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ZH(i,e){const t=[];let n=i.parentElement;for(;n;)e?n.matches(e)&&t.push(n):t.push(n),n=n.parentElement;return t}function $H(i,e){function t(n){n.target===i&&(e.call(i,n),i.removeEventListener("transitionend",t))}e&&i.addEventListener("transitionend",t)}function qb(i,e,t){const n=Kn();return t?i[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):i.offsetWidth}let cg;function e9(){const i=Kn(),e=pr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in i||i.DocumentTouch&&e instanceof i.DocumentTouch)}}function YE(){return cg||(cg=e9()),cg}let ug;function t9(i){let{userAgent:e}=i===void 0?{}:i;const t=YE(),n=Kn(),r=n.navigator.platform,s=e||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=r==="Win32";let v=r==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&v&&t.touch&&y.indexOf(`${a}x${l}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),v=!1),c&&!m&&(o.os="android",o.android=!0),(f||p||h)&&(o.os="ios",o.ios=!0),o}function QE(i){return i===void 0&&(i={}),ug||(ug=t9(i)),ug}let fg;function n9(){const i=Kn(),e=QE();let t=!1;function n(){const a=i.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(n()){const a=String(i.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));t=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent),s=n(),o=s||r&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:r}}function KE(){return fg||(fg=n9()),fg}function i9(i){let{swiper:e,on:t,emit:n}=i;const r=Kn();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=r.requestAnimationFrame(()=>{const{width:p,height:m}=e;let v=p,y=m;h.forEach(x=>{let{contentBoxSize:w,contentRect:_,target:b}=x;b&&b!==e.el||(v=_?_.width:(w[0]||w).inlineSize,y=_?_.height:(w[0]||w).blockSize)}),(v!==p||y!==m)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",f)}),t("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",f)})}function r9(i){let{swiper:e,extendParams:t,on:n,emit:r}=i;const s=[],o=Kn(),a=function(f,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(v=>{if(e.__preventObserver__)return;if(v.length===1){r("observerUpdate",v[0]);return}const y=function(){r("observerUpdate",v[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});m.observe(f,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const f=ZH(e.hostEl);for(let h=0;h<f.length;h+=1)a(f[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var s9={on(i,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return i.split(" ").forEach(s=>{n.eventsListeners[s]||(n.eventsListeners[s]=[]),n.eventsListeners[s][r](e)}),n},once(i,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function r(){n.off(i,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(n,o)}return r.__emitterProxy=e,n.on(i,r,t)},onAny(i,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof i!="function")return t;const n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(i)<0&&t.eventsAnyListeners[n](i),t},offAny(i){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(i);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(i,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||i.split(" ").forEach(n=>{typeof e>"u"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[n].splice(s,1)})}),t},emit(){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let e,t,n;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),n=i):(e=s[0].events,t=s[0].data,n=s[0].context||i),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(c=>{c.apply(n,[l,...t])}),i.eventsListeners&&i.eventsListeners[l]&&i.eventsListeners[l].forEach(c=>{c.apply(n,t)})}),i}};function o9(){const i=this;let e,t;const n=i.el;typeof i.params.width<"u"&&i.params.width!==null?e=i.params.width:e=n.clientWidth,typeof i.params.height<"u"&&i.params.height!==null?t=i.params.height:t=n.clientHeight,!(e===0&&i.isHorizontal()||t===0&&i.isVertical())&&(e=e-parseInt(Cs(n,"padding-left")||0,10)-parseInt(Cs(n,"padding-right")||0,10),t=t-parseInt(Cs(n,"padding-top")||0,10)-parseInt(Cs(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(i,{width:e,height:t,size:i.isHorizontal()?e:t}))}function a9(){const i=this;function e(I,O){return parseFloat(I.getPropertyValue(i.getDirectionLabel(O))||0)}const t=i.params,{wrapperEl:n,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=i,l=i.virtual&&t.virtual.enabled,c=l?i.virtual.slides.length:i.slides.length,f=Wr(r,`.${i.params.slideClass}, swiper-slide`),h=l?i.virtual.slides.length:f.length;let p=[];const m=[],v=[];let y=t.slidesOffsetBefore;typeof y=="function"&&(y=t.slidesOffsetBefore.call(i));let x=t.slidesOffsetAfter;typeof x=="function"&&(x=t.slidesOffsetAfter.call(i));const w=i.snapGrid.length,_=i.slidesGrid.length;let b=t.spaceBetween,S=-y,C=0,P=0;if(typeof s>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*s:typeof b=="string"&&(b=parseFloat(b)),i.virtualSize=-b,f.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(_d(n,"--swiper-centered-offset-before",""),_d(n,"--swiper-centered-offset-after",""));const R=t.grid&&t.grid.rows>1&&i.grid;R?i.grid.initSlides(f):i.grid&&i.grid.unsetSlides();let E;const B=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(I=>typeof t.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<h;I+=1){E=0;let O;if(f[I]&&(O=f[I]),R&&i.grid.updateSlide(I,O,f),!(f[I]&&Cs(O,"display")==="none")){if(t.slidesPerView==="auto"){B&&(f[I].style[i.getDirectionLabel("width")]="");const W=getComputedStyle(O),V=O.style.transform,H=O.style.webkitTransform;if(V&&(O.style.transform="none"),H&&(O.style.webkitTransform="none"),t.roundLengths)E=i.isHorizontal()?qb(O,"width",!0):qb(O,"height",!0);else{const q=e(W,"width"),Z=e(W,"padding-left"),re=e(W,"padding-right"),z=e(W,"margin-left"),K=e(W,"margin-right"),J=W.getPropertyValue("box-sizing");if(J&&J==="border-box")E=q+z+K;else{const{clientWidth:de,offsetWidth:Y}=O;E=q+Z+re+z+K+(Y-de)}}V&&(O.style.transform=V),H&&(O.style.webkitTransform=H),t.roundLengths&&(E=Math.floor(E))}else E=(s-(t.slidesPerView-1)*b)/t.slidesPerView,t.roundLengths&&(E=Math.floor(E)),f[I]&&(f[I].style[i.getDirectionLabel("width")]=`${E}px`);f[I]&&(f[I].swiperSlideSize=E),v.push(E),t.centeredSlides?(S=S+E/2+C/2+b,C===0&&I!==0&&(S=S-s/2-b),I===0&&(S=S-s/2-b),Math.abs(S)<1/1e3&&(S=0),t.roundLengths&&(S=Math.floor(S)),P%t.slidesPerGroup===0&&p.push(S),m.push(S)):(t.roundLengths&&(S=Math.floor(S)),(P-Math.min(i.params.slidesPerGroupSkip,P))%i.params.slidesPerGroup===0&&p.push(S),m.push(S),S=S+E+b),i.virtualSize+=E+b,C=E,P+=1}}if(i.virtualSize=Math.max(i.virtualSize,s)+x,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(n.style.width=`${i.virtualSize+b}px`),t.setWrapperSize&&(n.style[i.getDirectionLabel("width")]=`${i.virtualSize+b}px`),R&&i.grid.updateWrapperSize(E,p),!t.centeredSlides){const I=[];for(let O=0;O<p.length;O+=1){let W=p[O];t.roundLengths&&(W=Math.floor(W)),p[O]<=i.virtualSize-s&&I.push(W)}p=I,Math.floor(i.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(i.virtualSize-s)}if(l&&t.loop){const I=v[0]+b;if(t.slidesPerGroup>1){const O=Math.ceil((i.virtual.slidesBefore+i.virtual.slidesAfter)/t.slidesPerGroup),W=I*t.slidesPerGroup;for(let V=0;V<O;V+=1)p.push(p[p.length-1]+W)}for(let O=0;O<i.virtual.slidesBefore+i.virtual.slidesAfter;O+=1)t.slidesPerGroup===1&&p.push(p[p.length-1]+I),m.push(m[m.length-1]+I),i.virtualSize+=I}if(p.length===0&&(p=[0]),b!==0){const I=i.isHorizontal()&&o?"marginLeft":i.getDirectionLabel("marginRight");f.filter((O,W)=>!t.cssMode||t.loop?!0:W!==f.length-1).forEach(O=>{O.style[I]=`${b}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let I=0;v.forEach(W=>{I+=W+(b||0)}),I-=b;const O=I>s?I-s:0;p=p.map(W=>W<=0?-y:W>O?O+x:W)}if(t.centerInsufficientSlides){let I=0;v.forEach(W=>{I+=W+(b||0)}),I-=b;const O=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(I+O<s){const W=(s-I-O)/2;p.forEach((V,H)=>{p[H]=V-W}),m.forEach((V,H)=>{m[H]=V+W})}}if(Object.assign(i,{slides:f,snapGrid:p,slidesGrid:m,slidesSizesGrid:v}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){_d(n,"--swiper-centered-offset-before",`${-p[0]}px`),_d(n,"--swiper-centered-offset-after",`${i.size/2-v[v.length-1]/2}px`);const I=-i.snapGrid[0],O=-i.slidesGrid[0];i.snapGrid=i.snapGrid.map(W=>W+I),i.slidesGrid=i.slidesGrid.map(W=>W+O)}if(h!==c&&i.emit("slidesLengthChange"),p.length!==w&&(i.params.watchOverflow&&i.checkOverflow(),i.emit("snapGridLengthChange")),m.length!==_&&i.emit("slidesGridLengthChange"),t.watchSlidesProgress&&i.updateSlidesOffset(),i.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const I=`${t.containerModifierClass}backface-hidden`,O=i.el.classList.contains(I);h<=t.maxBackfaceHiddenSlides?O||i.el.classList.add(I):O&&i.el.classList.remove(I)}}function l9(i){const e=this,t=[],n=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof i=="number"?e.setTransition(i):i===!0&&e.setTransition(e.params.speed);const o=a=>n?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!n)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function c9(){const i=this,e=i.slides,t=i.isElement?i.isHorizontal()?i.wrapperEl.offsetLeft:i.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(i.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-t-i.cssOverflowAdjustment()}const Zb=(i,e,t)=>{e&&!i.classList.contains(t)?i.classList.add(t):!e&&i.classList.contains(t)&&i.classList.remove(t)};function u9(i){i===void 0&&(i=this&&this.translate||0);const e=this,t=e.params,{slides:n,rtlTranslate:r,snapGrid:s}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-i;r&&(o=i),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<n.length;l+=1){const c=n[l];let f=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(f-=n[0].swiperSlideOffset);const h=(o+(t.centeredSlides?e.minTranslate():0)-f)/(c.swiperSlideSize+a),p=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-f)/(c.swiperSlideSize+a),m=-(o-f),v=m+e.slidesSizesGrid[l],y=m>=0&&m<=e.size-e.slidesSizesGrid[l],x=m>=0&&m<e.size-1||v>1&&v<=e.size||m<=0&&v>=e.size;x&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Zb(c,x,t.slideVisibleClass),Zb(c,y,t.slideFullyVisibleClass),c.progress=r?-h:h,c.originalProgress=r?-p:p}}function f9(i){const e=this;if(typeof i>"u"){const f=e.rtlTranslate?-1:1;i=e&&e.translate&&e.translate*f||0}const t=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(n===0)r=0,s=!0,o=!0;else{r=(i-e.minTranslate())/n;const f=Math.abs(i-e.minTranslate())<1,h=Math.abs(i-e.maxTranslate())<1;s=f||r<=0,o=h||r>=1,f&&(r=0),h&&(r=1)}if(t.loop){const f=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[f],m=e.slidesGrid[h],v=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(i);y>=p?a=(y-p)/v:a=(y+v-m)/v,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(i),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const dg=(i,e,t)=>{e&&!i.classList.contains(t)?i.classList.add(t):!e&&i.classList.contains(t)&&i.classList.remove(t)};function d9(){const i=this,{slides:e,params:t,slidesEl:n,activeIndex:r}=i,s=i.virtual&&t.virtual.enabled,o=i.grid&&t.grid&&t.grid.rows>1,a=h=>Wr(n,`.${t.slideClass}${h}, swiper-slide${h}`)[0];let l,c,f;if(s)if(t.loop){let h=r-i.virtual.slidesBefore;h<0&&(h=i.virtual.slides.length+h),h>=i.virtual.slides.length&&(h-=i.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(h=>h.column===r),f=e.find(h=>h.column===r+1),c=e.find(h=>h.column===r-1)):l=e[r];l&&(o||(f=qH(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f&&(f=e[0]),c=KH(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{dg(h,h===l,t.slideActiveClass),dg(h,h===f,t.slideNextClass),dg(h,h===c,t.slidePrevClass)}),i.emitSlidesClasses()}const Gd=(i,e)=>{if(!i||i.destroyed||!i.params)return;const t=()=>i.isElement?"swiper-slide":`.${i.params.slideClass}`,n=e.closest(t());if(n){let r=n.querySelector(`.${i.params.lazyPreloaderClass}`);!r&&i.isElement&&(n.shadowRoot?r=n.shadowRoot.querySelector(`.${i.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(r=n.shadowRoot.querySelector(`.${i.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},hg=(i,e)=>{if(!i.slides[e])return;const t=i.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},z0=i=>{if(!i||i.destroyed||!i.params)return;let e=i.params.lazyPreloadPrevNext;const t=i.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const n=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(i.params.slidesPerView),r=i.activeIndex;if(i.params.grid&&i.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+n+c)),i.slides.forEach((l,c)=>{a.includes(l.column)&&hg(i,c)});return}const s=r+n-1;if(i.params.rewind||i.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&hg(i,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&hg(i,o)};function h9(i){const{slidesGrid:e,params:t}=i,n=i.rtlTranslate?i.translate:-i.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?n>=e[s]&&n<e[s+1]-(e[s+1]-e[s])/2?r=s:n>=e[s]&&n<e[s+1]&&(r=s+1):n>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function p9(i){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=i,c;const f=m=>{let v=m-e.virtual.slidesBefore;return v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),v};if(typeof l>"u"&&(l=h9(e)),n.indexOf(t)>=0)c=n.indexOf(t);else{const m=Math.min(r.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/r.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(l);return}const h=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=f(l);else if(h){const m=e.slides.find(y=>y.column===l);let v=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(e.slides.indexOf(m),0)),p=Math.floor(v/r.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&z0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function m9(i,e){const t=this,n=t.params;let r=i.closest(`.${n.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(i)&&[...e.slice(e.indexOf(i)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${n.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,o=a;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var g9={updateSize:o9,updateSlides:a9,updateAutoHeight:l9,updateSlidesOffset:c9,updateSlidesProgress:u9,updateProgress:f9,updateSlidesClasses:d9,updateActiveIndex:p9,updateClickedSlide:m9};function v9(i){i===void 0&&(i=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:n,translate:r,wrapperEl:s}=e;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let o=JH(s,i);return o+=e.cssOverflowAdjustment(),n&&(o=-o),o||0}function y9(i,e){const t=this,{rtlTranslate:n,params:r,wrapperEl:s,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=n?-i:i:l=i,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let f;const h=t.maxTranslate()-t.minTranslate();h===0?f=0:f=(i-t.minTranslate())/h,f!==o&&t.updateProgress(i),t.emit("setTranslate",t.translate,e)}function x9(){return-this.snapGrid[0]}function A9(){return-this.snapGrid[this.snapGrid.length-1]}function w9(i,e,t,n,r){i===void 0&&(i=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let f;if(n&&i>l?f=l:n&&i<c?f=c:f=i,s.updateProgress(f),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return JE({swiper:s,targetPosition:-f,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var b9={getTranslate:v9,setTranslate:y9,minTranslate:x9,maxTranslate:A9,translateTo:w9};function _9(i,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${i}ms`,t.wrapperEl.style.transitionDelay=i===0?"0ms":""),t.emit("setTransition",i,e)}function qE(i){let{swiper:e,runCallbacks:t,direction:n,step:r}=i;const{activeIndex:s,previousIndex:o}=e;let a=n;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),t&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function S9(i,e){i===void 0&&(i=!0);const t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),qE({swiper:t,runCallbacks:i,direction:e,step:"Start"}))}function M9(i,e){i===void 0&&(i=!0);const t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),qE({swiper:t,runCallbacks:i,direction:e,step:"End"}))}var C9={setTransition:_9,transitionStart:S9,transitionEnd:M9};function E9(i,e,t,n,r){i===void 0&&(i=0),t===void 0&&(t=!0),typeof i=="string"&&(i=parseInt(i,10));const s=this;let o=i;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:f,activeIndex:h,rtlTranslate:p,wrapperEl:m,enabled:v}=s;if(!v&&!n&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let x=y+Math.floor((o-y)/s.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const w=-l[x];if(a.normalizeSlideIndex)for(let R=0;R<c.length;R+=1){const E=-Math.floor(w*100),B=Math.floor(c[R]*100),I=Math.floor(c[R+1]*100);typeof c[R+1]<"u"?E>=B&&E<I-(I-B)/2?o=R:E>=B&&E<I&&(o=R+1):E>=B&&(o=R)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(p?w>s.translate&&w>s.minTranslate():w<s.translate&&w<s.minTranslate())||!s.allowSlidePrev&&w>s.translate&&w>s.maxTranslate()&&(h||0)!==o))return!1;o!==(f||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(w);let _;o>h?_="next":o<h?_="prev":_="reset";const b=s.virtual&&s.params.virtual.enabled;if(!(b&&r)&&(p&&-w===s.translate||!p&&w===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(w),_!=="reset"&&(s.transitionStart(t,_),s.transitionEnd(t,_)),!1;if(a.cssMode){const R=s.isHorizontal(),E=p?w:-w;if(e===0)b&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),b&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[R?"scrollLeft":"scrollTop"]=E})):m[R?"scrollLeft":"scrollTop"]=E,b&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return JE({swiper:s,targetPosition:E,side:R?"left":"top"}),!0;m.scrollTo({[R?"left":"top"]:E,behavior:"smooth"})}return!0}const P=KE().isSafari;return b&&!r&&P&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(w),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,n),s.transitionStart(t,_),e===0?s.transitionEnd(t,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function T9(i,e,t,n){i===void 0&&(i=0),t===void 0&&(t=!0),typeof i=="string"&&(i=parseInt(i,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=i;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const p=o*r.params.grid.rows;a=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let f=r.params.slidesPerView;f==="auto"?f=r.slidesPerViewDynamic():(f=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&f%2===0&&(f=f+1));let h=l-a<f;if(c&&(h=h||a<Math.ceil(f/2)),n&&c&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(s){const p=o*r.params.grid.rows;o=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,t,n)}),r}function P9(i,e,t){e===void 0&&(e=!0);const n=this,{enabled:r,params:s,animating:o}=n;if(!r||n.destroyed)return n;typeof i>"u"&&(i=n.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<s.slidesPerGroupSkip?1:a,c=n.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,i,e,t)}),!0}return s.rewind&&n.isEnd?n.slideTo(0,i,e,t):n.slideTo(n.activeIndex+l,i,e,t)}function B9(i,e,t){e===void 0&&(e=!0);const n=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;typeof i>"u"&&(i=n.params.speed);const f=n.virtual&&r.virtual.enabled;if(r.loop){if(c&&!f&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const h=a?n.translate:-n.translate;function p(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const m=p(h),v=s.map(_=>p(_)),y=r.freeMode&&r.freeMode.enabled;let x=s[v.indexOf(m)-1];if(typeof x>"u"&&(r.cssMode||y)){let _;s.forEach((b,S)=>{m>=b&&(_=S)}),typeof _<"u"&&(x=y?s[_]:s[_>0?_-1:_])}let w=0;if(typeof x<"u"&&(w=o.indexOf(x),w<0&&(w=n.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(w=w-n.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),r.rewind&&n.isBeginning){const _=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(_,i,e,t)}else if(r.loop&&n.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(w,i,e,t)}),!0;return n.slideTo(w,i,e,t)}function I9(i,e,t){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof i>"u"&&(i=n.params.speed),n.slideTo(n.activeIndex,i,e,t)}function R9(i,e,t,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const r=this;if(r.destroyed)return;typeof i>"u"&&(i=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],f=r.snapGrid[a+1];l-c>(f-c)*n&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],f=r.snapGrid[a];l-c<=(f-c)*n&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,i,e,t)}function L9(){const i=this;if(i.destroyed)return;const{params:e,slidesEl:t}=i,n=e.slidesPerView==="auto"?i.slidesPerViewDynamic():e.slidesPerView;let r=i.clickedIndex,s;const o=i.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(i.animating)return;s=parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<i.loopedSlides-n/2||r>i.slides.length-i.loopedSlides+n/2?(i.loopFix(),r=i.getSlideIndex(Wr(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),k0(()=>{i.slideTo(r)})):i.slideTo(r):r>i.slides.length-n?(i.loopFix(),r=i.getSlideIndex(Wr(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),k0(()=>{i.slideTo(r)})):i.slideTo(r)}else i.slideTo(r)}var D9={slideTo:E9,slideToLoop:T9,slideNext:P9,slidePrev:B9,slideReset:I9,slideToClosest:R9,slideToClickedSlide:L9};function F9(i,e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{Wr(r,`.${n.slideClass}, swiper-slide`).forEach((p,m)=>{p.setAttribute("data-swiper-slide-index",m)})},o=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(o?n.grid.rows:1),l=t.slides.length%a!==0,c=o&&t.slides.length%n.grid.rows!==0,f=h=>{for(let p=0;p<h;p+=1){const m=t.isElement?G0("swiper-slide",[n.slideBlankClass]):G0("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(m)}};if(l){if(n.loopAddBlankSlides){const h=a-t.slides.length%a;f(h),t.recalcSlides(),t.updateSlides()}else lh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const h=n.grid.rows-t.slides.length%n.grid.rows;f(h),t.recalcSlides(),t.updateSlides()}else lh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:i,direction:n.centeredSlides?void 0:"next",initial:e})}function O9(i){let{slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=i===void 0?{}:i;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:f,allowSlidePrev:h,allowSlideNext:p,slidesEl:m,params:v}=c,{centeredSlides:y,initialSlide:x}=v;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&v.virtual.enabled){t&&(!v.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):v.centeredSlides&&c.snapIndex<v.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=p,c.emit("loopFix");return}let w=v.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(v.slidesPerView,10)),y&&w%2===0&&(w=w+1));const _=v.slidesPerGroupAuto?w:v.slidesPerGroup;let b=_;b%_!==0&&(b+=_-b%_),b+=v.loopAdditionalSlides,c.loopedSlides=b;const S=c.grid&&v.grid&&v.grid.rows>1;f.length<w+b||c.params.effect==="cards"&&f.length<w+b*2?lh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&v.grid.fill==="row"&&lh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],P=[],R=S?Math.ceil(f.length/v.grid.rows):f.length,E=o&&R-x<w&&!y;let B=E?x:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(f.find(Z=>Z.classList.contains(v.slideActiveClass))):B=s;const I=n==="next"||!n,O=n==="prev"||!n;let W=0,V=0;const q=(S?f[s].column:s)+(y&&typeof r>"u"?-w/2+.5:0);if(q<b){W=Math.max(b-q,_);for(let Z=0;Z<b-q;Z+=1){const re=Z-Math.floor(Z/R)*R;if(S){const z=R-re-1;for(let K=f.length-1;K>=0;K-=1)f[K].column===z&&C.push(K)}else C.push(R-re-1)}}else if(q+w>R-b){V=Math.max(q-(R-b*2),_),E&&(V=Math.max(V,w-R+x+1));for(let Z=0;Z<V;Z+=1){const re=Z-Math.floor(Z/R)*R;S?f.forEach((z,K)=>{z.column===re&&P.push(K)}):P.push(re)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&f.length<w+b*2&&(P.includes(s)&&P.splice(P.indexOf(s),1),C.includes(s)&&C.splice(C.indexOf(s),1)),O&&C.forEach(Z=>{f[Z].swiperLoopMoveDOM=!0,m.prepend(f[Z]),f[Z].swiperLoopMoveDOM=!1}),I&&P.forEach(Z=>{f[Z].swiperLoopMoveDOM=!0,m.append(f[Z]),f[Z].swiperLoopMoveDOM=!1}),c.recalcSlides(),v.slidesPerView==="auto"?c.updateSlides():S&&(C.length>0&&O||P.length>0&&I)&&c.slides.forEach((Z,re)=>{c.grid.updateSlide(re,Z,c.slides)}),v.watchSlidesProgress&&c.updateSlidesOffset(),t){if(C.length>0&&O){if(typeof e>"u"){const Z=c.slidesGrid[B],z=c.slidesGrid[B+W]-Z;l?c.setTranslate(c.translate-z):(c.slideTo(B+Math.ceil(W),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-z,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-z))}else if(r){const Z=S?C.length/v.grid.rows:C.length;c.slideTo(c.activeIndex+Z,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(P.length>0&&I)if(typeof e>"u"){const Z=c.slidesGrid[B],z=c.slidesGrid[B-V]-Z;l?c.setTranslate(c.translate-z):(c.slideTo(B-V,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-z,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-z))}else{const Z=S?P.length/v.grid.rows:P.length;c.slideTo(c.activeIndex-Z,0,!1,!0)}}if(c.allowSlidePrev=h,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const Z={slideRealIndex:e,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(re=>{!re.destroyed&&re.params.loop&&re.loopFix({...Z,slideTo:re.params.slidesPerView===v.slidesPerView?t:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...Z,slideTo:c.controller.control.params.slidesPerView===v.slidesPerView?t:!1})}c.emit("loopFix")}function N9(){const i=this,{params:e,slidesEl:t}=i;if(!e.loop||!t||i.virtual&&i.params.virtual.enabled)return;i.recalcSlides();const n=[];i.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;n[s]=r}),i.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),n.forEach(r=>{t.append(r)}),i.recalcSlides(),i.slideTo(i.realIndex,0)}var k9={loopCreate:F9,loopFix:O9,loopDestroy:N9};function G9(i){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=i?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function z9(){const i=this;i.params.watchOverflow&&i.isLocked||i.params.cssMode||(i.isElement&&(i.__preventObserver__=!0),i[i.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1}))}var U9={setGrabCursor:G9,unsetGrabCursor:z9};function H9(i,e){e===void 0&&(e=this);function t(n){if(!n||n===pr()||n===Kn())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(i);return!r&&!n.getRootNode?null:r||t(n.getRootNode().host)}return t(e)}function $b(i,e,t){const n=Kn(),{params:r}=i,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(t<=o||t>=n.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function V9(i){const e=this,t=pr();let n=i;n.originalEvent&&(n=n.originalEvent);const r=e.touchEventsData;if(n.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==n.pointerId)return;r.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(r.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){$b(e,n,n.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&n.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=n.target;if(s.touchEventsTarget==="wrapper"&&!QH(l,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",f=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&f&&(l=f[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(n.target&&n.target.shadowRoot);if(s.noSwiping&&(p?H9(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const m=o.currentX,v=o.currentY;if(!$b(e,n,m))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=v,r.touchStartTime=ah(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let y=!0;l.matches(r.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&t.activeElement.blur();const x=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||x)&&!l.isContentEditable&&n.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function W9(i){const e=pr(),t=this,n=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&i.pointerType==="mouse")return;let l=i;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(P=>P.identifier===n.touchId),!c||c.identifier!==n.touchId)return}else c=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",l);return}const f=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=f,s.startY=h;return}if(!t.allowTouchMove){l.target.matches(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h}),n.touchStartTime=ah());return}if(r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(h<s.startY&&t.translate<=t.maxTranslate()||h>s.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(f>s.startX&&-t.translate<=t.maxTranslate()||f<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(f<s.startX&&t.translate<=t.maxTranslate()||f>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}n.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=h;const p=s.currentX-s.startX,m=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(p**2+m**2)<t.params.threshold)return;if(typeof n.isScrolling>"u"){let P;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:p*p+m*m>=25&&(P=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,n.isScrolling=t.isHorizontal()?P>r.touchAngle:90-P>r.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let v=t.isHorizontal()?p:m,y=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=v,v*=r.touchRatio,o&&(v=-v,y=-y);const x=t.touchesDirection;t.swipeDirection=v>0?"prev":"next",t.touchesDirection=y>0?"prev":"next";const w=t.params.loop&&!r.cssMode,_=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!n.isMoved){if(w&&_&&t.loopFix({direction:t.swipeDirection}),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(P)}n.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let b;if(new Date().getTime(),r._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&x!==t.touchesDirection&&w&&_&&Math.abs(v)>=1){Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}t.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=v+n.startTranslate;let S=!0,C=r.resistanceRatio;if(r.touchReleaseOnEdges&&(C=0),v>0?(w&&_&&!b&&n.allowThresholdMove&&n.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>t.minTranslate()&&(S=!1,r.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+v)**C))):v<0&&(w&&_&&!b&&n.allowThresholdMove&&n.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<t.maxTranslate()&&(S=!1,r.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-v)**C))),S&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),r.threshold>0)if(Math.abs(v)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function j9(i){const e=this,t=e.touchEventsData;let n=i;n.originalEvent&&(n=n.originalEvent);let r;if(n.type==="touchend"||n.type==="touchcancel"){if(r=[...n.changedTouches].find(C=>C.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(t.touchId!==null||n.pointerId!==t.pointerId)return;r=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:f}=e;if(!f||!o.simulateTouch&&n.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",n),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=ah(),p=h-t.touchStartTime;if(e.allowClick){const C=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(C&&C[0]||n.target,C),e.emit("tap click",n),p<300&&h-t.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(t.lastClickTime=ah(),k0(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const v=m>=-e.maxTranslate()&&!e.params.loop;let y=0,x=e.slidesSizesGrid[0];for(let C=0;C<c.length;C+=C<o.slidesPerGroupSkip?1:o.slidesPerGroup){const P=C<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[C+P]<"u"?(v||m>=c[C]&&m<c[C+P])&&(y=C,x=c[C+P]-c[C]):(v||m>=c[C])&&(y=C,x=c[c.length-1]-c[c.length-2])}let w=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const b=(m-c[y])/x,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:y+S):e.slideTo(y)),e.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?e.slideTo(y+S):_!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?e.slideTo(_):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(y+S):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:y+S),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:y))}}function e_(){const i=this,{params:e,el:t}=i;if(t&&t.offsetWidth===0)return;e.breakpoints&&i.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:s}=i,o=i.virtual&&i.params.virtual.enabled;i.allowSlideNext=!0,i.allowSlidePrev=!0,i.updateSize(),i.updateSlides(),i.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&i.isEnd&&!i.isBeginning&&!i.params.centeredSlides&&!a?i.slideTo(i.slides.length-1,0,!1,!0):i.params.loop&&!o?i.slideToLoop(i.realIndex,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0),i.autoplay&&i.autoplay.running&&i.autoplay.paused&&(clearTimeout(i.autoplay.resizeTimeout),i.autoplay.resizeTimeout=setTimeout(()=>{i.autoplay&&i.autoplay.running&&i.autoplay.paused&&i.autoplay.resume()},500)),i.allowSlidePrev=r,i.allowSlideNext=n,i.params.watchOverflow&&s!==i.snapGrid&&i.checkOverflow()}function J9(i){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&i.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(i.stopPropagation(),i.stopImmediatePropagation())))}function X9(){const i=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=i;if(!n)return;i.previousTranslate=i.translate,i.isHorizontal()?i.translate=-e.scrollLeft:i.translate=-e.scrollTop,i.translate===0&&(i.translate=0),i.updateActiveIndex(),i.updateSlidesClasses();let r;const s=i.maxTranslate()-i.minTranslate();s===0?r=0:r=(i.translate-i.minTranslate())/s,r!==i.progress&&i.updateProgress(t?-i.translate:i.translate),i.emit("setTranslate",i.translate,!1)}function Y9(i){const e=this;Gd(e,i.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Q9(){const i=this;i.documentTouchHandlerProceeded||(i.documentTouchHandlerProceeded=!0,i.params.touchReleaseOnEdges&&(i.el.style.touchAction="auto"))}const ZE=(i,e)=>{const t=pr(),{params:n,el:r,wrapperEl:s,device:o}=i,a=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(t[l]("touchstart",i.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",i.onTouchStart,{passive:!1}),r[l]("pointerdown",i.onTouchStart,{passive:!1}),t[l]("touchmove",i.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",i.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",i.onTouchEnd,{passive:!0}),t[l]("pointerup",i.onTouchEnd,{passive:!0}),t[l]("pointercancel",i.onTouchEnd,{passive:!0}),t[l]("touchcancel",i.onTouchEnd,{passive:!0}),t[l]("pointerout",i.onTouchEnd,{passive:!0}),t[l]("pointerleave",i.onTouchEnd,{passive:!0}),t[l]("contextmenu",i.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[l]("click",i.onClick,!0),n.cssMode&&s[l]("scroll",i.onScroll),n.updateOnWindowResize?i[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",e_,!0):i[c]("observerUpdate",e_,!0),r[l]("load",i.onLoad,{capture:!0}))};function K9(){const i=this,{params:e}=i;i.onTouchStart=V9.bind(i),i.onTouchMove=W9.bind(i),i.onTouchEnd=j9.bind(i),i.onDocumentTouchStart=Q9.bind(i),e.cssMode&&(i.onScroll=X9.bind(i)),i.onClick=J9.bind(i),i.onLoad=Y9.bind(i),ZE(i,"on")}function q9(){ZE(this,"off")}var Z9={attachEvents:K9,detachEvents:q9};const t_=(i,e)=>i.grid&&e.grid&&e.grid.rows>1;function $9(){const i=this,{realIndex:e,initialized:t,params:n,el:r}=i,s=n.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=pr(),a=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?i.el:o.querySelector(n.breakpointsBase),c=i.getBreakpoint(s,a,l);if(!c||i.currentBreakpoint===c)return;const h=(c in s?s[c]:void 0)||i.originalParams,p=t_(i,n),m=t_(i,h),v=i.params.grabCursor,y=h.grabCursor,x=n.enabled;p&&!m?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),i.emitContainerClasses()):!p&&m&&(r.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&r.classList.add(`${n.containerModifierClass}grid-column`),i.emitContainerClasses()),v&&!y?i.unsetGrabCursor():!v&&y&&i.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof h[P]>"u")return;const R=n[P]&&n[P].enabled,E=h[P]&&h[P].enabled;R&&!E&&i[P].disable(),!R&&E&&i[P].enable()});const w=h.direction&&h.direction!==n.direction,_=n.loop&&(h.slidesPerView!==n.slidesPerView||w),b=n.loop;w&&t&&i.changeDirection(),fi(i.params,h);const S=i.params.enabled,C=i.params.loop;Object.assign(i,{allowTouchMove:i.params.allowTouchMove,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev}),x&&!S?i.disable():!x&&S&&i.enable(),i.currentBreakpoint=c,i.emit("_beforeBreakpoint",h),t&&(_?(i.loopDestroy(),i.loopCreate(e),i.updateSlides()):!b&&C?(i.loopCreate(e),i.updateSlides()):b&&!C&&i.loopDestroy()),i.emit("breakpoint",h)}function eV(i,e,t){if(e===void 0&&(e="window"),!i||e==="container"&&!t)return;let n=!1;const r=Kn(),s=e==="window"?r.innerHeight:t.clientHeight,o=Object.keys(i).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=t.clientWidth&&(n=l)}return n||"max"}var tV={setBreakpoint:$9,getBreakpoint:eV};function nV(i,e){const t=[];return i.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(r=>{n[r]&&t.push(e+r)}):typeof n=="string"&&t.push(e+n)}),t}function iV(){const i=this,{classNames:e,params:t,rtl:n,el:r,device:s}=i,o=nV(["initialized",t.direction,{"free-mode":i.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),i.emitContainerClasses()}function rV(){const i=this,{el:e,classNames:t}=i;!e||typeof e=="string"||(e.classList.remove(...t),i.emitContainerClasses())}var sV={addClasses:iV,removeClasses:rV};function oV(){const i=this,{isLocked:e,params:t}=i,{slidesOffsetBefore:n}=t;if(n){const r=i.slides.length-1,s=i.slidesGrid[r]+i.slidesSizesGrid[r]+n*2;i.isLocked=i.size>s}else i.isLocked=i.snapGrid.length===1;t.allowSlideNext===!0&&(i.allowSlideNext=!i.isLocked),t.allowSlidePrev===!0&&(i.allowSlidePrev=!i.isLocked),e&&e!==i.isLocked&&(i.isEnd=!1),e!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}var aV={checkOverflow:oV},U0={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lV(i,e){return function(n){n===void 0&&(n={});const r=Object.keys(n)[0],s=n[r];if(typeof s!="object"||s===null){fi(e,n);return}if(i[r]===!0&&(i[r]={enabled:!0}),r==="navigation"&&i[r]&&i[r].enabled&&!i[r].prevEl&&!i[r].nextEl&&(i[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&i[r]&&i[r].enabled&&!i[r].el&&(i[r].auto=!0),!(r in i&&"enabled"in s)){fi(e,n);return}typeof i[r]=="object"&&!("enabled"in i[r])&&(i[r].enabled=!0),i[r]||(i[r]={enabled:!1}),fi(e,n)}}const pg={eventsEmitter:s9,update:g9,translate:b9,transition:C9,slide:D9,loop:k9,grabCursor:U9,events:Z9,breakpoints:tV,checkOverflow:aV,classes:sV},mg={};let zy=class Fr{constructor(){let e,t;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=fi({},t),e&&!t.el&&(t.el=e);const o=pr();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const f=[];return o.querySelectorAll(t.el).forEach(h=>{const p=fi({},t,{el:h});f.push(new Fr(p))}),f}const a=this;a.__swiper__=!0,a.support=YE(),a.device=QE({userAgent:t.userAgent}),a.browser=KE(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(f=>{f({params:t,swiper:a,extendParams:lV(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=fi({},U0,l);return a.params=fi({},c,mg,t),a.originalParams=fi({},a.params),a.passedParams=fi({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(f=>{a.on(f,a.params.on[f])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=Wr(t,`.${n.slideClass}, swiper-slide`),s=Kb(r[0]);return Kb(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:n}=e;e.slides=Wr(t,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),o=(n.maxTranslate()-r)*e+r;n.translateTo(o,typeof t>"u"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const n=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=n;let f=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[c]?Math.ceil(s[c].swiperSlideSize):0,p;for(let m=c+1;m<s.length;m+=1)s[m]&&!p&&(h+=Math.ceil(s[m].swiperSlideSize),f+=1,h>l&&(p=!0));for(let m=c-1;m>=0;m-=1)s[m]&&!p&&(h+=s[m].swiperSlideSize,f+=1,h>l&&(p=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(t?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(f+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Gd(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const o=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const n=this,r=n.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):Wr(n,r())[0])();return!o&&t.params.createElements&&(o=G0("div",t.params.wrapperClass),n.append(o),Wr(n,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:n,wrapperEl:o,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Cs(n,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Cs(n,"direction")==="rtl"),wrongRTL:Cs(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Gd(t,s):s.addEventListener("load",o=>{Gd(t,o.target)})}),z0(t),t.initialized=!0,z0(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const n=this,{params:r,el:s,wrapperEl:o,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),WH(n)),n.destroyed=!0),null}static extendDefaults(e){fi(mg,e)}static get extendedDefaults(){return mg}static get defaults(){return U0}static installModule(e){Fr.prototype.__modules__||(Fr.prototype.__modules__=[]);const t=Fr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Fr.installModule(t)),Fr):(Fr.installModule(e),Fr)}};Object.keys(pg).forEach(i=>{Object.keys(pg[i]).forEach(e=>{zy.prototype[e]=pg[i][e]})});zy.use([i9,r9]);const $E=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Yo(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"&&!i.__swiper__}function tl(i,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>t.indexOf(n)<0).forEach(n=>{typeof i[n]>"u"?i[n]=e[n]:Yo(e[n])&&Yo(i[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?i[n]=e[n]:tl(i[n],e[n]):i[n]=e[n]})}function eT(i){return i===void 0&&(i={}),i.navigation&&typeof i.navigation.nextEl>"u"&&typeof i.navigation.prevEl>"u"}function tT(i){return i===void 0&&(i={}),i.pagination&&typeof i.pagination.el>"u"}function nT(i){return i===void 0&&(i={}),i.scrollbar&&typeof i.scrollbar.el>"u"}function iT(i){i===void 0&&(i="");const e=i.split(" ").map(n=>n.trim()).filter(n=>!!n),t=[];return e.forEach(n=>{t.indexOf(n)<0&&t.push(n)}),t.join(" ")}function cV(i){return i===void 0&&(i=""),i?i.includes("swiper-wrapper")?i:`swiper-wrapper ${i}`:"swiper-wrapper"}function uV(i){let{swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=i;const c=r.filter(B=>B!=="children"&&B!=="direction"&&B!=="wrapperClass"),{params:f,pagination:h,navigation:p,scrollbar:m,virtual:v,thumbs:y}=e;let x,w,_,b,S,C,P,R;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(x=!0),r.includes("controller")&&n.controller&&n.controller.control&&f.controller&&!f.controller.control&&(w=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(f.pagination||f.pagination===!1)&&h&&!h.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(f.scrollbar||f.scrollbar===!1)&&m&&!m.el&&(b=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(f.navigation||f.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(S=!0);const E=B=>{e[B]&&(e[B].destroy(),B==="navigation"?(e.isElement&&(e[B].prevEl.remove(),e[B].nextEl.remove()),f[B].prevEl=void 0,f[B].nextEl=void 0,e[B].prevEl=void 0,e[B].nextEl=void 0):(e.isElement&&e[B].el.remove(),f[B].el=void 0,e[B].el=void 0))};r.includes("loop")&&e.isElement&&(f.loop&&!n.loop?C=!0:!f.loop&&n.loop?P=!0:R=!0),c.forEach(B=>{if(Yo(f[B])&&Yo(n[B]))Object.assign(f[B],n[B]),(B==="navigation"||B==="pagination"||B==="scrollbar")&&"enabled"in n[B]&&!n[B].enabled&&E(B);else{const I=n[B];(I===!0||I===!1)&&(B==="navigation"||B==="pagination"||B==="scrollbar")?I===!1&&E(B):f[B]=n[B]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),r.includes("children")&&t&&v&&f.virtual.enabled?(v.slides=t,v.update(!0)):r.includes("virtual")&&v&&f.virtual.enabled&&(t&&(v.slides=t),v.update(!0)),r.includes("children")&&t&&f.loop&&(R=!0),x&&y.init()&&y.update(!0),w&&(e.controller.control=f.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(f.pagination.el=l),h.init(),h.render(),h.update()),b&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(f.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),S&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(f.navigation.nextEl=s),o&&(f.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),(C||R)&&e.loopDestroy(),(P||R)&&e.loopCreate(),e.update()}function fV(i,e){i===void 0&&(i={}),e===void 0&&(e=!0);const t={on:{}},n={},r={};tl(t,U0),t._emitClasses=!0,t.init=!1;const s={},o=$E.map(l=>l.replace(/_/,"")),a=Object.assign({},i);return Object.keys(a).forEach(l=>{typeof i[l]>"u"||(o.indexOf(l)>=0?Yo(i[l])?(t[l]={},r[l]={},tl(t[l],i[l]),tl(r[l],i[l])):(t[l]=i[l],r[l]=i[l]):l.search(/on[A-Z]/)===0&&typeof i[l]=="function"?e?n[`${l[2].toLowerCase()}${l.substr(3)}`]=i[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=i[l]:s[l]=i[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:r,rest:s,events:n}}function dV(i,e){let{el:t,nextEl:n,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=i;eT(e)&&n&&r&&(a.params.navigation.nextEl=n,a.originalParams.navigation.nextEl=n,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),tT(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),nT(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(t)}function hV(i,e,t,n,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(t&&n){const l=n.map(r),c=t.map(r);l.join("")!==c.join("")&&o("children"),n.length!==t.length&&o("children")}return $E.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in i&&l in e)if(Yo(i[l])&&Yo(e[l])){const c=Object.keys(i[l]),f=Object.keys(e[l]);c.length!==f.length?o(l):(c.forEach(h=>{i[l][h]!==e[l][h]&&o(l)}),f.forEach(h=>{i[l][h]!==e[l][h]&&o(l)}))}else i[l]!==e[l]&&o(l)}),s}const pV=i=>{!i||i.destroyed||!i.params.virtual||i.params.virtual&&!i.params.virtual.enabled||(i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.parallax&&i.params.parallax&&i.params.parallax.enabled&&i.parallax.setTranslate())};function ch(){return ch=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ch.apply(this,arguments)}function rT(i){return i.type&&i.type.displayName&&i.type.displayName.includes("SwiperSlide")}function sT(i){const e=[];return Rt.Children.toArray(i).forEach(t=>{rT(t)?e.push(t):t.props&&t.props.children&&sT(t.props.children).forEach(n=>e.push(n))}),e}function mV(i){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Rt.Children.toArray(i).forEach(n=>{if(rT(n))e.push(n);else if(n.props&&n.props.slot&&t[n.props.slot])t[n.props.slot].push(n);else if(n.props&&n.props.children){const r=sT(n.props.children);r.length>0?r.forEach(s=>e.push(s)):t["container-end"].push(n)}else t["container-end"].push(n)}),{slides:e,slots:t}}function gV(i,e,t){if(!t)return null;const n=f=>{let h=f;return f<0?h=e.length+f:h>=e.length&&(h=h-e.length),h},r=i.isHorizontal()?{[i.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:s,to:o}=t,a=i.params.loop?-e.length:0,l=i.params.loop?e.length*2:e.length,c=[];for(let f=a;f<l;f+=1)f>=s&&f<=o&&c.push(e[n(f)]);return c.map((f,h)=>Rt.cloneElement(f,{swiper:i,style:r,key:f.props.virtualIndex||f.key||`slide-${h}`}))}function Mc(i,e){return typeof window>"u"?L.useEffect(i,e):L.useLayoutEffect(i,e)}const n_=L.createContext(null),vV=L.createContext(null),oT=L.forwardRef(function(i,e){let{className:t,tag:n="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=i===void 0?{}:i,l=!1;const[c,f]=L.useState("swiper"),[h,p]=L.useState(null),[m,v]=L.useState(!1),y=L.useRef(!1),x=L.useRef(null),w=L.useRef(null),_=L.useRef(null),b=L.useRef(null),S=L.useRef(null),C=L.useRef(null),P=L.useRef(null),R=L.useRef(null),{params:E,passedParams:B,rest:I,events:O}=fV(a),{slides:W,slots:V}=mV(s),H=()=>{v(!m)};Object.assign(E.on,{_containerClasses(K,J){f(J)}});const q=()=>{Object.assign(E.on,O),l=!0;const K={...E};if(delete K.wrapperClass,w.current=new zy(K),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=W;const J={cache:!1,slides:W,renderExternal:p,renderExternalUpdate:!1};tl(w.current.params.virtual,J),tl(w.current.originalParams.virtual,J)}};x.current||q(),w.current&&w.current.on("_beforeBreakpoint",H);const Z=()=>{l||!O||!w.current||Object.keys(O).forEach(K=>{w.current.on(K,O[K])})},re=()=>{!O||!w.current||Object.keys(O).forEach(K=>{w.current.off(K,O[K])})};L.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",H)}),L.useEffect(()=>{!y.current&&w.current&&(w.current.emitSlidesClasses(),y.current=!0)}),Mc(()=>{if(e&&(e.current=x.current),!!x.current)return w.current.destroyed&&q(),dV({el:x.current,nextEl:S.current,prevEl:C.current,paginationEl:P.current,scrollbarEl:R.current,swiper:w.current},E),o&&!w.current.destroyed&&o(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),Mc(()=>{Z();const K=hV(B,_.current,W,b.current,J=>J.key);return _.current=B,b.current=W,K.length&&w.current&&!w.current.destroyed&&uV({swiper:w.current,slides:W,passedParams:B,changedParams:K,nextEl:S.current,prevEl:C.current,scrollbarEl:R.current,paginationEl:P.current}),()=>{re()}}),Mc(()=>{pV(w.current)},[h]);function z(){return E.virtual?gV(w.current,W,h):W.map((K,J)=>Rt.cloneElement(K,{swiper:w.current,swiperSlideIndex:J}))}return Rt.createElement(n,ch({ref:x,className:iT(`${c}${t?` ${t}`:""}`)},I),Rt.createElement(vV.Provider,{value:w.current},V["container-start"],Rt.createElement(r,{className:cV(E.wrapperClass)},V["wrapper-start"],z(),V["wrapper-end"]),eT(E)&&Rt.createElement(Rt.Fragment,null,Rt.createElement("div",{ref:C,className:"swiper-button-prev"}),Rt.createElement("div",{ref:S,className:"swiper-button-next"})),nT(E)&&Rt.createElement("div",{ref:R,className:"swiper-scrollbar"}),tT(E)&&Rt.createElement("div",{ref:P,className:"swiper-pagination"}),V["container-end"]))});oT.displayName="Swiper";const H0=L.forwardRef(function(i,e){let{tag:t="div",children:n,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...f}=i===void 0?{}:i;const h=L.useRef(null),[p,m]=L.useState("swiper-slide"),[v,y]=L.useState(!1);function x(S,C,P){C===h.current&&m(P)}Mc(()=>{if(typeof c<"u"&&(h.current.swiperSlideIndex=c),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",x),()=>{s&&s.off("_slideClass",x)}}}),Mc(()=>{s&&h.current&&!s.destroyed&&m(s.getSlideClasses(h.current))},[s]);const w={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},_=()=>typeof n=="function"?n(w):n,b=()=>{y(!0)};return Rt.createElement(t,ch({ref:h,className:iT(`${p}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:b},f),o&&Rt.createElement(n_.Provider,{value:w},Rt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_(),a&&!v&&Rt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Rt.createElement(n_.Provider,{value:w},_(),a&&!v&&Rt.createElement("div",{className:"swiper-lazy-preloader"})))});H0.displayName="SwiperSlide";function yV(i){let{swiper:e,extendParams:t,on:n,emit:r,params:s}=i;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,f,h=new Date().getTime(),p,m,v,y,x,w,_;function b(z){!e||e.destroyed||!e.wrapperEl||z.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!(_||z.detail&&z.detail.bySwiperTouchMove)&&I())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(c=f,p=!1);const z=e.autoplay.paused?f:h+c-new Date().getTime();e.autoplay.timeLeft=z,r("autoplayTimeLeft",z,z/l),a=requestAnimationFrame(()=>{S()})},C=()=>{let z;return e.virtual&&e.params.virtual.enabled?z=e.slides.find(J=>J.classList.contains("swiper-slide-active")):z=e.slides[e.activeIndex],z?parseInt(z.getAttribute("data-swiper-autoplay"),10):void 0},P=z=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),S();let K=typeof z>"u"?e.params.autoplay.delay:z;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const J=C();!Number.isNaN(J)&&J>0&&typeof z>"u"&&(K=J,l=J,c=J),f=K;const de=e.params.speed,Y=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(de,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,de,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(de,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,de,!0,!0),r("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return K>0?(clearTimeout(o),o=setTimeout(()=>{Y()},K)):requestAnimationFrame(()=>{Y()}),K},R=()=>{h=new Date().getTime(),e.autoplay.running=!0,P(),r("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},B=(z,K)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),z||(w=!0);const J=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):I()};if(e.autoplay.paused=!0,K){x&&(f=e.params.autoplay.delay),x=!1,J();return}f=(f||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&f<0&&!e.params.loop)&&(f<0&&(f=0),J())},I=()=>{e.isEnd&&f<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),w?(w=!1,P(f)):P(),e.autoplay.paused=!1,r("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const z=pr();z.visibilityState==="hidden"&&(w=!0,B(!0)),z.visibilityState==="visible"&&I()},W=z=>{z.pointerType==="mouse"&&(w=!0,_=!0,!(e.animating||e.autoplay.paused)&&B(!0))},V=z=>{z.pointerType==="mouse"&&(_=!1,e.autoplay.paused&&I())},H=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",W),e.el.addEventListener("pointerleave",V))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",W),e.el.removeEventListener("pointerleave",V))},Z=()=>{pr().addEventListener("visibilitychange",O)},re=()=>{pr().removeEventListener("visibilitychange",O)};n("init",()=>{e.params.autoplay.enabled&&(H(),Z(),R())}),n("destroy",()=>{q(),re(),e.autoplay.running&&E()}),n("_freeModeStaticRelease",()=>{(v||w)&&I()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():B(!0,!0)}),n("beforeTransitionStart",(z,K,J)=>{e.destroyed||!e.autoplay.running||(J||!e.params.autoplay.disableOnInteraction?B(!0,!0):E())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}m=!0,v=!1,w=!1,y=setTimeout(()=>{w=!0,v=!0,B(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){v=!1,m=!1;return}v&&e.params.cssMode&&I(),v=!1,m=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:R,stop:E,pause:B,resume:I})}function xV(i){const{effect:e,swiper:t,on:n,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=i;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(t.params,h),Object.assign(t.originalParams,h)}),n("setTranslate",()=>{t.params.effect===e&&r()}),n("setTransition",(h,p)=>{t.params.effect===e&&s(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),l()}});let f;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(f=!0),requestAnimationFrame(()=>{f&&t.slides&&t.slides.length&&(r(),f=!1)}))})}function AV(i,e){const t=XE(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function wV(i){let{swiper:e,duration:t,transformElements:n,allSlides:r}=i;const{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.find(c=>c.shadowRoot&&c.shadowRoot===a.parentNode);if(e.params.virtualTranslate&&t!==0){let a=!1,l;r?l=n:l=n.filter(c=>{const f=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(f)===s}),l.forEach(c=>{$H(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const f=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(f)})})}}function bV(i){let{swiper:e,extendParams:t,on:n}=i;t({fadeEffect:{crossFade:!1}}),xV({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let h=-c.swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let p=0;e.isHorizontal()||(p=h,h=0);const m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),v=AV(a,c);v.style.opacity=m,v.style.transform=`translate3d(${h}px, ${p}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>XE(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),wV({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const _V=({name:i,description:e,tags:t,image:n,source_code_link:r,live_project_link:s,animate:o})=>{const a=i==="Gestion de Pizzeria";return X(xt.div,{variants:o,children:Ne(UH,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[Ne("div",{className:"relative w-full h-[230px]",children:[a?Ne(oT,{modules:[yV,bV],effect:"fade",autoplay:{delay:4e3,disableOnInteraction:!1},loop:!0,className:"w-full h-full rounded-2xl",children:[X(H0,{children:X("img",{src:n,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})}),X(H0,{children:X("img",{src:q5,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})})]}):X("img",{src:n,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),X("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:X("div",{onClick:()=>window.open(r,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer transition-all duration-300 hover:shadow-[0_0_10px_rgba(128,0,128,0.7)]",children:X("img",{src:v5,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),Ne("div",{className:"mt-5",children:[X("h3",{className:"text-white font-bold text-[24px]",children:i}),X("p",{className:"mt-2 text-secondary text-[14px]",children:e})]}),X("div",{className:"mt-4 flex flex-wrap gap-2",children:t.map((l,c)=>Ne("p",{className:`text-[14px] ${l.color}`,children:["#",l.name]},c))}),s&&X("button",{className:"mt-3 bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-md font-medium transition-all duration-300 hover:shadow-[0_0_10px_rgba(128,0,128,0.7)]",children:"Completed Project"})]})})},SV=()=>{const i=L.useRef(null),e=Cu(i,{once:!0,margin:"0px 0px -200px 0px"}),t=Mu();return L.useEffect(()=>{e&&t.start("visible")},[e,t]),Ne("section",{ref:i,children:[X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("h3",{className:`${yn.sectionSubText} text-center`,children:"Innovative Creations"})}),X(xt.div,{initial:"hidden",animate:t,variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:X("h3",{className:`${yn.sectionHeadText} text-center`,children:"Projects."})}),X(xt.div,{children:X("div",{className:`${window.innerWidth<=768?"grid grid-cols-1 gap-4 place-items-center":"flex flex-wrap gap-7"}`,children:eH.map((n,r)=>X(_V,{animate:window.innerWidth<=768?{}:lr("up","spring",r*.5,.75),...n},`project-${r}`))})})]})},MV=ia(SV,"projects"),Qc={_origin:"https://api.emailjs.com"},CV=(i,e="https://api.emailjs.com")=>{Qc._userID=i,Qc._origin=e},aT=(i,e,t)=>{if(!i)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class i_{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const lT=(i,e,t={})=>new Promise((n,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new i_(o);a.status===200||a.text==="OK"?n(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new i_(o))}),s.open("POST",Qc._origin+i,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),EV=(i,e,t,n)=>{const r=n||Qc._userID;return aT(r,i,e),lT("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},TV=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},PV=(i,e,t,n)=>{const r=n||Qc._userID,s=TV(t);aT(r,i,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",i),o.append("template_id",e),o.append("user_id",r),lT("/api/v1.0/email/send-form",o)},r_={init:CV,send:EV,sendForm:PV};let BV={data:""},IV=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||BV,RV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LV=/\/\*[^]*?\*\/|  +/g,s_=/\n+/g,Ss=(i,e)=>{let t="",n="",r="";for(let s in i){let o=i[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":n+=s[1]=="f"?Ss(o,s):s+"{"+Ss(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ss(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ss.p?Ss.p(s,o):s+":"+o+";")}return t+(e&&r?e+"{"+r+"}":r)+n},Dr={},cT=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+cT(i[t]);return e}return i},DV=(i,e,t,n,r)=>{let s=cT(i),o=Dr[s]||(Dr[s]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(s));if(!Dr[o]){let l=s!==i?i:(c=>{let f,h,p=[{}];for(;f=RV.exec(c.replace(LV,""));)f[4]?p.shift():f[3]?(h=f[3].replace(s_," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][f[1]]=f[2].replace(s_," ").trim();return p[0]})(i);Dr[o]=Ss(r?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&Dr.g?Dr.g:null;return t&&(Dr.g=Dr[o]),((l,c,f,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(Dr[o],e,n,a),o},FV=(i,e,t)=>i.reduce((n,r,s)=>{let o=e[s];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ss(a,""):a===!1?"":a}return n+r+(o??"")},"");function Wh(i){let e=this||{},t=i.call?i(e.p):i;return DV(t.unshift?t.raw?FV(t,[].slice.call(arguments,1),e.p):t.reduce((n,r)=>Object.assign(n,r&&r.call?r(e.p):r),{}):t,IV(e.target),e.g,e.o,e.k)}let uT,V0,W0;Wh.bind({g:1});let Zr=Wh.bind({k:1});function OV(i,e,t,n){Ss.p=e,uT=i,V0=t,W0=n}function Xs(i,e){let t=this||{};return function(){let n=arguments;function r(s,o){let a=Object.assign({},s),l=a.className||r.className;t.p=Object.assign({theme:V0&&V0()},a),t.o=/ *go\d+/.test(l),a.className=Wh.apply(t,n)+(l?" "+l:""),e&&(a.ref=o);let c=i;return i[0]&&(c=a.as||i,delete a.as),W0&&c[0]&&W0(a),uT(c,a)}return e?e(r):r}}var NV=i=>typeof i=="function",uh=(i,e)=>NV(i)?i(e):i,kV=(()=>{let i=0;return()=>(++i).toString()})(),fT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),GV=20,dT=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,GV)};case 1:return{...i,toasts:i.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return dT(i,{type:i.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...i,toasts:i.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let r=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},zd=[],Ro={toasts:[],pausedAt:void 0},ra=i=>{Ro=dT(Ro,i),zd.forEach(e=>{e(Ro)})},zV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},UV=(i={})=>{let[e,t]=L.useState(Ro),n=L.useRef(Ro);L.useEffect(()=>(n.current!==Ro&&t(Ro),zd.push(t),()=>{let s=zd.indexOf(t);s>-1&&zd.splice(s,1)}),[]);let r=e.toasts.map(s=>{var o,a,l;return{...i,...i[s.type],...s,removeDelay:s.removeDelay||((o=i[s.type])==null?void 0:o.removeDelay)||(i==null?void 0:i.removeDelay),duration:s.duration||((a=i[s.type])==null?void 0:a.duration)||(i==null?void 0:i.duration)||zV[s.type],style:{...i.style,...(l=i[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:r}},HV=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||kV()}),Eu=i=>(e,t)=>{let n=HV(e,i,t);return ra({type:2,toast:n}),n.id},Bn=(i,e)=>Eu("blank")(i,e);Bn.error=Eu("error");Bn.success=Eu("success");Bn.loading=Eu("loading");Bn.custom=Eu("custom");Bn.dismiss=i=>{ra({type:3,toastId:i})};Bn.remove=i=>ra({type:4,toastId:i});Bn.promise=(i,e,t)=>{let n=Bn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(r=>{let s=e.success?uh(e.success,r):void 0;return s?Bn.success(s,{id:n,...t,...t==null?void 0:t.success}):Bn.dismiss(n),r}).catch(r=>{let s=e.error?uh(e.error,r):void 0;s?Bn.error(s,{id:n,...t,...t==null?void 0:t.error}):Bn.dismiss(n)}),i};var VV=(i,e)=>{ra({type:1,toast:{id:i,height:e}})},WV=()=>{ra({type:5,time:Date.now()})},Cc=new Map,jV=1e3,JV=(i,e=jV)=>{if(Cc.has(i))return;let t=setTimeout(()=>{Cc.delete(i),ra({type:4,toastId:i})},e);Cc.set(i,t)},XV=i=>{let{toasts:e,pausedAt:t}=UV(i);L.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Bn.dismiss(a.id);return}return setTimeout(()=>Bn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let n=L.useCallback(()=>{t&&ra({type:6,time:Date.now()})},[t]),r=L.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},f=e.filter(m=>(m.position||c)===(s.position||c)&&m.height),h=f.findIndex(m=>m.id===s.id),p=f.filter((m,v)=>v<h&&m.visible).length;return f.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,v)=>m+(v.height||0)+l,0)},[e]);return L.useEffect(()=>{e.forEach(s=>{if(s.dismissed)JV(s.id,s.removeDelay);else{let o=Cc.get(s.id);o&&(clearTimeout(o),Cc.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:VV,startPause:WV,endPause:n,calculateOffset:r}}},YV=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QV=Zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KV=Zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qV=Xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZV=Zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$V=Xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${ZV} 1s linear infinite;
`,e6=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,t6=Zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,n6=Xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${t6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,i6=Xs("div")`
  position: absolute;
`,r6=Xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,s6=Zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,o6=Xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${s6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,a6=({toast:i})=>{let{icon:e,type:t,iconTheme:n}=i;return e!==void 0?typeof e=="string"?L.createElement(o6,null,e):e:t==="blank"?null:L.createElement(r6,null,L.createElement($V,{...n}),t!=="loading"&&L.createElement(i6,null,t==="error"?L.createElement(qV,{...n}):L.createElement(n6,{...n})))},l6=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,c6=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,u6="0%{opacity:0;} 100%{opacity:1;}",f6="0%{opacity:1;} 100%{opacity:0;}",d6=Xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,h6=Xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,p6=(i,e)=>{let t=i.includes("top")?1:-1,[n,r]=fT()?[u6,f6]:[l6(t),c6(t)];return{animation:e?`${Zr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},m6=L.memo(({toast:i,position:e,style:t,children:n})=>{let r=i.height?p6(i.position||e||"top-center",i.visible):{opacity:0},s=L.createElement(a6,{toast:i}),o=L.createElement(h6,{...i.ariaProps},uh(i.message,i));return L.createElement(d6,{className:i.className,style:{...r,...t,...i.style}},typeof n=="function"?n({icon:s,message:o}):L.createElement(L.Fragment,null,s,o))});OV(L.createElement);var g6=({id:i,className:e,style:t,onHeightUpdate:n,children:r})=>{let s=L.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(i,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[i,n]);return L.createElement("div",{ref:s,className:e,style:t},r)},v6=(i,e)=>{let t=i.includes("top"),n=t?{top:0}:{bottom:0},r=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...r}},y6=Wh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sd=16,x6=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:n,children:r,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=XV(t);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Sd,left:Sd,right:Sd,bottom:Sd,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let f=c.position||e,h=l.calculateOffset(c,{reverseOrder:i,gutter:n,defaultPosition:e}),p=v6(f,h);return L.createElement(g6,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?y6:"",style:p},c.type==="custom"?uh(c.message,c):r?r(c):L.createElement(m6,{toast:c,position:f}))}))},Ud={linear:function(i,e,t,n){var r=t-e;return r*i/n+e},easeInQuad:function(i,e,t,n){var r=t-e;return r*(i/=n)*i+e},easeOutQuad:function(i,e,t,n){var r=t-e;return-r*(i/=n)*(i-2)+e},easeInOutQuad:function(i,e,t,n){var r=t-e;return(i/=n/2)<1?r/2*i*i+e:-r/2*(--i*(i-2)-1)+e},easeInCubic:function(i,e,t,n){var r=t-e;return r*(i/=n)*i*i+e},easeOutCubic:function(i,e,t,n){var r=t-e;return r*((i=i/n-1)*i*i+1)+e},easeInOutCubic:function(i,e,t,n){var r=t-e;return(i/=n/2)<1?r/2*i*i*i+e:r/2*((i-=2)*i*i+2)+e},easeInQuart:function(i,e,t,n){var r=t-e;return r*(i/=n)*i*i*i+e},easeOutQuart:function(i,e,t,n){var r=t-e;return-r*((i=i/n-1)*i*i*i-1)+e},easeInOutQuart:function(i,e,t,n){var r=t-e;return(i/=n/2)<1?r/2*i*i*i*i+e:-r/2*((i-=2)*i*i*i-2)+e},easeInQuint:function(i,e,t,n){var r=t-e;return r*(i/=n)*i*i*i*i+e},easeOutQuint:function(i,e,t,n){var r=t-e;return r*((i=i/n-1)*i*i*i*i+1)+e},easeInOutQuint:function(i,e,t,n){var r=t-e;return(i/=n/2)<1?r/2*i*i*i*i*i+e:r/2*((i-=2)*i*i*i*i+2)+e},easeInSine:function(i,e,t,n){var r=t-e;return-r*Math.cos(i/n*(Math.PI/2))+r+e},easeOutSine:function(i,e,t,n){var r=t-e;return r*Math.sin(i/n*(Math.PI/2))+e},easeInOutSine:function(i,e,t,n){var r=t-e;return-r/2*(Math.cos(Math.PI*i/n)-1)+e},easeInExpo:function(i,e,t,n){var r=t-e;return i==0?e:r*Math.pow(2,10*(i/n-1))+e},easeOutExpo:function(i,e,t,n){var r=t-e;return i==n?e+r:r*(-Math.pow(2,-10*i/n)+1)+e},easeInOutExpo:function(i,e,t,n){var r=t-e;return i===0?e:i===n?e+r:(i/=n/2)<1?r/2*Math.pow(2,10*(i-1))+e:r/2*(-Math.pow(2,-10*--i)+2)+e},easeInCirc:function(i,e,t,n){var r=t-e;return-r*(Math.sqrt(1-(i/=n)*i)-1)+e},easeOutCirc:function(i,e,t,n){var r=t-e;return r*Math.sqrt(1-(i=i/n-1)*i)+e},easeInOutCirc:function(i,e,t,n){var r=t-e;return(i/=n/2)<1?-r/2*(Math.sqrt(1-i*i)-1)+e:r/2*(Math.sqrt(1-(i-=2)*i)+1)+e},easeInElastic:function(i,e,t,n){var r=t-e,s,o,a;return a=1.70158,o=0,s=r,i===0?e:(i/=n)===1?e+r:(o||(o=n*.3),s<Math.abs(r)?(s=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/s),-(s*Math.pow(2,10*(i-=1))*Math.sin((i*n-a)*(2*Math.PI)/o))+e)},easeOutElastic:function(i,e,t,n){var r=t-e,s,o,a;return a=1.70158,o=0,s=r,i===0?e:(i/=n)===1?e+r:(o||(o=n*.3),s<Math.abs(r)?(s=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*i)*Math.sin((i*n-a)*(2*Math.PI)/o)+r+e)},easeInOutElastic:function(i,e,t,n){var r=t-e,s,o,a;return a=1.70158,o=0,s=r,i===0?e:(i/=n/2)===2?e+r:(o||(o=n*(.3*1.5)),s<Math.abs(r)?(s=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/s),i<1?-.5*(s*Math.pow(2,10*(i-=1))*Math.sin((i*n-a)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(i-=1))*Math.sin((i*n-a)*(2*Math.PI)/o)*.5+r+e)},easeInBack:function(i,e,t,n,r){var s=t-e;return r===void 0&&(r=1.70158),s*(i/=n)*i*((r+1)*i-r)+e},easeOutBack:function(i,e,t,n,r){var s=t-e;return r===void 0&&(r=1.70158),s*((i=i/n-1)*i*((r+1)*i+r)+1)+e},easeInOutBack:function(i,e,t,n,r){var s=t-e;return r===void 0&&(r=1.70158),(i/=n/2)<1?s/2*(i*i*(((r*=1.525)+1)*i-r))+e:s/2*((i-=2)*i*(((r*=1.525)+1)*i+r)+2)+e},easeInBounce:function(i,e,t,n){var r=t-e,s;return s=Ud.easeOutBounce(n-i,0,r,n),r-s+e},easeOutBounce:function(i,e,t,n){var r=t-e;return(i/=n)<1/2.75?r*(7.5625*i*i)+e:i<2/2.75?r*(7.5625*(i-=1.5/2.75)*i+.75)+e:i<2.5/2.75?r*(7.5625*(i-=2.25/2.75)*i+.9375)+e:r*(7.5625*(i-=2.625/2.75)*i+.984375)+e},easeInOutBounce:function(i,e,t,n){var r=t-e,s;return i<n/2?(s=Ud.easeInBounce(i*2,0,r,n),s*.5+e):(s=Ud.easeOutBounce(i*2-n,0,r,n),s*.5+r*.5+e)}},A6=Ud;function w6(i){return i*Math.PI/180}function ui(i,e){return i+Math.random()*(e-i)}function b6(i,e){return Math.floor(i+Math.random()*(e-i+1))}var Ec;(function(i){i[i.Circle=0]="Circle",i[i.Square=1]="Square",i[i.Strip=2]="Strip"})(Ec||(Ec={}));var _s;(function(i){i[i.Positive=1]="Positive",i[i.Negative=-1]="Negative"})(_s||(_s={}));const _6=1e3/60;class S6{constructor(e,t,n,r){this.getOptions=t;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=n,this.y=r,this.w=ui(5,20),this.h=ui(5,20),this.radius=ui(5,10),this.vx=typeof o=="number"?ui(-o,o):ui(o.min,o.max),this.vy=typeof a=="number"?ui(-a,0):ui(a.min,a.max),this.shape=b6(0,2),this.angle=w6(ui(0,360)),this.angularSpin=ui(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=ui(0,1),this.rotationDirection=ui(0,1)?_s.Positive:_s.Negative}update(e){const{gravity:t,wind:n,friction:r,opacity:s,drawShape:o}=this.getOptions(),a=e/_6;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=t*a,this.vx+=n*a,this.vx*=r**a,this.vy*=r**a,this.rotateY>=1&&this.rotationDirection===_s.Positive?this.rotationDirection=_s.Negative:this.rotateY<=-1&&this.rotationDirection===_s.Negative&&(this.rotationDirection=_s.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case Ec.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Ec.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Ec.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class M6{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=ui(this.x,this.w+this.x),s=ui(this.y,this.h+this.y);return new S6(this.context,this.getOptions,r,s)},this.animate=r=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:f,numberOfPieces:h,debug:p,tweenFunction:m,tweenDuration:v}=this.getOptions();if(!c)return!1;const y=this.particles.length,x=f?y:a;if(x<h){l!==h&&(this.tweenProgress=0,this.tweenFrom=x,this.lastNumberOfPieces=h),this.tweenProgress=Math.min(v,Math.max(0,this.tweenProgress+r));const w=m(this.tweenProgress,this.tweenFrom,h,v),_=Math.round(w-x);for(let b=0;b<_;b++)this.particles.push(this.getParticle());this.particlesGenerated+=_}p&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,s.width-10,s.height-20));for(let w=this.particles.length-1;w>=0;w--){const _=this.particles[w];_.update(r),(_.y>s.height||_.y<-100||_.x>s.width+100||_.x<-100)&&(f&&x<=h?this.particles[w]=this.getParticle():this.removeParticleAt(w))}return y>0||x<h},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const Uy={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:A6.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class C6{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=r=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...Uy,...r},Object.assign(this,r.confettiSource)},this.update=(r=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,f=Math.min(r-this.lastFrameTime,50);if(a&&f<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=r-(a?f%a:0),s&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(f)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new M6(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var r,s;const t=(r=this._options)==null?void 0:r.run,n=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}}const E6=Rt.createRef();class Hy extends Rt.Component{constructor(e){super(e),this.canvas=Rt.createRef(),this.canvas=e.canvasRef||E6}componentDidMount(){if(this.canvas.current){const e=gg(this.props)[0];this.confetti=new C6(this.canvas.current,e)}}componentDidUpdate(){const e=gg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=gg(this.props),n={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return X("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:n})}}Hy.defaultProps={...Uy};Hy.displayName="ReactConfetti";function gg(i){const e={},t={},n={},r=[...Object.keys(Uy),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in i){const a=i[o];r.includes(o)?e[o]=a:s.includes(o)?s[o]=a:n[o]=a}return[e,n,t]}const T6=Rt.forwardRef((i,e)=>X(Hy,{canvasRef:e,...i}));/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function P6(i,e,t){return(e=I6(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function o_(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function _e(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(t),!0).forEach(function(n){P6(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):o_(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function B6(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function I6(i){var e=B6(i,"string");return typeof e=="symbol"?e:e+""}const a_=()=>{};let Vy={},hT={},pT=null,mT={mark:a_,measure:a_};try{typeof window<"u"&&(Vy=window),typeof document<"u"&&(hT=document),typeof MutationObserver<"u"&&(pT=MutationObserver),typeof performance<"u"&&(mT=performance)}catch{}const{userAgent:l_=""}=Vy.navigator||{},ks=Vy,jt=hT,c_=pT,Md=mT;ks.document;const is=!!jt.documentElement&&!!jt.head&&typeof jt.addEventListener=="function"&&typeof jt.createElement=="function",gT=~l_.indexOf("MSIE")||~l_.indexOf("Trident/");var R6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,L6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,vT={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},D6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yT=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],zn="classic",jh="duotone",F6="sharp",O6="sharp-duotone",xT=[zn,jh,F6,O6],N6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},k6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},G6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),z6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},U6=["fak","fa-kit","fakd","fa-kit-duotone"],u_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},H6=["kit"],V6={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},W6=["fak","fakd"],j6={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},f_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Cd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},J6=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],X6=["fak","fa-kit","fakd","fa-kit-duotone"],Y6={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Q6={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},K6={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},j0={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},q6=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],J0=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...J6,...q6],Z6=["solid","regular","light","thin","duotone","brands"],AT=[1,2,3,4,5,6,7,8,9,10],$6=AT.concat([11,12,13,14,15,16,17,18,19,20]),e8=[...Object.keys(K6),...Z6,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Cd.GROUP,Cd.SWAP_OPACITY,Cd.PRIMARY,Cd.SECONDARY].concat(AT.map(i=>"".concat(i,"x"))).concat($6.map(i=>"w-".concat(i))),t8={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const $r="___FONT_AWESOME___",X0=16,wT="fa",bT="svg-inline--fa",Qo="data-fa-i2svg",Y0="data-fa-pseudo-element",n8="data-fa-pseudo-element-pending",Wy="data-prefix",jy="data-icon",d_="fontawesome-i2svg",i8="async",r8=["HTML","HEAD","STYLE","SCRIPT"],_T=(()=>{try{return!0}catch{return!1}})();function Tu(i){return new Proxy(i,{get(e,t){return t in e?e[t]:e[zn]}})}const ST=_e({},vT);ST[zn]=_e(_e(_e(_e({},{"fa-duotone":"duotone"}),vT[zn]),u_.kit),u_["kit-duotone"]);const s8=Tu(ST),Q0=_e({},z6);Q0[zn]=_e(_e(_e(_e({},{duotone:"fad"}),Q0[zn]),f_.kit),f_["kit-duotone"]);const h_=Tu(Q0),K0=_e({},j0);K0[zn]=_e(_e({},K0[zn]),j6.kit);const Jy=Tu(K0),q0=_e({},Q6);q0[zn]=_e(_e({},q0[zn]),V6.kit);Tu(q0);const o8=R6,MT="fa-layers-text",a8=L6,l8=_e({},N6);Tu(l8);const c8=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],vg=D6,u8=[...H6,...e8],Tc=ks.FontAwesomeConfig||{};function f8(i){var e=jt.querySelector("script["+i+"]");if(e)return e.getAttribute(i)}function d8(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}jt&&typeof jt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const r=d8(f8(t));r!=null&&(Tc[n]=r)});const CT={styleDefault:"solid",familyDefault:zn,cssPrefix:wT,replacementClass:bT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tc.familyPrefix&&(Tc.cssPrefix=Tc.familyPrefix);const dl=_e(_e({},CT),Tc);dl.autoReplaceSvg||(dl.observeMutations=!1);const Qe={};Object.keys(CT).forEach(i=>{Object.defineProperty(Qe,i,{enumerable:!0,set:function(e){dl[i]=e,Pc.forEach(t=>t(Qe))},get:function(){return dl[i]}})});Object.defineProperty(Qe,"familyPrefix",{enumerable:!0,set:function(i){dl.cssPrefix=i,Pc.forEach(e=>e(Qe))},get:function(){return dl.cssPrefix}});ks.FontAwesomeConfig=Qe;const Pc=[];function h8(i){return Pc.push(i),()=>{Pc.splice(Pc.indexOf(i),1)}}const As=X0,ur={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function p8(i){if(!i||!is)return;const e=jt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=i;const t=jt.head.childNodes;let n=null;for(let r=t.length-1;r>-1;r--){const s=t[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=s)}return jt.head.insertBefore(e,n),i}const m8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kc(){let i=12,e="";for(;i-- >0;)e+=m8[Math.random()*62|0];return e}function Sl(i){const e=[];for(let t=(i||[]).length>>>0;t--;)e[t]=i[t];return e}function Xy(i){return i.classList?Sl(i.classList):(i.getAttribute("class")||"").split(" ").filter(e=>e)}function ET(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g8(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,'="').concat(ET(i[t]),'" '),"").trim()}function Jh(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,": ").concat(i[t].trim(),";"),"")}function Yy(i){return i.size!==ur.size||i.x!==ur.x||i.y!==ur.y||i.rotate!==ur.rotate||i.flipX||i.flipY}function v8(i){let{transform:e,containerWidth:t,iconWidth:n}=i;const r={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(n/2*-1," -256)")};return{outer:r,inner:l,path:c}}function y8(i){let{transform:e,width:t=X0,height:n=X0,startCentered:r=!1}=i,s="";return r&&gT?s+="translate(".concat(e.x/As-t/2,"em, ").concat(e.y/As-n/2,"em) "):r?s+="translate(calc(-50% + ".concat(e.x/As,"em), calc(-50% + ").concat(e.y/As,"em)) "):s+="translate(".concat(e.x/As,"em, ").concat(e.y/As,"em) "),s+="scale(".concat(e.size/As*(e.flipX?-1:1),", ").concat(e.size/As*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var x8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function TT(){const i=wT,e=bT,t=Qe.cssPrefix,n=Qe.replacementClass;let r=x8;if(t!==i||n!==e){const s=new RegExp("\\.".concat(i,"\\-"),"g"),o=new RegExp("\\--".concat(i,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(n))}return r}let p_=!1;function yg(){Qe.autoAddCss&&!p_&&(p8(TT()),p_=!0)}var A8={mixout(){return{dom:{css:TT,insertCss:yg}}},hooks(){return{beforeDOMElementCreation(){yg()},beforeI2svg(){yg()}}}};const es=ks||{};es[$r]||(es[$r]={});es[$r].styles||(es[$r].styles={});es[$r].hooks||(es[$r].hooks={});es[$r].shims||(es[$r].shims=[]);var fr=es[$r];const PT=[],BT=function(){jt.removeEventListener("DOMContentLoaded",BT),fh=1,PT.map(i=>i())};let fh=!1;is&&(fh=(jt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(jt.readyState),fh||jt.addEventListener("DOMContentLoaded",BT));function w8(i){is&&(fh?setTimeout(i,0):PT.push(i))}function Pu(i){const{tag:e,attributes:t={},children:n=[]}=i;return typeof i=="string"?ET(i):"<".concat(e," ").concat(g8(t),">").concat(n.map(Pu).join(""),"</").concat(e,">")}function m_(i,e,t){if(i&&i[e]&&i[e][t])return{prefix:e,iconName:t,icon:i[e][t]}}var b8=function(e,t){return function(n,r,s,o){return e.call(t,n,r,s,o)}},xg=function(e,t,n,r){var s=Object.keys(e),o=s.length,a=r!==void 0?b8(t,r):t,l,c,f;for(n===void 0?(l=1,f=e[s[0]]):(l=0,f=n);l<o;l++)c=s[l],f=a(f,e[c],c,e);return f};function _8(i){const e=[];let t=0;const n=i.length;for(;t<n;){const r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){const s=i.charCodeAt(t++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function Z0(i){const e=_8(i);return e.length===1?e[0].toString(16):null}function S8(i,e){const t=i.length;let n=i.charCodeAt(e),r;return n>=55296&&n<=56319&&t>e+1&&(r=i.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function g_(i){return Object.keys(i).reduce((e,t)=>{const n=i[t];return!!n.icon?e[n.iconName]=n.icon:e[t]=n,e},{})}function $0(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=t,r=g_(e);typeof fr.hooks.addPack=="function"&&!n?fr.hooks.addPack(i,g_(e)):fr.styles[i]=_e(_e({},fr.styles[i]||{}),r),i==="fas"&&$0("fa",e)}const{styles:qc,shims:M8}=fr,IT=Object.keys(Jy),C8=IT.reduce((i,e)=>(i[e]=Object.keys(Jy[e]),i),{});let Qy=null,RT={},LT={},DT={},FT={},OT={};function E8(i){return~u8.indexOf(i)}function T8(i,e){const t=e.split("-"),n=t[0],r=t.slice(1).join("-");return n===i&&r!==""&&!E8(r)?r:null}const NT=()=>{const i=n=>xg(qc,(r,s,o)=>(r[o]=xg(s,n,{}),r),{});RT=i((n,r,s)=>(r[3]&&(n[r[3]]=s),r[2]&&r[2].filter(a=>typeof a=="number").forEach(a=>{n[a.toString(16)]=s}),n)),LT=i((n,r,s)=>(n[s]=s,r[2]&&r[2].filter(a=>typeof a=="string").forEach(a=>{n[a]=s}),n)),OT=i((n,r,s)=>{const o=r[2];return n[s]=s,o.forEach(a=>{n[a]=s}),n});const e="far"in qc||Qe.autoFetchSvg,t=xg(M8,(n,r)=>{const s=r[0];let o=r[1];const a=r[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(n.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(n.unicodes[s.toString(16)]={prefix:o,iconName:a}),n},{names:{},unicodes:{}});DT=t.names,FT=t.unicodes,Qy=Xh(Qe.styleDefault,{family:Qe.familyDefault})};h8(i=>{Qy=Xh(i.styleDefault,{family:Qe.familyDefault})});NT();function Ky(i,e){return(RT[i]||{})[e]}function P8(i,e){return(LT[i]||{})[e]}function Lo(i,e){return(OT[i]||{})[e]}function kT(i){return DT[i]||{prefix:null,iconName:null}}function B8(i){const e=FT[i],t=Ky("fas",i);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Gs(){return Qy}const GT=()=>({prefix:null,iconName:null,rest:[]});function I8(i){let e=zn;const t=IT.reduce((n,r)=>(n[r]="".concat(Qe.cssPrefix,"-").concat(r),n),{});return xT.forEach(n=>{(i.includes(t[n])||i.some(r=>C8[n].includes(r)))&&(e=n)}),e}function Xh(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=zn}=e,n=s8[t][i];if(t===jh&&!i)return"fad";const r=h_[t][i]||h_[t][n],s=i in fr.styles?i:null;return r||s||null}function R8(i){let e=[],t=null;return i.forEach(n=>{const r=T8(Qe.cssPrefix,n);r?t=r:n&&e.push(n)}),{iconName:t,rest:e}}function v_(i){return i.sort().filter((e,t,n)=>n.indexOf(e)===t)}function Yh(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let n=null;const r=J0.concat(X6),s=v_(i.filter(h=>r.includes(h))),o=v_(i.filter(h=>!J0.includes(h))),a=s.filter(h=>(n=h,!yT.includes(h))),[l=null]=a,c=I8(s),f=_e(_e({},R8(o)),{},{prefix:Xh(l,{family:c})});return _e(_e(_e({},f),O8({values:i,family:c,styles:qc,config:Qe,canonical:f,givenPrefix:n})),L8(t,n,f))}function L8(i,e,t){let{prefix:n,iconName:r}=t;if(i||!n||!r)return{prefix:n,iconName:r};const s=e==="fa"?kT(r):{},o=Lo(n,r);return r=s.iconName||o||r,n=s.prefix||n,n==="far"&&!qc.far&&qc.fas&&!Qe.autoFetchSvg&&(n="fas"),{prefix:n,iconName:r}}const D8=xT.filter(i=>i!==zn||i!==jh),F8=Object.keys(j0).filter(i=>i!==zn).map(i=>Object.keys(j0[i])).flat();function O8(i){const{values:e,family:t,canonical:n,givenPrefix:r="",styles:s={},config:o={}}=i,a=t===jh,l=e.includes("fa-duotone")||e.includes("fad"),c=o.familyDefault==="duotone",f=n.prefix==="fad"||n.prefix==="fa-duotone";if(!a&&(l||c||f)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&D8.includes(t)&&(Object.keys(s).find(p=>F8.includes(p))||o.autoFetchSvg)){const p=G6.get(t).defaultShortPrefixId;n.prefix=p,n.iconName=Lo(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||r==="fa")&&(n.prefix=Gs()||"fas"),n}class N8{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(s=>{this.definitions[s]=_e(_e({},this.definitions[s]||{}),r[s]),$0(s,r[s]);const o=Jy[zn][s];o&&$0(o,r[s]),NT()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(r=>{const{prefix:s,iconName:o,icon:a}=n[r],l=a[2];e[s]||(e[s]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[s][c]=a)}),e[s][o]=a}),e}}let y_=[],Qa={};const nl={},k8=Object.keys(nl);function G8(i,e){let{mixoutsTo:t}=e;return y_=i,Qa={},Object.keys(nl).forEach(n=>{k8.indexOf(n)===-1&&delete nl[n]}),y_.forEach(n=>{const r=n.mixout?n.mixout():{};if(Object.keys(r).forEach(s=>{typeof r[s]=="function"&&(t[s]=r[s]),typeof r[s]=="object"&&Object.keys(r[s]).forEach(o=>{t[s]||(t[s]={}),t[s][o]=r[s][o]})}),n.hooks){const s=n.hooks();Object.keys(s).forEach(o=>{Qa[o]||(Qa[o]=[]),Qa[o].push(s[o])})}n.provides&&n.provides(nl)}),t}function ev(i,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return(Qa[i]||[]).forEach(o=>{e=o.apply(null,[e,...n])}),e}function Ko(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];(Qa[i]||[]).forEach(s=>{s.apply(null,t)})}function zs(){const i=arguments[0],e=Array.prototype.slice.call(arguments,1);return nl[i]?nl[i].apply(null,e):void 0}function tv(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:e}=i;const t=i.prefix||Gs();if(e)return e=Lo(t,e)||e,m_(zT.definitions,t,e)||m_(fr.styles,t,e)}const zT=new N8,z8=()=>{Qe.autoReplaceSvg=!1,Qe.observeMutations=!1,Ko("noAuto")},U8={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return is?(Ko("beforeI2svg",i),zs("pseudoElements2svg",i),zs("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=i;Qe.autoReplaceSvg===!1&&(Qe.autoReplaceSvg=!0),Qe.observeMutations=!0,w8(()=>{V8({autoReplaceSvgRoot:e}),Ko("watch",i)})}},H8={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:Lo(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const e=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],t=Xh(i[0]);return{prefix:t,iconName:Lo(t,e)||e}}if(typeof i=="string"&&(i.indexOf("".concat(Qe.cssPrefix,"-"))>-1||i.match(o8))){const e=Yh(i.split(" "),{skipLookups:!0});return{prefix:e.prefix||Gs(),iconName:Lo(e.prefix,e.iconName)||e.iconName}}if(typeof i=="string"){const e=Gs();return{prefix:e,iconName:Lo(e,i)||i}}}},gi={noAuto:z8,config:Qe,dom:U8,parse:H8,library:zT,findIconDefinition:tv,toHtml:Pu},V8=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=jt}=i;(Object.keys(fr.styles).length>0||Qe.autoFetchSvg)&&is&&Qe.autoReplaceSvg&&gi.dom.i2svg({node:e})};function Qh(i,e){return Object.defineProperty(i,"abstract",{get:e}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(t=>Pu(t))}}),Object.defineProperty(i,"node",{get:function(){if(!is)return;const t=jt.createElement("div");return t.innerHTML=i.html,t.children}}),i}function W8(i){let{children:e,main:t,mask:n,attributes:r,styles:s,transform:o}=i;if(Yy(o)&&t.found&&!n.found){const{width:a,height:l}=t,c={x:a/l/2,y:.5};r.style=Jh(_e(_e({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function j8(i){let{prefix:e,iconName:t,children:n,attributes:r,symbol:s}=i;const o=s===!0?"".concat(e,"-").concat(Qe.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_e(_e({},r),{},{id:o}),children:n}]}]}function qy(i){const{icons:{main:e,mask:t},prefix:n,iconName:r,transform:s,symbol:o,title:a,maskId:l,titleId:c,extra:f,watchable:h=!1}=i,{width:p,height:m}=t.found?t:e,v=W6.includes(n),y=[Qe.replacementClass,r?"".concat(Qe.cssPrefix,"-").concat(r):""].filter(C=>f.classes.indexOf(C)===-1).filter(C=>C!==""||!!C).concat(f.classes).join(" ");let x={children:[],attributes:_e(_e({},f.attributes),{},{"data-prefix":n,"data-icon":r,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})};const w=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};h&&(x.attributes[Qo]=""),a&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(c||Kc())},children:[a]}),delete x.attributes.title);const _=_e(_e({},x),{},{prefix:n,iconName:r,main:e,mask:t,maskId:l,transform:s,symbol:o,styles:_e(_e({},w),f.styles)}),{children:b,attributes:S}=t.found&&e.found?zs("generateAbstractMask",_)||{children:[],attributes:{}}:zs("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=b,_.attributes=S,o?j8(_):W8(_)}function x_(i){const{content:e,width:t,height:n,transform:r,title:s,extra:o,watchable:a=!1}=i,l=_e(_e(_e({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(l[Qo]="");const c=_e({},o.styles);Yy(r)&&(c.transform=y8({transform:r,startCentered:!0,width:t,height:n}),c["-webkit-transform"]=c.transform);const f=Jh(c);f.length>0&&(l.style=f);const h=[];return h.push({tag:"span",attributes:l,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function J8(i){const{content:e,title:t,extra:n}=i,r=_e(_e(_e({},n.attributes),t?{title:t}:{}),{},{class:n.classes.join(" ")}),s=Jh(n.styles);s.length>0&&(r.style=s);const o=[];return o.push({tag:"span",attributes:r,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}const{styles:Ag}=fr;function nv(i){const e=i[0],t=i[1],[n]=i.slice(4);let r=null;return Array.isArray(n)?r={tag:"g",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(vg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(vg.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Qe.cssPrefix,"-").concat(vg.PRIMARY),fill:"currentColor",d:n[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:t,icon:r}}const X8={found:!1,width:512,height:512};function Y8(i,e){!_T&&!Qe.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(e,'" is missing.'))}function iv(i,e){let t=e;return e==="fa"&&Qe.styleDefault!==null&&(e=Gs()),new Promise((n,r)=>{if(t==="fa"){const s=kT(i)||{};i=s.iconName||i,e=s.prefix||e}if(i&&e&&Ag[e]&&Ag[e][i]){const s=Ag[e][i];return n(nv(s))}Y8(i,e),n(_e(_e({},X8),{},{icon:Qe.showMissingIcons&&i?zs("missingIconAbstract")||{}:{}}))})}const A_=()=>{},rv=Qe.measurePerformance&&Md&&Md.mark&&Md.measure?Md:{mark:A_,measure:A_},pc='FA "6.7.2"',Q8=i=>(rv.mark("".concat(pc," ").concat(i," begins")),()=>UT(i)),UT=i=>{rv.mark("".concat(pc," ").concat(i," ends")),rv.measure("".concat(pc," ").concat(i),"".concat(pc," ").concat(i," begins"),"".concat(pc," ").concat(i," ends"))};var Zy={begin:Q8,end:UT};const Hd=()=>{};function w_(i){return typeof(i.getAttribute?i.getAttribute(Qo):null)=="string"}function K8(i){const e=i.getAttribute?i.getAttribute(Wy):null,t=i.getAttribute?i.getAttribute(jy):null;return e&&t}function q8(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(Qe.replacementClass)}function Z8(){return Qe.autoReplaceSvg===!0?Vd.replace:Vd[Qe.autoReplaceSvg]||Vd.replace}function $8(i){return jt.createElementNS("http://www.w3.org/2000/svg",i)}function eW(i){return jt.createElement(i)}function HT(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=i.tag==="svg"?$8:eW}=e;if(typeof i=="string")return jt.createTextNode(i);const n=t(i.tag);return Object.keys(i.attributes||[]).forEach(function(s){n.setAttribute(s,i.attributes[s])}),(i.children||[]).forEach(function(s){n.appendChild(HT(s,{ceFn:t}))}),n}function tW(i){let e=" ".concat(i.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Vd={replace:function(i){const e=i[0];if(e.parentNode)if(i[1].forEach(t=>{e.parentNode.insertBefore(HT(t),e)}),e.getAttribute(Qo)===null&&Qe.keepOriginalSource){let t=jt.createComment(tW(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(i){const e=i[0],t=i[1];if(~Xy(e).indexOf(Qe.replacementClass))return Vd.replace(i);const n=new RegExp("".concat(Qe.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const s=t[0].attributes.class.split(" ").reduce((o,a)=>(a===Qe.replacementClass||a.match(n)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});t[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const r=t.map(s=>Pu(s)).join(`
`);e.setAttribute(Qo,""),e.innerHTML=r}};function b_(i){i()}function VT(i,e){const t=typeof e=="function"?e:Hd;if(i.length===0)t();else{let n=b_;Qe.mutateApproach===i8&&(n=ks.requestAnimationFrame||b_),n(()=>{const r=Z8(),s=Zy.begin("mutate");i.map(r),s(),t()})}}let $y=!1;function WT(){$y=!0}function sv(){$y=!1}let dh=null;function __(i){if(!c_||!Qe.observeMutations)return;const{treeCallback:e=Hd,nodeCallback:t=Hd,pseudoElementsCallback:n=Hd,observeMutationsRoot:r=jt}=i;dh=new c_(s=>{if($y)return;const o=Gs();Sl(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!w_(a.addedNodes[0])&&(Qe.searchPseudoElements&&n(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&Qe.searchPseudoElements&&n(a.target.parentNode),a.type==="attributes"&&w_(a.target)&&~c8.indexOf(a.attributeName))if(a.attributeName==="class"&&K8(a.target)){const{prefix:l,iconName:c}=Yh(Xy(a.target));a.target.setAttribute(Wy,l||o),c&&a.target.setAttribute(jy,c)}else q8(a.target)&&t(a.target)})}),is&&dh.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function nW(){dh&&dh.disconnect()}function iW(i){const e=i.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((n,r)=>{const s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(n[o]=a.join(":").trim()),n},{})),t}function rW(i){const e=i.getAttribute("data-prefix"),t=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"";let r=Yh(Xy(i));return r.prefix||(r.prefix=Gs()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&n.length>0&&(r.iconName=P8(r.prefix,i.innerText)||Ky(r.prefix,Z0(i.innerText))),!r.iconName&&Qe.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=i.firstChild.data)),r}function sW(i){const e=Sl(i.attributes).reduce((r,s)=>(r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r),{}),t=i.getAttribute("title"),n=i.getAttribute("data-fa-title-id");return Qe.autoA11y&&(t?e["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(n||Kc()):(e["aria-hidden"]="true",e.focusable="false")),e}function oW(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ur,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function S_(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:n,rest:r}=rW(i),s=sW(i),o=ev("parseNodeAttributes",{},i);let a=e.styleParser?iW(i):[];return _e({iconName:t,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:n,transform:ur,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:a,attributes:s}},o)}const{styles:aW}=fr;function jT(i){const e=Qe.autoReplaceSvg==="nest"?S_(i,{styleParser:!1}):S_(i);return~e.extra.classes.indexOf(MT)?zs("generateLayersText",i,e):zs("generateSvgReplacementMutation",i,e)}function lW(){return[...U6,...J0]}function M_(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!is)return Promise.resolve();const t=jt.documentElement.classList,n=f=>t.add("".concat(d_,"-").concat(f)),r=f=>t.remove("".concat(d_,"-").concat(f)),s=Qe.autoFetchSvg?lW():yT.concat(Object.keys(aW));s.includes("fa")||s.push("fa");const o=[".".concat(MT,":not([").concat(Qo,"])")].concat(s.map(f=>".".concat(f,":not([").concat(Qo,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Sl(i.querySelectorAll(o))}catch{}if(a.length>0)n("pending"),r("complete");else return Promise.resolve();const l=Zy.begin("onTree"),c=a.reduce((f,h)=>{try{const p=jT(h);p&&f.push(p)}catch(p){_T||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,h)=>{Promise.all(c).then(p=>{VT(p,()=>{n("active"),n("complete"),r("pending"),typeof e=="function"&&e(),l(),f()})}).catch(p=>{l(),h(p)})})}function cW(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;jT(i).then(t=>{t&&VT([t],e)})}function uW(i){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:tv(e||{});let{mask:r}=t;return r&&(r=(r||{}).icon?r:tv(r||{})),i(n,_e(_e({},t),{},{mask:r}))}}const fW=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ur,symbol:n=!1,mask:r=null,maskId:s=null,title:o=null,titleId:a=null,classes:l=[],attributes:c={},styles:f={}}=e;if(!i)return;const{prefix:h,iconName:p,icon:m}=i;return Qh(_e({type:"icon"},i),()=>(Ko("beforeDOMElementCreation",{iconDefinition:i,params:e}),Qe.autoA11y&&(o?c["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(a||Kc()):(c["aria-hidden"]="true",c.focusable="false")),qy({icons:{main:nv(m),mask:r?nv(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:p,transform:_e(_e({},ur),t),symbol:n,title:o,maskId:s,titleId:a,extra:{attributes:c,styles:f,classes:l}})))};var dW={mixout(){return{icon:uW(fW)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=M_,i.nodeCallback=cW,i}}},provides(i){i.i2svg=function(e){const{node:t=jt,callback:n=()=>{}}=e;return M_(t,n)},i.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:s,prefix:o,transform:a,symbol:l,mask:c,maskId:f,extra:h}=t;return new Promise((p,m)=>{Promise.all([iv(n,o),c.iconName?iv(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[y,x]=v;p([e,qy({icons:{main:y,mask:x},prefix:o,iconName:n,transform:a,symbol:l,maskId:f,title:r,titleId:s,extra:h,watchable:!0})])}).catch(m)})},i.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:s,styles:o}=e;const a=Jh(o);a.length>0&&(n.style=a);let l;return Yy(s)&&(l=zs("generateAbstractTransformGrouping",{main:r,transform:s,containerWidth:r.width,iconWidth:r.width})),t.push(l||r.icon),{children:t,attributes:n}}}},hW={mixout(){return{layer(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Qh({type:"layer"},()=>{Ko("beforeDOMElementCreation",{assembler:i,params:e});let n=[];return i(r=>{Array.isArray(r)?r.map(s=>{n=n.concat(s.abstract)}):n=n.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(Qe.cssPrefix,"-layers"),...t].join(" ")},children:n}]})}}}},pW={mixout(){return{counter(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:n=[],attributes:r={},styles:s={}}=e;return Qh({type:"counter",content:i},()=>(Ko("beforeDOMElementCreation",{content:i,params:e}),J8({content:i.toString(),title:t,extra:{attributes:r,styles:s,classes:["".concat(Qe.cssPrefix,"-layers-counter"),...n]}})))}}}},mW={mixout(){return{text(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=ur,title:n=null,classes:r=[],attributes:s={},styles:o={}}=e;return Qh({type:"text",content:i},()=>(Ko("beforeDOMElementCreation",{content:i,params:e}),x_({content:i,transform:_e(_e({},ur),t),title:n,extra:{attributes:s,styles:o,classes:["".concat(Qe.cssPrefix,"-layers-text"),...r]}})))}}},provides(i){i.generateLayersText=function(e,t){const{title:n,transform:r,extra:s}=t;let o=null,a=null;if(gT){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();o=c.width/l,a=c.height/l}return Qe.autoA11y&&!n&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,x_({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:s,watchable:!0})])}}};const gW=new RegExp('"',"ug"),C_=[1105920,1112319],E_=_e(_e(_e(_e({},{FontAwesome:{normal:"fas",400:"fas"}}),k6),t8),Y6),ov=Object.keys(E_).reduce((i,e)=>(i[e.toLowerCase()]=E_[e],i),{}),vW=Object.keys(ov).reduce((i,e)=>{const t=ov[e];return i[e]=t[900]||[...Object.entries(t)][0][1],i},{});function yW(i){const e=i.replace(gW,""),t=S8(e,0),n=t>=C_[0]&&t<=C_[1],r=e.length===2?e[0]===e[1]:!1;return{value:Z0(r?e[0]:e),isSecondary:n||r}}function xW(i,e){const t=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),r=isNaN(n)?"normal":n;return(ov[t]||{})[r]||vW[t]}function T_(i,e){const t="".concat(n8).concat(e.replace(":","-"));return new Promise((n,r)=>{if(i.getAttribute(t)!==null)return n();const o=Sl(i.children).filter(p=>p.getAttribute(Y0)===e)[0],a=ks.getComputedStyle(i,e),l=a.getPropertyValue("font-family"),c=l.match(a8),f=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!c)return i.removeChild(o),n();if(c&&h!=="none"&&h!==""){const p=a.getPropertyValue("content");let m=xW(l,f);const{value:v,isSecondary:y}=yW(p),x=c[0].startsWith("FontAwesome");let w=Ky(m,v),_=w;if(x){const b=B8(v);b.iconName&&b.prefix&&(w=b.iconName,m=b.prefix)}if(w&&!y&&(!o||o.getAttribute(Wy)!==m||o.getAttribute(jy)!==_)){i.setAttribute(t,_),o&&i.removeChild(o);const b=oW(),{extra:S}=b;S.attributes[Y0]=e,iv(w,m).then(C=>{const P=qy(_e(_e({},b),{},{icons:{main:C,mask:GT()},prefix:m,iconName:_,extra:S,watchable:!0})),R=jt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?i.insertBefore(R,i.firstChild):i.appendChild(R),R.outerHTML=P.map(E=>Pu(E)).join(`
`),i.removeAttribute(t),n()}).catch(r)}else n()}else n()})}function AW(i){return Promise.all([T_(i,"::before"),T_(i,"::after")])}function wW(i){return i.parentNode!==document.head&&!~r8.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(Y0)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function P_(i){if(is)return new Promise((e,t)=>{const n=Sl(i.querySelectorAll("*")).filter(wW).map(AW),r=Zy.begin("searchPseudoElements");WT(),Promise.all(n).then(()=>{r(),sv(),e()}).catch(()=>{r(),sv(),t()})})}var bW={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=P_,i}}},provides(i){i.pseudoElements2svg=function(e){const{node:t=jt}=e;Qe.searchPseudoElements&&P_(t)}}};let B_=!1;var _W={mixout(){return{dom:{unwatch(){WT(),B_=!0}}}},hooks(){return{bootstrap(){__(ev("mutationObserverCallbacks",{}))},noAuto(){nW()},watch(i){const{observeMutationsRoot:e}=i;B_?sv():__(ev("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const I_=i=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((t,n)=>{const r=n.toLowerCase().split("-"),s=r[0];let o=r.slice(1).join("-");if(s&&o==="h")return t.flipX=!0,t;if(s&&o==="v")return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(s){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o;break}return t},e)};var SW={mixout(){return{parse:{transform:i=>I_(i)}}},hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-transform");return t&&(i.transform=I_(t)),i}}},provides(i){i.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:s}=e;const o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),f={transform:"".concat(a," ").concat(l," ").concat(c)},h={transform:"translate(".concat(s/2*-1," -256)")},p={outer:o,inner:f,path:h};return{tag:"g",attributes:_e({},p.outer),children:[{tag:"g",attributes:_e({},p.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:_e(_e({},t.icon.attributes),p.path)}]}]}}}};const wg={x:0,y:0,width:"100%",height:"100%"};function R_(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||e)&&(i.attributes.fill="black"),i}function MW(i){return i.tag==="g"?i.children:[i]}var CW={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-mask"),n=t?Yh(t.split(" ").map(r=>r.trim())):GT();return n.prefix||(n.prefix=Gs()),i.mask=n,i.maskId=e.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:s,maskId:o,transform:a}=e;const{width:l,icon:c}=r,{width:f,icon:h}=s,p=v8({transform:a,containerWidth:f,iconWidth:l}),m={tag:"rect",attributes:_e(_e({},wg),{},{fill:"white"})},v=c.children?{children:c.children.map(R_)}:{},y={tag:"g",attributes:_e({},p.inner),children:[R_(_e({tag:c.tag,attributes:_e(_e({},c.attributes),p.path)},v))]},x={tag:"g",attributes:_e({},p.outer),children:[y]},w="mask-".concat(o||Kc()),_="clip-".concat(o||Kc()),b={tag:"mask",attributes:_e(_e({},wg),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,x]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:MW(h)},b]};return t.push(S,{tag:"rect",attributes:_e({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(w,")")},wg)}),{children:t,attributes:n}}}},EW={provides(i){let e=!1;ks.matchMedia&&(e=ks.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:_e(_e({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=_e(_e({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:_e(_e({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:_e(_e({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_e(_e({},s),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:_e(_e({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:_e(_e({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:_e(_e({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_e(_e({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},TW={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-symbol"),n=t===null?!1:t===""?!0:t;return i.symbol=n,i}}}},PW=[A8,dW,hW,pW,mW,bW,_W,SW,CW,EW,TW];G8(PW,{mixoutsTo:gi});gi.noAuto;gi.config;gi.library;gi.dom;const av=gi.parse;gi.findIconDefinition;gi.toHtml;const BW=gi.icon;gi.layer;gi.text;gi.counter;function L_(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function cr(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(t),!0).forEach(function(n){Ka(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):L_(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function hh(i){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(i)}function Ka(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function IW(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function RW(i,e){if(i==null)return{};var t=IW(i,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function lv(i){return LW(i)||DW(i)||FW(i)||OW()}function LW(i){if(Array.isArray(i))return cv(i)}function DW(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function FW(i,e){if(i){if(typeof i=="string")return cv(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cv(i,e)}}function cv(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function OW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(i){var e,t=i.beat,n=i.fade,r=i.beatFade,s=i.bounce,o=i.shake,a=i.flash,l=i.spin,c=i.spinPulse,f=i.spinReverse,h=i.pulse,p=i.fixedWidth,m=i.inverse,v=i.border,y=i.listItem,x=i.flip,w=i.size,_=i.rotation,b=i.pull,S=(e={"fa-beat":t,"fa-fade":n,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":f,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":p,"fa-inverse":m,"fa-border":v,"fa-li":y,"fa-flip":x===!0,"fa-flip-horizontal":x==="horizontal"||x==="both","fa-flip-vertical":x==="vertical"||x==="both"},Ka(e,"fa-".concat(w),typeof w<"u"&&w!==null),Ka(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Ka(e,"fa-pull-".concat(b),typeof b<"u"&&b!==null),Ka(e,"fa-swap-opacity",i.swapOpacity),e);return Object.keys(S).map(function(C){return S[C]?C:null}).filter(function(C){return C})}function kW(i){return i=i-0,i===i}function JT(i){return kW(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var GW=["style"];function zW(i){return i.charAt(0).toUpperCase()+i.slice(1)}function UW(i){return i.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),r=JT(t.slice(0,n)),s=t.slice(n+1).trim();return r.startsWith("webkit")?e[zW(r)]=s:e[r]=s,e},{})}function XT(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(l){return XT(i,l)}),r=Object.keys(e.attributes||{}).reduce(function(l,c){var f=e.attributes[c];switch(c){case"class":l.attrs.className=f,delete e.attributes.class;break;case"style":l.attrs.style=UW(f);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=f:l.attrs[JT(c)]=f}return l},{attrs:{}}),s=t.style,o=s===void 0?{}:s,a=RW(t,GW);return r.attrs.style=cr(cr({},r.attrs.style),o),i.apply(void 0,[e.tag,cr(cr({},r.attrs),a)].concat(lv(n)))}var YT=!1;try{YT=!0}catch{}function HW(){if(!YT&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function D_(i){if(i&&hh(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(av.icon)return av.icon(i);if(i===null)return null;if(i&&hh(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function bg(i,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ka({},i,e):{}}var F_={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Nr=Rt.forwardRef(function(i,e){var t=cr(cr({},F_),i),n=t.icon,r=t.mask,s=t.symbol,o=t.className,a=t.title,l=t.titleId,c=t.maskId,f=D_(n),h=bg("classes",[].concat(lv(NW(t)),lv((o||"").split(" ")))),p=bg("transform",typeof t.transform=="string"?av.transform(t.transform):t.transform),m=bg("mask",D_(r)),v=BW(f,cr(cr(cr(cr({},h),p),m),{},{symbol:s,title:a,titleId:l,maskId:c}));if(!v)return HW("Could not find icon",f),null;var y=v.abstract,x={ref:e};return Object.keys(t).forEach(function(w){F_.hasOwnProperty(w)||(x[w]=t[w])}),VW(y[0],x)});Nr.displayName="FontAwesomeIcon";Nr.propTypes={beat:At.bool,border:At.bool,beatFade:At.bool,bounce:At.bool,className:At.string,fade:At.bool,flash:At.bool,mask:At.oneOfType([At.object,At.array,At.string]),maskId:At.string,fixedWidth:At.bool,inverse:At.bool,flip:At.oneOf([!0,!1,"horizontal","vertical","both"]),icon:At.oneOfType([At.object,At.array,At.string]),listItem:At.bool,pull:At.oneOf(["right","left"]),pulse:At.bool,rotation:At.oneOf([0,90,180,270]),shake:At.bool,size:At.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:At.bool,spinPulse:At.bool,spinReverse:At.bool,symbol:At.oneOfType([At.bool,At.string]),title:At.string,titleId:At.string,transform:At.oneOfType([At.string,At.object]),swapOpacity:At.bool};var VW=XT.bind(null,Rt.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const WW={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},jW={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},JW={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},XW={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},YW={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},O_={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},QW="service_k0t8saf",KW="template_2yv1ree",qW="FBCRr49kDYqIPRwOv",ZW=()=>{const i=L.useRef(),[e,t]=L.useState({name:"",email:"",message:""}),[n,r]=L.useState(!1),[s,o]=L.useState(!1),[a,l]=L.useState(!1),[c,f]=L.useState({width:window.innerWidth,height:window.innerHeight}),h=()=>{f({width:window.innerWidth,height:window.innerHeight})};L.useEffect(()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),L.useEffect(()=>(a?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[a]);const p=y=>{const{name:x,value:w}=y.target;t({...e,[x]:w})},m=y=>{if(y.preventDefault(),!e.name||!e.email||!e.message){Bn.error("Please fill all fields before submitting. ",{duration:3e3,position:"bottom-right"});return}r(!0),r_.init(qW);const x=new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});r_.send(QW,KW,{from_name:e.name,to_name:"Barchach Hamza",from_email:e.email,to_email:"barchachhamza8@gmail.com",message:e.message,date:x}).then(()=>{r(!1),o(!0),t({name:"",email:"",message:""}),Bn.success("Message sent successfully!",{duration:3e3,position:"bottom-right"}),l(!0),setTimeout(()=>{o(!1),l(!1)},5e3)},w=>{r(!1),console.error(w),Bn.error("Something went wrong. Please try again.",{duration:3e3,position:"bottom-right"})})},v=L.useCallback(()=>{l(!1)},[]);return Ne("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden no-select",children:[X(x6,{}),a&&X(T6,{width:c.width,height:c.height,recycle:!1,numberOfPieces:c.width>768?200:100,onConfettiComplete:v}),Ne(xt.div,{variants:Wb("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[Ne("div",{className:"flex justify-between items-center mb-4",children:[X("p",{className:yn.sectionSubText,children:"Get in touch"}),Ne("a",{href:"tel:+212669470602",className:"text-purple-500 hover:text-purple-400 transition-colors duration-300 flex items-center",children:[X(Nr,{icon:jW,className:"mr-2"}),"(212) 669-470602"]})]}),X("h3",{className:yn.sectionHeadText,children:"Contact."}),Ne("form",{ref:i,onSubmit:m,className:"mt-12 flex flex-col gap-8",children:[Ne("div",{className:"flex flex-col sm:flex-row gap-8",children:[X("div",{className:"flex-1",children:Ne("label",{className:"flex flex-col",children:[Ne("span",{className:"text-white font-medium mb-4",children:[X(Nr,{icon:WW,className:"text-purple-500 mr-2"})," ","Name"]}),X("input",{type:"text",name:"name",value:e.name,onChange:p,placeholder:"Your name",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium transition-all duration-300 focus:ring-2 focus:ring-purple-500"})]})}),X("div",{className:"flex-1",children:Ne("label",{className:"flex flex-col",children:[Ne("span",{className:"text-white font-medium mb-4",children:[X(Nr,{icon:XW,className:"text-purple-500 mr-2"})," ","Email"]}),X("input",{type:"email",name:"email",value:e.email,onChange:p,placeholder:"Your email",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium transition-all duration-300 focus:ring-2 focus:ring-purple-500"})]})})]}),Ne("label",{className:"flex flex-col",children:[Ne("span",{className:"text-white font-medium mb-4",children:[X(Nr,{icon:JW,className:"text-purple-500 mr-2"})," ","Message"]}),X("textarea",{rows:7,name:"message",value:e.message,onChange:p,placeholder:"Hey Barchach Hamza, love the website! I'd like to chat about some opportunities you might like! ",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium transition-all duration-300 focus:ring-2 focus:ring-purple-500"})]}),X("button",{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 flex items-center justify-center",disabled:n,children:n?X(Nr,{icon:YW,spin:!0}):s?Ne("span",{className:"flex items-center",children:["Sent Successfully",X(Nr,{icon:O_,className:"ml-2"})]}):Ne("span",{className:"flex items-center",children:["Send Message",X(Nr,{icon:O_,className:"ml-2"})]})})]})]}),X(xt.div,{variants:Wb("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:X(Ik,{})})]})},$W=ia(ZW,"contact");function e7(){return X(vP,{children:Ne("div",{className:"relative z-0 bg-primary",children:[Ne("div",{className:"div bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[X(nH,{}),X(p5,{})]}),X(sH,{}),X(TH,{}),X(RH,{}),X(FH,{}),X(uH,{}),X(MV,{}),Ne("div",{className:"div relative z-0",children:[X($W,{}),X(Hk,{})]})]})})}var t7="@vercel/analytics",n7="1.5.0",i7=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function QT(){return typeof window<"u"}function KT(){try{const i="production"}catch{}return"production"}function r7(i="auto"){if(i==="auto"){window.vam=KT();return}window.vam=i}function s7(){return(QT()?window.vam:KT())||"production"}function uv(){return s7()==="development"}function o7(i){return i.scriptSrc?i.scriptSrc:uv()?"https://va.vercel-scripts.com/v1/script.debug.js":i.basePath?`${i.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function a7(i={debug:!0}){var e;if(!QT())return;r7(i.mode),i7(),i.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",i.beforeSend));const t=o7(i);if(document.head.querySelector(`script[src*="${t}"]`))return;const n=document.createElement("script");n.src=t,n.defer=!0,n.dataset.sdkn=t7+(i.framework?`/${i.framework}`:""),n.dataset.sdkv=n7,i.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),i.endpoint?n.dataset.endpoint=i.endpoint:i.basePath&&(n.dataset.endpoint=`${i.basePath}/insights`),i.dsn&&(n.dataset.dsn=i.dsn),n.onerror=()=>{const r=uv()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${t}. ${r}`)},uv()&&i.debug===!1&&(n.dataset.debug="false"),document.head.appendChild(n)}function l7({route:i,path:e}){var t;(t=window.va)==null||t.call(window,"pageview",{route:i,path:e})}function c7(){if(!(typeof process>"u"||typeof process.env>"u"))return{}.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function u7(i){return L.useEffect(()=>{var e;i.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",i.beforeSend))},[i.beforeSend]),L.useEffect(()=>{a7({framework:i.framework||"react",basePath:i.basePath??c7(),...i.route!==void 0&&{disableAutoTrack:!0},...i})},[]),L.useEffect(()=>{i.route&&i.path&&l7({route:i.route,path:i.path})},[i.route,i.path]),null}J2.createRoot(document.getElementById("root")).render(Ne(Rt.StrictMode,{children:[X(e7,{}),X(u7,{})," "]}));
